http = require("socket.http")
https = require("ssl.https")
JSON = dofile("./JoKeR_lib/dkjson.lua")
json = dofile("./JoKeR_lib/JSON.lua")
URL = dofile("./JoKeR_lib/url.lua")
serpent = dofile("./JoKeR_lib/serpent.lua")
redis = dofile("./JoKeR_lib/redis.lua").connect("127.0.0.1", 6379)
JoKeR_Server = io.popen("echo $SSH_CLIENT | awk '{ print $1}'"):read('*a')
--------------------------------------------------------------------------------------------------------------
local AutoSet = function() 
local create = function(data, file, uglify)  
file = io.open(file, "w+")   
local serialized   
if not uglify then  
serialized = serpent.block(data, {comment = false, name = "Info"})  
else  
serialized = serpent.dump(data)  
end    
file:write(serialized)    
file:close()  
end  
if not redis:get(JoKeR_Server..":token") then
io.write('\27[0;31m\nтЦ╕ Send Your Token Bot ~ ╪з╪▒╪│┘Д ╪к┘И┘Г┘Ж ╪з┘Д╪и┘И╪к\n\27')
local token = io.read()
if token ~= '' then
local url , res = https.request('https://api.telegram.org/bot'..token..'/getMe')
if res ~= 200 then
print('\27[1;31mтЦ╕ Sorry The Token is not Correct ~ ╪╣╪░╪▒╪з┘Л ╪з┘Д╪к┘И┘Г┘Ж ┘Д┘К╪│ ╪╡╪н┘К╪н')
else
io.write('\27[0;32m тЦ╕ The Token Is Saved ~ ╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪к┘И┘Г┘Ж\n27[0;39;49m')
redis:set(JoKeR_Server..":token",token)
end 
else
print('\27[1;31mтЦ╕ The Token was not Saved ~ ┘Д┘Е ┘К╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪к┘И┘Г┘Ж')
end 
os.execute('lua JoKeR.lua')
end
if not redis:get(JoKeR_Server..":SUDO:ID") then
io.write('\27[0;31m\nтЦ╕  Send Your Id Sudo : ~ ╪з╪▒╪│┘Д ╪з┘К╪п┘К ╪з┘Д┘Е╪╖┘И╪▒\n\27[0;33;49m')
local SUDOID = io.read()
if SUDOID ~= '' then
io.write('\27[0;32m тЦ╕ The Id Is Saved ~ ╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪з┘К╪п┘К \n27[0;39;49m')
redis:set(JoKeR_Server..":SUDO:ID",SUDOID)
else
print('\27[0;31mтЦ╕ The Id Is Not Saved Send Again ~ ┘Д┘Е ┘К╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪з┘К╪п┘К ╪з╪▒╪│┘Д ╪з┘Д╪з┘К╪п┘К ┘Е╪▒╪й ╪з╪о╪▒┘Й')
end 
os.execute('lua JoKeR.lua')
end
local create_config_auto = function()
config = {
token = redis:get(JoKeR_Server..":token"),
SUDO = redis:get(JoKeR_Server..":SUDO:ID"),
 }
create(config, "./info_JoKeR_TeaM.lua")   
end 
create_config_auto()
print('\n\27[1;34m Hi Welcome To Source Boyka X ')
file = io.open("JoKeR", "w")  
file:write([[
#!/usr/bin/env bash
cd $HOME/JoKeR
token="]]..redis:get(JoKeR_Server..":token")..[["
while(true) do
rm -fr ../.telegram-cli
if [ ! -f ./tg ]; then
echo "тадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад"
echo "TG IS NOT FIND IN FILES BOT"
echo "тадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад"
exit 1
fi
if [ ! $token ]; then
echo "тадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад"
echo -e "\e[1;36mTOKEN IS NOT FIND IN FILE info_JoKeR_TeaM.lua \e[0m"
echo "тадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад"
exit 1
fi
echo -e "\033[38;5;208m"
echo -e "                                                  "
echo -e "\033[0;00m"
echo -e "\e[36m"
./tg -s ./JoKeR.lua -p PROFILE --bot=$token
done
]])  
file:close()  
file = io.open("Run", "w")  
file:write([[
#!/usr/bin/env bash
cd $HOME/JoKeR
while(true) do
rm -fr ../.telegram-cli
screen -S JoKeR -X kill
screen -S JoKeR ./JoKeR
done
]])  
file:close() 
os.execute('rm -fr $HOME/.telegram-cli')
end 
local serialize_to_file = function(data, file, uglify)  
file = io.open(file, "w+")  
local serialized  
if not uglify then   
serialized = serpent.block(data, {comment = false, name = "Info"})  
else   
serialized = serpent.dump(data) 
end  
file:write(serialized)  
file:close() 
end 
local load_redis = function()  
local f = io.open("./info_JoKeR_TeaM.lua", "r")  
if not f then   
AutoSet()  
else   
f:close()  
redis:del(JoKeR_Server..":token")
redis:del(JoKeR_Server..":SUDO:ID")
end  
local config = loadfile("./info_JoKeR_TeaM.lua")() 
return config 
end 
_redis = load_redis()  
--------------------------------------------------------------------------------------------------------------
print("\27[0;31m"..[[
 ________  ______  _______  ________ _______   ______  
|        \/      \|       \|        \       \ /      \ 
 \$$$$$$$$  $$$$$$\ $$$$$$$\ $$$$$$$$ $$$$$$$\  $$$$$$\
   | $$  | $$  | $$ $$__| $$ $$__   | $$  | $$ $$  | $$
   | $$  | $$  | $$ $$    $$ $$  \  | $$  | $$ $$  | $$
   | $$  | $$  | $$ $$$$$$$\ $$$$$  | $$  | $$ $$  | $$
   | $$  | $$__/ $$ $$  | $$ $$_____| $$__/ $$ $$__/ $$
   | $$   \$$    $$ $$  | $$ $$     \ $$    $$\$$    $$
    \$$    \$$$$$$ \$$   \$$\$$$$$$$$\$$$$$$$  \$$$$$$.
]].."\n\027[00m")
print("\27[0;32m"..[[
тЦ╕ Dev : @bbbbl
тЦ╕ Ch SourcE : @JoKeR_aHs
]].."\n\027[00m")
--------------------------------------------------------------------------------------------------------------------------
sudos = dofile("./info_JoKeR_TeaM.lua") 
SUDO = tonumber(sudos.SUDO)
sudo_users = {SUDO}
JoKeR = sudos.token:match("(%d+)")  
token = sudos.token 
--- start functions 
-------------------------------------------------------------------------------------------------------------- 
function vardump(value)
print(serpent.block(value, {comment=false}))   
end 
--------------------------------------------------------------------------------------------------------------
sudo_users = {SUDO,842721206,297625513}   
function Sudo_JoKeR(msg)  
local JoKeR = false  
for k,v in pairs(sudo_users) do  
if tonumber(msg.sender_user_id_) == tonumber(v) then  
JoKeR = true  
end  
end  
return JoKeR  
end
--------------------------------------------------------------------------------------------------------------
function Sudo(msg) 
local hash = redis:sismember(JoKeR..'Sudo:User', msg.sender_user_id_) 
if hash or Sudo_JoKeR(msg) then  
return true  
else  
return false  
end  
end
--------------------------------------------------------------------------------------------------------------
function BasicConstructor(msg)
local hash = redis:sismember(JoKeR..'Basic:Constructor'..msg.chat_id_, msg.sender_user_id_) 
if hash or Sudo_JoKeR(msg) or Sudo(msg) then 
return true 
else 
return false 
end 
end
--------------------------------------------------------------------------------------------------------------
function Constructor(msg)
local hash = redis:sismember(JoKeR..'Constructor'..msg.chat_id_, msg.sender_user_id_) 
if hash or Sudo_JoKeR(msg) or Sudo(msg) or BasicConstructor(msg) then    
return true    
else    
return false    
end 
end
--------------------------------------------------------------------------------------------------------------
function Owners(msg)
local hash = redis:sismember(JoKeR..'Owners'..msg.chat_id_,msg.sender_user_id_)    
if hash or Sudo_JoKeR(msg) or Sudo(msg) or BasicConstructor(msg) or Constructor(msg) then    
return true    
else    
return false    
end 
end
--------------------------------------------------------------------------------------------------------------
function Mod(msg)
local hash = redis:sismember(JoKeR..'Mod:User'..msg.chat_id_,msg.sender_user_id_)    
if hash or Sudo_JoKeR(msg) or Sudo(msg) or BasicConstructor(msg) or Constructor(msg) or Owners(msg) then    
return true    
else    
return false    
end 
end
--------------------------------------------------------------------------------------------------------------
function Vips(msg)
local hash = redis:sismember(JoKeR..'Vips:User'..msg.chat_id_,msg.sender_user_id_) 
if hash or Sudo_JoKeR(msg) or Sudo(msg) or BasicConstructor(msg) or Constructor(msg) or Owners(msg) or Mod(msg) then    
return true 
else 
return false 
end 
end
--------------------------------------------------------------------------------------------------------------
function Can_or_NotCan(user_id,chat_id)
if tonumber(user_id) == tonumber(842721206) then  
var = true  
elseif tonumber(user_id) == tonumber(297625513) then
var = true  
elseif tonumber(user_id) == tonumber(SUDO) then  
var = true  
elseif redis:sismember(JoKeR..'Sudo:User', user_id) then
var = true  
elseif redis:sismember(JoKeR..'Basic:Constructor'..chat_id, user_id) then
var = true
elseif redis:sismember(JoKeR..'Constructor'..chat_id, user_id) then
var = true  
elseif redis:sismember(JoKeR..'Owners'..chat_id, user_id) then
var = true  
elseif redis:sismember(JoKeR..'Mod:User'..chat_id, user_id) then
var = true  
elseif redis:sismember(JoKeR..'Vips:User'..chat_id, user_id) then  
var = true  
elseif redis:sismember(JoKeR..'Mamez:User'..chat_id, user_id) then  
var = true 
else  
var = false  
end  
return var
end 
--------------------------------------------------------------------------------------------------------------
function Rutba(user_id,chat_id)
if tonumber(user_id) == tonumber(842721206) then  
var = '┘Е╪и╪▒┘Е╪м ╪з┘Д╪│┘И╪▒╪│'
elseif tonumber(user_id) == tonumber(297625513) then
var = '┘Е╪и╪▒┘Е╪м ╪з┘Д╪│┘И╪▒╪│'
elseif tonumber(user_id) == tonumber(SUDO) then
var = '╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К'  
elseif tonumber(user_id) == tonumber(JoKeR) then  
var = '╪з┘Д╪и┘И╪кЁЯдЦ'
elseif redis:sismember(JoKeR..'Sudo:User', user_id) then
var = redis:get(JoKeR.."Sudo:Rd"..msg.chat_id_) or '╪з┘Д┘Е╪╖┘И╪▒'  
elseif redis:sismember(JoKeR..'Basic:Constructor'..chat_id, user_id) then
var = redis:get(JoKeR.."BasicConstructor:Rd"..msg.chat_id_) or '╪з┘Д┘Е┘Ж╪┤╪ж ╪з╪│╪з╪│┘К'
elseif redis:sismember(JoKeR..'Constructor'..chat_id, user_id) then
var = redis:get(JoKeR.."Constructor:Rd"..msg.chat_id_) or '╪з┘Д┘Е┘Ж╪┤╪ж'  
elseif redis:sismember(JoKeR..'Owners'..chat_id, user_id) then
var = redis:get(JoKeR.."Owners:Rd"..msg.chat_id_) or '╪з┘Д┘Е╪п┘К╪▒'  
elseif redis:sismember(JoKeR..'Mod:User'..chat_id, user_id) then
var = redis:get(JoKeR.."Mod:Rd"..msg.chat_id_) or '╪з┘Д╪з╪п┘Е┘Ж'  
elseif redis:sismember(JoKeR..'Mamez:User', user_id) then
var = redis:get(JoKeR.."Mamez:Rd"..msg.chat_id_) or '┘Е┘Е┘К╪▓ ╪╣╪з┘Е'  
elseif redis:sismember(JoKeR..'Vips:User'..chat_id, user_id) then  
var = redis:get(JoKeR.."Vips:Rd"..msg.chat_id_) or '╪з┘Д┘Е┘Е┘К╪▓'  
else  
var = redis:get(JoKeR.."Memp:Rd"..msg.chat_id_) or '╪з┘Д╪╣╪╢┘И'
end  
return var
end
--------------------------------------------------------------------------------------------------------------
function ChekAdd(chat_id)
if redis:sismember(JoKeR.."Chek:Groups",chat_id) then
var = true
else 
var = false
end
return var
end
--------------------------------------------------------------------------------------------------------------
function Muted_User(Chat_id,User_id) 
if redis:sismember(JoKeR..'Muted:User'..Chat_id,User_id) then
Var = true
else
Var = false
end
return Var
end
--------------------------------------------------------------------------------------------------------------
function Ban_User(Chat_id,User_id) 
if redis:sismember(JoKeR..'Ban:User'..Chat_id,User_id) then
Var = true
else
Var = false
end
return Var
end
--------------------------------------------------------------------------------------------------------------
function GBan_User(User_id) 
if redis:sismember(JoKeR..'GBan:User',User_id) then
Var = true
else
Var = false
end
return Var
end
--------------------------------------------------------------------------------------------------------------
function Gmute_User(User_id) 
if redis:sismember(JoKeR..'Gmute:User',User_id) then
Var = true
else
Var = false
end
return Var
end
--------------------------------------------------------------------------------------------------------------
function AddChannel(User)
local var = true
if redis:get(JoKeR..'add:ch:id') then
local url , res = https.request("https://api.telegram.org/bot"..token.."/getchatmember?chat_id="..redis:get(JoKeR..'add:ch:id').."&user_id="..User);
data = json:decode(url)
if res ~= 200 or data.result.status == "left" or data.result.status == "kicked" then
var = false
end
end
return var
end
--------------------------------------------------------------------------------------------------------------
function sleep(n) os.execute("sleep " .. tonumber(n)) end  
--------------------------------------------------------------------------------------------------------------

function dl_cb(a,d)
end
function getChatId(id)
local chat = {}
local id = tostring(id)
if id:match('^-100') then
local channel_id = id:gsub('-100', '')
chat = {ID = channel_id, type = 'channel'}
else
local group_id = id:gsub('-', '')
chat = {ID = group_id, type = 'group'}
end
return chat
end
function chat_kick(chat,user)
tdcli_function ({
ID = "ChangeChatMemberStatus",
chat_id_ = chat,
user_id_ = user,
status_ = {ID = "ChatMemberStatusKicked"},},function(arg,data) end,nil)
end
function send(chat_id, reply_to_message_id, text)
local TextParseMode = {ID = "TextParseModeMarkdown"}
tdcli_function ({ID = "SendMessage",chat_id_ = chat_id,reply_to_message_id_ = reply_to_message_id,disable_notification_ = 1,from_background_ = 1,reply_markup_ = nil,input_message_content_ = {ID = "InputMessageText",text_ = text,disable_web_page_preview_ = 1,clear_draft_ = 0,entities_ = {},parse_mode_ = TextParseMode,},}, dl_cb, nil)
end
function DeleteMessage(chat,id)
tdcli_function ({
ID="DeleteMessages",
chat_id_=chat,
message_ids_=id
},function(arg,data) 
end,nil)
end
function PinMessage(chat, id)
tdcli_function ({
ID = "PinChannelMessage",
channel_id_ = getChatId(chat).ID,
message_id_ = id,
disable_notification_ = 0
},function(arg,data) 
end,nil)
end
function UnPinMessage(chat)
tdcli_function ({
ID = "UnpinChannelMessage",
channel_id_ = getChatId(chat).ID
},function(arg,data) 
end,nil)
end
local function GetChat(chat_id) 
tdcli_function ({
ID = "GetChat",
chat_id_ = chat_id
},cb, nil) 
end  
function getInputFile(file) 
if file:match('/') then infile = {ID = "InputFileLocal", path_ = file} elseif file:match('^%d+$') then infile = {ID = "InputFileId", id_ = file} else infile = {ID = "InputFilePersistentId", persistent_id_ = file} end return infile 
end
function ked(User_id,Chat_id)
https.request("https://api.telegram.org/bot"..token.."/restrictChatMember?chat_id="..Chat_id.."&user_id="..User_id)
end
function s_api(web) 
local info, res = https.request(web) local req = json:decode(info) if res ~= 200 then return false end if not req.ok then return false end return req 
end 
local function sendText(chat_id, text, reply_to_message_id, markdown) 
send_api = "https://api.telegram.org/bot"..token local url = send_api..'/sendMessage?chat_id=' .. chat_id .. '&text=' .. URL.escape(text) if reply_to_message_id ~= 0 then url = url .. '&reply_to_message_id=' .. reply_to_message_id  end if markdown == 'md' or markdown == 'markdown' then url = url..'&parse_mode=Markdown' elseif markdown == 'html' then url = url..'&parse_mode=HTML' end return s_api(url)  
end
function send_inline_key(chat_id,text,keyboard,inline,reply_id) 
local response = {} response.keyboard = keyboard response.inline_keyboard = inline response.resize_keyboard = true response.one_time_keyboard = false response.selective = false  local send_api = "https://api.telegram.org/bot"..token.."/sendMessage?chat_id="..chat_id.."&text="..URL.escape(text).."&parse_mode=Markdown&disable_web_page_preview=true&reply_markup="..URL.escape(JSON.encode(response)) if reply_id then send_api = send_api.."&reply_to_message_id="..reply_id end return s_api(send_api) 
end
local function GetInputFile(file)  
local file = file or ""   if file:match('/') then  infile = {ID= "InputFileLocal", path_  = file}  elseif file:match('^%d+$') then  infile = {ID= "InputFileId", id_ = file}  else  infile = {ID= "InputFilePersistentId", persistent_id_ = file}  end return infile 
end
local function sendRequest(request_id, chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, input_message_content, callback, extra) 
tdcli_function ({  ID = request_id,    chat_id_ = chat_id,    reply_to_message_id_ = reply_to_message_id,    disable_notification_ = disable_notification,    from_background_ = from_background,    reply_markup_ = reply_markup,    input_message_content_ = input_message_content,}, callback or dl_cb, extra) 
end
local function sendAudio(chat_id,reply_id,audio,title,caption)  
tdcli_function({ID="SendMessage",  chat_id_ = chat_id,  reply_to_message_id_ = reply_id,  disable_notification_ = 0,  from_background_ = 1,  reply_markup_ = nil,  input_message_content_ = {  ID="InputMessageAudio",  audio_ = GetInputFile(audio),  duration_ = '',  title_ = title or '',  performer_ = '',  caption_ = caption or ''  }},dl_cb,nil)
end  
local function sendVideo(chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, video, duration, width, height, caption, cb, cmd)    
local input_message_content = { ID = "InputMessageVideo",      video_ = getInputFile(video),      added_sticker_file_ids_ = {},      duration_ = duration or 0,      width_ = width or 0,      height_ = height or 0,      caption_ = caption    }    sendRequest('SendMessage', chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, input_message_content, cb, cmd)  
end
function sendDocument(chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, document, caption, dl_cb, cmd) 
tdcli_function ({ID = "SendMessage",chat_id_ = chat_id,reply_to_message_id_ = reply_to_message_id,disable_notification_ = disable_notification,from_background_ = from_background,reply_markup_ = reply_markup,input_message_content_ = {ID = "InputMessageDocument",document_ = getInputFile(document),caption_ = caption},}, dl_cb, cmd) 
end
local function sendVoice(chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, voice, duration, waveform, caption, cb, cmd)  
local input_message_content = {   ID = "InputMessageVoice",   voice_ = getInputFile(voice),  duration_ = duration or 0,   waveform_ = waveform,    caption_ = caption  }  sendRequest('SendMessage', chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, input_message_content, cb, cmd) 
end
local function sendSticker(chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, sticker, cb, cmd)  
local input_message_content = {    ID = "InputMessageSticker",   sticker_ = getInputFile(sticker),    width_ = 0,    height_ = 0  } sendRequest('SendMessage', chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, input_message_content, cb, cmd) 
end
local function sendPhoto(chat_id, reply_to_message_id, disable_notification, from_background, reply_markup, photo,caption)   
tdcli_function ({ ID = "SendMessage",   chat_id_ = chat_id,   reply_to_message_id_ = reply_to_message_id,   disable_notification_ = disable_notification,   from_background_ = from_background,   reply_markup_ = reply_markup,   input_message_content_ = {   ID = "InputMessagePhoto",   photo_ = getInputFile(photo),   added_sticker_file_ids_ = {},   width_ = 0,   height_ = 0,   caption_ = caption  },   }, dl_cb, nil)  
end
function Total_Msg(msgs)  
local JoKeR_Msg = ''  
if msgs < 100 then 
JoKeR_Msg = '╪║┘К╪▒ ┘Е╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 200 then 
JoKeR_Msg = '╪и╪п┘З ┘К╪к╪н╪│┘Ж ' 
elseif msgs < 400 then 
JoKeR_Msg = '╪┤╪и┘З ┘Е╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 700 then 
JoKeR_Msg = '┘Е╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 1200 then 
JoKeR_Msg = '┘Е╪к┘Б╪з╪╣┘Д ┘В┘И┘К ' 
elseif msgs < 2000 then 
JoKeR_Msg = '┘Е╪к┘Б╪з╪╣┘Д ╪м╪п╪з ' 
elseif msgs < 3500 then 
JoKeR_Msg = '╪з┘В┘И┘Й ╪к┘Б╪з╪╣┘Д '  
elseif msgs < 4000 then 
JoKeR_Msg = '┘Е╪к┘Б╪з╪╣┘Д ┘Ж╪з╪▒ ' 
elseif msgs < 4500 then 
JoKeR_Msg = '┘В┘Е╪й ╪з┘Д╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 5500 then 
JoKeR_Msg = '╪з╪│╪п ╪з┘Д╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 7000 then 
JoKeR_Msg = '┘Е┘Д┘Г ╪з┘Д╪к┘Б╪з╪╣┘Д' 
elseif msgs < 9500 then 
JoKeR_Msg = '╪з╪н┘Д╪з ╪к┘Б╪з╪╣┘Д ' 
elseif msgs < 10000000000 then 
JoKeR_Msg = '╪▒╪и ╪з┘Д╪к┘Б╪з╪╣┘Д '  
end 
return JoKeR_Msg 
end
function GetFile_Bot(msg)
local list = redis:smembers(JoKeR..'Chek:Groups') 
local t = '{"JoKeR": '..JoKeR..',"GP_BOT":{'  
for k,v in pairs(list) do   
NAME = 'JoKeR Chat'
link = redis:get(JoKeR.."Private:Group:Link"..msg.chat_id_) or ''
ASAS = redis:smembers(JoKeR..'Basic:Constructor'..v)
MNSH = redis:smembers(JoKeR..'Constructor'..v)
MDER = redis:smembers(JoKeR..'Owners'..v)
MOD = redis:smembers(JoKeR..'Mod:User'..v)
if k == 1 then
t = t..'"'..v..'":{"JoKeR":"'..NAME..'",'
else
t = t..',"'..v..'":{"JoKeR":"'..NAME..'",'
end
if #ASAS ~= 0 then 
t = t..'"ASAS":['
for k,v in pairs(ASAS) do
if k == 1 then
t =  t..'"'..v..'"'
else
t =  t..',"'..v..'"'
end
end   
t = t..'],'
end
if #MOD ~= 0 then
t = t..'"MOD":['
for k,v in pairs(MOD) do
if k == 1 then
t =  t..'"'..v..'"'
else
t =  t..',"'..v..'"'
end
end   
t = t..'],'
end
if #MDER ~= 0 then
t = t..'"MDER":['
for k,v in pairs(MDER) do
if k == 1 then
t =  t..'"'..v..'"'
else
t =  t..',"'..v..'"'
end
end   
t = t..'],'
end
if #MNSH ~= 0 then
t = t..'"MNSH":['
for k,v in pairs(MNSH) do
if k == 1 then
t =  t..'"'..v..'"'
else
t =  t..',"'..v..'"'
end
end   
t = t..'],'
end
t = t..'"linkgroup":"'..link..'"}' or ''
end
t = t..'}}'
local File = io.open('./JoKeR_lib/'..JoKeR..'.json', "w")
File:write(t)
File:close()
sendDocument(msg.chat_id_, msg.id_,0, 1, nil, './JoKeR_lib/'..JoKeR..'.json', 'ЁЯУЛтФЖ ╪╣╪п╪п ┘Е╪м┘Е┘И╪╣╪з╪к ╪з┘Д╪к┘К ┘Б┘К ╪з┘Д╪и┘И╪к { '..#list..'}')
end
function download_to_file(url, file_path) 
local respbody = {} 
local options = { url = url, sink = ltn12.sink.table(respbody), redirect = true } 
local response = nil 
options.redirect = false 
response = {https.request(options)} 
local code = response[2] 
local headers = response[3] 
local status = response[4] 
if code ~= 200 then return false, code 
end 
file = io.open(file_path, "w+") 
file:write(table.concat(respbody)) 
file:close() 
return file_path, code 
end 
function AddFile_Bot(msg,chat,ID_FILE,File_Name)
if File_Name:match('.json') then
if tonumber(File_Name:match('(%d+)')) ~= tonumber(JoKeR) then 
send(chat,msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝п тФЖ┘Е┘Д┘Б ┘Ж╪│╪о┘З ┘Д┘К╪│ ┘Д┘З╪з╪░╪з ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░")   
return false 
end      
local File = json:decode(https.request('https://api.telegram.org/bot'.. token..'/getfile?file_id='..ID_FILE) ) 
download_to_file('https://api.telegram.org/file/bot'..token..'/'..File.result.file_path, ''..File_Name) 
send(chat,msg.id_,"▄Бр╝птФЖ╪м╪з╪▒┘К ╪▒┘Б╪╣ ╪з┘Д┘Е┘Д┘Б ╪з┘Д╪з┘Ж . . .")
else
send(chat,msg.id_,"▄Бр╝птФЖ ╪╣╪░╪▒╪з ╪з┘Д┘Е┘Д┘Б ┘Д┘К╪│ ╪и╪╡┘К╪║╪й {JSON} ┘К╪▒╪м┘Й ╪▒┘Б╪╣ ╪з┘Д┘Е┘Д┘Б ╪з┘Д╪╡╪н┘К╪н . .! ")   
end      
local info_file = io.open('./JoKeR_lib/'..JoKeR..'.json', "r"):read('*a')
local groups = JSON.decode(info_file)
for idg,v in pairs(groups.GP_BOT) do
redis:sadd(JoKeR..'Chek:Groups',idg)  
redis:set(JoKeR..'lock:tagservrbot'..idg,true)   
list ={"lock:Bot:kick","lock:user:name","lock:hashtak","lock:Cmd","lock:Link","lock:forward","lock:Keyboard","lock:geam","lock:Photo","lock:Animation","lock:Video","lock:Audio","lock:vico","lock:Sticker","lock:Document","lock:Unsupported","lock:Markdaun","lock:Contact","lock:Spam"}
for i,lock in pairs(list) do 
redis:set(JoKeR..lock..idg,'del')    
end
if v.MNSH then
for k,idmsh in pairs(v.MNSH) do
redis:sadd(JoKeR..'Constructor'..idg,idmsh)
end
end
if v.MDER then
for k,idmder in pairs(v.MDER) do
redis:sadd(JoKeR..'Owners'..idg,idmder)  
end
end
if v.MOD then
for k,idmod in pairs(v.MOD) do
redis:sadd(JoKeR..'Mod:User'..idg,idmod)  
end
end
if v.ASAS then
for k,idASAS in pairs(v.ASAS) do
redis:sadd(JoKeR..'Basic:Constructor'..idg,idASAS)  
end
end
end
send(chat,msg.id_,"\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д┘Е┘Д┘Б ┘И╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к  \n▄Бр╝птФЖ┘И╪▒┘Б╪╣ тЧЮ╪з┘Д┘Е┘Ж╪┤╪ж┘К┘Ж ╪з┘Д╪з╪│╪з╪│┘К┘К┘Ж ▄К ╪з┘Д┘Е┘Ж╪┤╪ж┘К┘Ж ▄К ╪з┘Д┘Е╪п╪▒╪з╪б ▄К ╪з┘Д╪з╪п┘Е┘Ж┘К╪й тЧЬ ╪и┘Ж╪м╪з╪н")   
end
local function trigger_anti_spam(msg,type)
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data)
local Name = '['..utf8.sub(data.first_name_,0,40)..'](tg://user?id='..data.id_..')'
if type == 'kick' then 
Text = '\n▄Бр╝птФЖ╪з┘Д╪╣┘А╪╢┘И '..Name..' ЁЯТЮ ▄░\n▄Бр╝птФЖ┘В╪з┘Е ╪и╪з┘Д╪к┘Г╪▒╪з╪▒ ┘З┘Ж╪з ┘И╪к┘Е тЧГ ╪╖╪▒╪п┘З ЁЯТЮ ▄░'  
sendText(msg.chat_id_,Text,0,'md')
chat_kick(msg.chat_id_,msg.sender_user_id_) 
my_ide = msg.sender_user_id_
msgm = msg.id_
local num = 100
for i=1,tonumber(num) do
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = {[0] = msgm}},function(arg,data) 
if data.messages_[0] ~= false then
if tonumber(my_ide) == (data.messages_[0].sender_user_id_) then
DeleteMessage(msg.chat_id_, {[0] = data.messages_[0].id_})
end;end;end, nil)
msgm = msgm - 1048576
end
return false  
end 
if type == 'del' then 
DeleteMessage(msg.chat_id_,{[0] = msg.id_})    
my_ide = msg.sender_user_id_
msgm = msg.id_
local num = 100
for i=1,tonumber(num) do
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = {[0] = msgm}},function(arg,data) 
if data.messages_[0] ~= false then
if tonumber(my_ide) == (data.messages_[0].sender_user_id_) then
DeleteMessage(msg.chat_id_, {[0] = data.messages_[0].id_})
end;end;end, nil)
msgm = msgm - 1048576
end
end 
if type == 'keed' then
https.request("https://api.telegram.org/bot" .. token .. "/restrictChatMember?chat_id=" ..msg.chat_id_.. "&user_id=" ..msg.sender_user_id_.."") 
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_) 
msgm = msg.id_
my_ide = msg.sender_user_id_
local num = 100
for i=1,tonumber(num) do
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = {[0] = msgm}},function(arg,data) 
if data.messages_[0] ~= false then
if tonumber(my_ide) == (data.messages_[0].sender_user_id_) then
DeleteMessage(msg.chat_id_, {[0] = data.messages_[0].id_})
end;end;end, nil)
msgm = msgm - 1048576
end
Text = '\n▄Бр╝птФЖ╪з┘Д╪╣┘А╪╢┘И '..Name..' ЁЯТЮ ▄░\n▄Бр╝птФЖ┘В╪з┘Е ╪и╪з┘Д╪к┘Г╪▒╪з╪▒ ┘З┘Ж╪з ┘И╪к┘Е тЧГ ╪к┘В┘К┘К╪п┘З ЁЯТЮ ▄░'  
sendText(msg.chat_id_,Text,0,'md')
return false  
end  
if type == 'mute' then
Text = '\n▄Бр╝птФЖ╪з┘Д╪╣┘А╪╢┘И '..Name..' ЁЯТЮ ▄░\n▄Бр╝птФЖ┘В╪з┘Е ╪и╪з┘Д╪к┘Г╪▒╪з╪▒ ┘З┘Ж╪з ┘И╪к┘Е тЧГ ┘Г╪к┘Е┘З ЁЯТЮ ▄░'  
sendText(msg.chat_id_,Text,0,'md')
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_) 
msgm = msg.id_
my_ide = msg.sender_user_id_
local num = 100
for i=1,tonumber(num) do
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = {[0] = msgm}},function(arg,data) 
if data.messages_[0] ~= false then
if tonumber(my_ide) == (data.messages_[0].sender_user_id_) then
DeleteMessage(msg.chat_id_, {[0] = data.messages_[0].id_})
end;end;end, nil)
msgm = msgm - 1048576
end
return false  
end
end,nil)   
end

function FilesJoKeRTeam(msg)
for v in io.popen('ls File_JoKeR'):lines() do
if v:match(".lua$") then
Text_FileBot = dofile("File_JoKeR/"..v)
if Text_FileBot.JoKeRa and msg then
Text_FileBot = Text_FileBot.JoKeRa(msg)
end
end
end
send(msg.chat_id_, msg.id_,Text_FileBot)  
end
--------------------------------------------------------------------------------------------------------------
function SourceJoKeR(msg,data)
if msg then
local text = msg.content_.text_
--------------------------------------------------------------------------------------------------------------
if msg.chat_id_ then
local id = tostring(msg.chat_id_)
if id:match("-100(%d+)") then
redis:incr(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_) 
Chat_Type = 'GroupBot'
elseif id:match("^(%d+)") then
redis:sadd(JoKeR..'User_Bot',msg.sender_user_id_) 
Chat_Type = 'UserBot' 
else
Chat_Type = 'GroupBot' 
end
end
if redis:get(JoKeR.."Bc:Grops:Pin" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == "╪з┘Д╪║╪з╪б" or text == "тАв ╪з┘Д╪║╪з╪б ├Ч ." then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з╪░╪з╪╣┘З ЁЯТЮ ▄░") 
redis:del(JoKeR.."Bc:Grops:Pin" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false
end 
local list = redis:smembers(JoKeR.."Chek:Groups") 
if msg.content_.text_ then
for k,v in pairs(list) do 
send(v, 0,"["..msg.content_.text_.."]")  
redis:set(JoKeR..'Msg:Pin:Chat'..v,msg.content_.text_) 
end
elseif msg.content_.photo_ then
if msg.content_.photo_.sizes_[0] then
photo = msg.content_.photo_.sizes_[0].photo_.persistent_id_
elseif msg.content_.photo_.sizes_[1] then
photo = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
for k,v in pairs(list) do 
sendPhoto(v, 0, photo,(msg.content_.caption_ or ""))
redis:set(JoKeR..'Msg:Pin:Chat'..v,photo) 
end 
elseif msg.content_.animation_ then
for k,v in pairs(list) do 
sendDocument(v, 0, msg.content_.animation_.animation_.persistent_id_,(msg.content_.caption_ or "")) 
redis:set(JoKeR..'Msg:Pin:Chat'..v,msg.content_.animation_.animation_.persistent_id_)
end 
elseif msg.content_.sticker_ then
for k,v in pairs(list) do 
sendSticker(v, 0, msg.content_.sticker_.sticker_.persistent_id_)   
redis:set(JoKeR..'Msg:Pin:Chat'..v,msg.content_.sticker_.sticker_.persistent_id_) 
end 
end
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з╪░╪з╪╣╪й ╪з┘Д┘Й тЧГ ╦╝ "..#list.." ╦╣  ┘Е╪м┘Е┘И╪╣╪з╪к ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░")     
redis:del(JoKeR.."Bc:Grops:Pin" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false
end
--------------------------------------------------------------------------------------------------------------
if Chat_Type == 'UserBot' then
if text == '/start' then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if Sudo_JoKeR(msg) then
local bl = 'уВа╪з┘З┘Д╪з ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮт╕╝ .\nуВа╪з┘Ж╪к ╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К ┘Д┘Д╪и┘И╪к ЁЦзз.\nуВа╪к╪│╪к╪╖┘К╪╣ ╪з┘Д╪к╪н┘Г┘Е ╪и╪з┘И╪з┘Е╪▒ ╪з┘Д╪и┘И╪к ЁЦзз.\nуВа┘Е┘Ж ╪о┘Д╪з┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪з┘Д╪о╪з╪╡ ╪и┘Г ЁЦзз.\nуВа┘В┘Ж╪з╪й ╪з┘Д╪│┘И╪▒╪│  тЧЭ [@JoKeR_aHs] тЧЯ .'
local keyboard = {
	{'тАв ┘И╪╢╪╣ ╪з╪│┘Е ╪з┘Д┘Й ╪з┘Д╪и┘И╪к ЁЦа╣ .'},
{'тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д  ├Ч .','тАв ╪к┘Б╪╣┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д  ЁЦбй .'},
{'тАв ╪з┘Д╪з╪н╪╡╪з╪ж┘К╪з╪к ЁЦбм .'},
{'тАв ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж ЁЦб╣ .','тАв ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к ЁЦб╣ .'},
{'тАв ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж ЁЦдВ .','тАв ┘В╪з╪ж┘Е╪й ╪з┘Д╪╣╪з┘Е ЁЦд╣ .'},
{'тАв ┘И╪╢╪╣ ┘Г┘Д┘К╪┤╪й ЁЦб▓ start  .','тАв ╪н╪░┘Б ┘Г┘Д┘К╪┤╪й ЁЦб▓ start  .'},
{'тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к╪л╪и┘К╪к ЁЦбо  .'},
{'тАв ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘К ЁЦдл . '},
{'тАв ┘И╪╢╪╣ ┘В┘Ж╪з╪й ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдл  .','тАв ╪к╪║┘К╪▒ ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдй  .'},
{'тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдд  .','тАв ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдд  .'},
{'тАв ╪з╪░╪з╪╣╪й ┘Б┘К ╪з┘Д╪о╪з╪╡ ЁЦбо  .','тАв ╪з╪░╪з╪╣╪й ЁЦбо  .'},
{'тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к┘И╪м┘К╪й ┘Б┘К ╪з┘Д╪о╪з╪╡ ЁЦго  .','тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к┘И╪м┘К╪й  ЁЦго  .'},
{'тАв ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж ЁЦд╕ .','тАв ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Г╪▒┘И╪и╪з╪к ЁЦд╕ .'},
{'тАв ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЦд┤ .','тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЦд┤ .'},
{'тАв ╪м┘Д╪и ╪з┘Д┘Ж╪│╪о╪й ╪з┘Д╪з╪н╪к┘К╪з╪╖┘К╪й ЁЦеа .'},
{'тАв ┘Е╪╣┘Д┘И┘Е╪з╪к ╪з┘Д╪│┘К╪▒┘Б╪▒ ЁЦеа .'}, 
{'тАв ╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│ сЬ▒ .'}, 
{'тАв ╪з┘Д╪║╪з╪б ├Ч .'}
}
send_inline_key(msg.chat_id_,bl,keyboard)
else
if not redis:get(JoKeR..'Start:Time'..msg.sender_user_id_) then
local start = redis:get(JoKeR.."Start:Bot")  
if start then 
SourceJoKeRr = start
else
SourceJoKeRr = ' уВа┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮт╕╝\nуВа┘Д╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ┘Б┘К ┘Е╪м┘Е┘И╪╣╪к┘Г ЁЦзз.\nуВа╪з╪╢┘Б ╪з┘Д╪и┘И╪к ┘Е╪┤╪▒┘Б ┘Б┘К ┘Е╪м┘Е┘И╪╣╪к┘Г ЁЦзз.\nуВа╪л┘Е ╪з╪▒╪│┘Д тЧЭ ╪к┘Б╪╣┘К┘Д тЧЯ ЁЦзз.'
end 
send(msg.chat_id_, msg.id_, SourceJoKeRr) 
end
end
redis:setex(JoKeR..'Start:Time'..msg.sender_user_id_,300,true)
return false
end
if not Sudo_JoKeR(msg) and not redis:sismember(JoKeR..'Ban:User_Bot',msg.sender_user_id_) and not redis:get(JoKeR..'Tuasl:Bots') then
send(msg.sender_user_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪│┘К╪к┘Е ╪з┘Д╪▒╪п ╪╣┘Д┘К┘Г [┘В╪▒┘К╪и╪з┘Л . .](t.me/JoKeR_aHs)')
tdcli_function ({ID = "ForwardMessages", chat_id_ = SUDO,    from_chat_id_ = msg.sender_user_id_,    message_ids_ = {[0] = msg.id_},    disable_notification_ = 1,    from_background_ = 1 },function(arg,data) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,ta) 
vardump(data)
if data and data.messages_[0].content_.sticker_ then
local Name = '['..string.sub(ta.first_name_,0, 40)..'](tg://user?id='..ta.id_..')'
local Text = 'ЁЯУетФЖ ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д┘Е┘Д╪╡┘В ┘Е┘Ж тЖУ\n - '..Name
sendText(SUDO,Text,0,'md')
end 
end,nil) 
end,nil)
end
if Sudo_JoKeR(msg) and msg.reply_to_message_id_ ~= 0  then    
tdcli_function({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)},function(extra, result, success) 
if result.forward_info_.sender_user_id_ then     
id_user = result.forward_info_.sender_user_id_    
end     
tdcli_function ({ID = "GetUser",user_id_ = id_user},function(arg,data) 
if text == '╪н╪╕╪▒' then
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nтШСя╕ПтФЖ╪к┘Е ╪н╪╕╪▒┘З ┘Е┘Ж ╪з┘Д╪к┘И╪з╪╡┘Д '
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
redis:sadd(JoKeR..'Ban:User_Bot',data.id_)  
return false  
end 
if text =='╪з┘Д╪║╪з╪б ╪з┘Д╪н╪╕╪▒' then
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nтШСя╕ПтФЖ ╪к┘Е ╪н╪╕╪▒┘З ┘Е┘Ж ╪з┘Д╪к┘И╪з╪╡┘Д '
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
redis:srem(JoKeR..'Ban:User_Bot',data.id_)  
return false  
end 

tdcli_function({ID='GetChat',chat_id_ = id_user},function(arg,dataq)
tdcli_function ({ ID = "SendChatAction",chat_id_ = id_user, action_ = {  ID = "SendMessageTypingAction", progress_ = 100} },function(arg,ta) 
if ta.code_ == 400 or ta.code_ == 5 then
local JoKeR_Msg = '\nтЪатФЖ ┘Б╪┤┘Д ╪з╪▒╪│╪з┘Д ╪▒╪│╪з┘Д╪к┘Г ┘Д╪з┘Ж ╪з┘Д╪╣╪╢┘И ┘В╪з┘Е ╪и╪н╪╕╪▒ ╪з┘Д╪и┘И╪к'
send(msg.chat_id_, msg.id_,JoKeR_Msg) 
return false  
end 
if text then    
send(id_user,msg.id_,text)    
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nЁЯФЦтФЖ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д╪▒╪│╪з┘Д┘З ╪з┘Д┘К┘З'
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
return false
end    
if msg.content_.ID == 'MessageSticker' then    
sendSticker(id_user, msg.id_, 0, 1, nil, msg.content_.sticker_.sticker_.persistent_id_)   
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nЁЯФЦтФЖ ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д╪▒╪│╪з┘Д┘З ╪з┘Д┘К┘З'
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
return false
end      
if msg.content_.ID == 'MessagePhoto' then    
sendPhoto(id_user, msg.id_, 0, 1, nil,msg.content_.photo_.sizes_[0].photo_.persistent_id_,(msg.content_.caption_ or ''))    
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nЁЯФЦтФЖ ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д╪▒╪│╪з┘Д┘З ╪з┘Д┘К┘З'
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
return false
end     
if msg.content_.ID == 'MessageAnimation' then    
sendDocument(id_user, msg.id_, 0, 1,nil, msg.content_.animation_.animation_.persistent_id_)    
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nЁЯФЦтФЖ ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д╪▒╪│╪з┘Д┘З ╪з┘Д┘К┘З'
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
return false
end     
if msg.content_.ID == 'MessageVoice' then    
sendVoice(id_user, msg.id_, 0, 1, nil, msg.content_.voice_.voice_.persistent_id_)    
local Name = '['..string.sub(data.first_name_,0, 40)..'](tg://user?id='..id_user..')'
local Text = 'ЁЯУМтФЖ ╪з┘Д┘Е╪│╪к╪о╪п┘Е тЦ╕ '..Name..'\nЁЯФЦтФЖ ╪к┘Е ╪з╪▒╪│╪з┘Д ╪з┘Д╪▒╪│╪з┘Д┘З ╪з┘Д┘К┘З'
sendText(SUDO,Text,msg.id_/2097152/0.5,'md')
return false
end     
end,nil)
end,nil)
end,nil)
end,nil)
end 
if text == 'тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д  ├Ч .' and Sudo_JoKeR(msg) then  
if not redis:get(JoKeR..'Tuasl:Bots') then
redis:set(JoKeR..'Tuasl:Bots',true) 
Text = '\n┘н ЁЦд╣тФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д тШУтЧЬ' 
else
Text = '\n┘н ЁЦд╣тФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д тШУтЧЬ'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == 'тАв ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЦд┤ .' and Sudo_JoKeR(msg) then  
if redis:get(JoKeR..'Free:Bots') then
redis:del(JoKeR..'Free:Bots') 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ╪и┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░  '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == 'тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЦд┤ .' and Sudo_JoKeR(msg) then  
if not redis:get(JoKeR..'Free:Bots') then
redis:set(JoKeR..'Free:Bots',true) 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ╪и┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text and redis:get(JoKeR..'Start:Bots') then
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╕ ┘Г┘Д┘К╪┤┘З ╪│╪к╪з╪▒╪к ЁЯТЮ ▄░ ')
redis:del(JoKeR..'Start:Bots') 
return false
end
redis:set(JoKeR.."Start:Bot",text)  
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╕ ┘Г┘Д┘К╪┤╪й┘З ╪н┘Б╪╕ ╪│╪к╪з╪▒╪к ЁЯТЮ ▄░ ') 
redis:del(JoKeR..'Start:Bots') 
return false
end
if text == 'тАв ┘И╪╢╪╣ ┘Г┘Д┘К╪┤╪й ЁЦб▓ start  .' and Sudo_JoKeR(msg) then 
redis:set(JoKeR..'Start:Bots',true) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘К╪┤╪й┘З ╪з┘Д╪з┘Ж ЁЯТЮ ▄░ ') 
return false
end
if text == 'тАв ╪н╪░┘Б ┘Г┘Д┘К╪┤╪й ЁЦб▓ start  .' and Sudo_JoKeR(msg) then 
redis:del(JoKeR..'Start:Bot') 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ┘Г┘Д┘К╪┤╪й┘З ╪│╪к╪з╪▒╪к ЁЯТЮ ▄░ ') 
end

if text == 'тАв ┘Е╪╣┘Д┘И┘Е╪з╪к ╪з┘Д╪│┘К╪▒┘Б╪▒ ЁЦеа .' and Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_, io.popen([[
linux_version=`lsb_release -ds`
memUsedPrc=`free -m | awk 'NR==2{printf "%sMB/%sMB {%.2f%}\n", $3,$2,$3*100/$2 }'`
HardDisk=`df -lh | awk '{if ($6 == "/") { print $3"/"$2" ~ {"$5"}" }}'`
CPUPer=`top -b -n1 | grep "Cpu(s)" | awk '{print $2 + $4}'`
uptime=`uptime | awk -F'( |,|:)+' '{if ($7=="min") m=$6; else {if ($7~/^day/) {d=$6;h=$8;m=$9} else {h=$6;m=$7}}} {print d+0,"days,",h+0,"hours,",m+0,"minutes."}'`
echo '▄Бр╝птФЖ┘Е╪п╪й ╪к╪┤╪║┘К┘Д ╪з┘Д╪│┘К╪▒┘Б╪▒ тЦ╛ .\n*тЦ╕  '"$linux_version"'*' 
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д╪░╪з┘Г╪▒┘З ╪з┘Д╪╣╪┤┘И╪з╪ж┘К╪й тЦ╛ .\n*тЦ╕ '"$memUsedPrc"'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ┘И╪н╪п╪й ╪з┘Д╪к╪о╪▓┘К┘Ж тЦ╛ .\n*тЦ╕ '"$HardDisk"'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д┘Е╪╣╪з┘Д╪м тЦ╛ .\n*тЦ╕ '"`grep -c processor /proc/cpuinfo`""Core тЦ╕ $CPUPer% "'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д╪п╪о┘И┘Д тЦ╛ . \n*тЦ╕ '`whoami`'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ┘Е╪п╪й ╪к╪┤╪║┘К┘Д ╪з┘Д╪│┘К╪▒┘Б╪▒ тЦ╛ .\n*тЦ╕ '"$uptime"'*'
]]):read('*all'))  
end

if text == 'тАв ╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│ сЬ▒ .' and Sudo_JoKeR(msg) then send(msg.chat_id_, msg.id_,'╪м╪з╪▒┘К... ')
os.execute('rm -rf JoKeR.lua')
os.execute('wget https://raw.githubusercon/BoykaxTeam/JoKeR/master/JoKeR.lua')
sleep(0.5) 
send(msg.chat_id_, msg.id_,'тЬетФЖ ╪к┘Е ╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│ . ЁЦж▓ тЧЬ')
dofile('JoKeR.lua')  
end
if text == "тАв ┘И╪╢╪╣ ╪з╪│┘Е ╪з┘Д┘Й ╪з┘Д╪и┘И╪к ЁЦа╣ ." and Sudo_JoKeR(msg) then  
redis:setex(JoKeR..'Set:Name:Bot'..msg.sender_user_id_,300,true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪з╪│┘Е ╪з┘Д╪з┘Ж ЁЯТЮ ▄░ ")  
return false
end
if text == "тАв ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Г╪▒┘И╪и╪з╪к ЁЦд╕ ." and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
local group = redis:smembers(JoKeR..'Chek:Groups') 
local w = 0
local q = 0
for i = 1, #group do
tdcli_function({ID='GetChat',chat_id_ = group[i]
},function(arg,data)
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusMember" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_=group[i],user_id_=JoKeR,status_={ID = "ChatMemberStatusLeft"},},function(e,g) end, nil) 
w = w + 1
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusLeft" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
q = q + 1
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusKicked" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
q = q + 1
end
if data and data.code_ and data.code_ == 400 then
redis:srem(JoKeR..'Chek:Groups',group[i])  
w = w + 1
end
if #group == i then 
if (w + q) == 0 then
send(msg.chat_id_, msg.id_,'\n▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Е╪м┘Е┘И╪╣╪з╪к ┘И┘З┘Е┘К┘З ┘Б┘К ╪з┘Д╪и┘И╪кЁЯТЮ ▄░')   
else
local JoKeR = (w + q)
local sendok = #group - JoKeR
if q == 0 then
JoKeR = ''
else
JoKeR = '\n▄Бр╝птФЖ ╪к┘Е ╪з╪▓╪з┘Д╪й ['..q..'](t.me/JoKeR_aHs) ┘Е╪м┘Е┘И╪╣╪з╪к ┘Е┘Ж ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
if w == 0 then
JoKeRh = ''
else
JoKeRh = '\n▄Бр╝птФЖ ╪к┘Е ╪з╪▓╪з┘Д╪й ['..w..'](t.me/JoKeR_aHs) ┘Е╪м┘Е┘И╪╣╪з╪к ┘Е┘Ж ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪кЁЯТЮ ▄░')   
end
end
end,nil)
end
return false
end
if text == 'тАв ╪з┘Д╪з╪н╪╡╪з╪ж┘К╪з╪к ЁЦбм .' and Sudo_JoKeR(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = 'тФР ╪╣╪п╪п ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к тЧГ тЧЮ*'..Groups..'*тЧЬ \nтЬЫ ┘н                  ┘н \nтФШ ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж тЧГ тЧЮ*'..Users..'*тЧЬ .'
send(msg.chat_id_, msg.id_,Text) 
return false
end
if text == 'тАв ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж ЁЦб╣ .' and Sudo_JoKeR(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = '\n┘н ЁЦб╣ тФЖ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж тЧГ тЧЮ *'..Users..'* тЧЬ'
send(msg.chat_id_, msg.id_,Text) 
return false
end
if text == 'тАв ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к ЁЦб╣ .' and Sudo_JoKeR(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = '\n┘н ЁЦб╣ тФЖ╪╣╪п╪п ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к тЧГ тЧЮ *'..Groups..'* тЧЬ'
send(msg.chat_id_, msg.id_,Text) 
return false
end
if text == ("тАв ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж ЁЦдВ .") and Sudo_JoKeR(msg) then
local list = redis:smembers(JoKeR..'Sudo:User')
t = "\n▄Бр╝птФЖ┘В╪з╪ж┘Е╪й ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж ЁЯТЮЁЯТЮ .\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ*@"..username.."*тЧЮ  ЁЯТЮЁЯжД .\n"
else
end
end
if #list == 0 then
t = "┘н ЁЦд╣тФЖ┘Д╪з ┘К┘И╪м╪п ┘Е╪╖┘И╪▒┘К┘К┘Ж тШУтЧЯ"
end
send(msg.chat_id_, msg.id_, t)
end
if text == ("тАв ┘В╪з╪ж┘Е╪й ╪з┘Д╪╣╪з┘Е ЁЦд╣ .") and Sudo_JoKeR(msg) then
local list = redis:smembers(JoKeR..'GBan:User')
t = "\n▄Бр╝птФЖ┘В╪з╪ж┘Е╪й ╪з┘Д╪╣╪з┘Е ЁЯТЮЁЯТЮ .\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ*@"..username.."*тЧЮ  ЁЯТЮЁЯжД .\n"
else
end
end
if #list == 0 then
t = "┘н ЁЦд╣тФЖ┘Д╪з ┘К┘И╪м╪п ╪з╪н╪п ┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е тШУтЧЯ"
end
send(msg.chat_id_, msg.id_, t)
return false
end
if text=="тАв ╪з╪░╪з╪╣╪й ┘Б┘К ╪з┘Д╪о╪з╪╡ ЁЦбо  ." and msg.reply_to_message_id_ == 0 and Sudo_JoKeR(msg) then 
redis:setex(JoKeR.."Send:Bc:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end 
if text=="тАв ╪з╪░╪з╪╣╪й ЁЦбо  ." and msg.reply_to_message_id_ == 0 and Sudo_JoKeR(msg) then 
redis:setex(JoKeR.."Send:Bc:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end 
if text=="тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к╪л╪и┘К╪к ЁЦбо  ." and msg.reply_to_message_id_ == 0 and Sudo_JoKeR(msg) then 
redis:setex(JoKeR.."Bc:Grops:Pin" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end 
if text=="тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к┘И╪м┘К╪й  ЁЦго  ." and msg.reply_to_message_id_ == 0  and Sudo_JoKeR(msg) then 
redis:setex(JoKeR.."Send:Fwd:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪з┘Д╪к┘И╪м┘К┘З ╪з┘Д╪з┘Ж ЁЯТЮ ▄░") 
return false
end 
if text=="тАв ╪з╪░╪з╪╣╪й ╪и╪з┘Д╪к┘И╪м┘К╪й ┘Б┘К ╪з┘Д╪о╪з╪╡ ЁЦго  ." and msg.reply_to_message_id_ == 0  and Sudo_JoKeR(msg) then 
redis:setex(JoKeR.."Send:Fwd:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪з┘Д╪к┘И╪м┘К┘З ╪з┘Д╪з┘Ж ЁЯТЮ ▄░") 
return false
end 
if text == 'тАв ╪м┘Д╪и ╪з┘Д┘Ж╪│╪о╪й ╪з┘Д╪з╪н╪к┘К╪з╪╖┘К╪й ЁЦеа .' and Sudo_JoKeR(msg) then 
GetFile_Bot(msg)
end

if text == "тАв ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж ЁЦд╕ ." and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
local pv = redis:smembers(JoKeR.."User_Bot")
local sendok = 0
for i = 1, #pv do
tdcli_function({ID='GetChat',chat_id_ = pv[i]
},function(arg,dataq)
tdcli_function ({ ID = "SendChatAction",  
chat_id_ = pv[i], action_ = {  ID = "SendMessageTypingAction", progress_ = 100} 
},function(arg,data) 
if data.ID and data.ID == "Ok"  then
else
redis:srem(JoKeR.."User_Bot",pv[i])
sendok = sendok + 1
end
if #pv == i then 
if sendok == 0 then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Е╪┤╪к╪▒┘Г┘К┘Ж ┘И┘З┘Е┘К┘К┘Ж ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ')   
else
local ok = #pv - sendok
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж  тЧГ т╕╝ '..#pv..' т╕╝\n▄Бр╝птФЖ╪к┘Е ╪з╪▓╪з┘Д╪й тЧГ т╕╝ '..sendok..' т╕╝ ┘Е┘Ж ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж\n▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж ╪з┘Д╪н┘В┘К┘В┘К тЧГ т╕╝ '..ok..' т╕╝')   
end
end
end,nil)
end,nil)
end
return false
end

if text and text:match("^╪▒┘Б╪╣ ┘Е╪╖┘И╪▒ @(.*)$") and Sudo_JoKeR(msg) then
local username = text:match("^╪▒┘Б╪╣ ┘Е╪╖┘И╪▒ @(.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
redis:sadd(JoKeR..'Sudo:User', result.id_)
usertext = '\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(username or 'JoKeR_aHs')..')'
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к╪▒┘В┘К╪к┘З ┘Е╪╖┘И╪▒ ┘Б┘К ╪з┘Д╪и┘И╪к'
texts = usertext..status
else
texts = '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_, texts)
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false 
end
if text and text:match("^╪▒┘Б╪╣ ┘Е╪╖┘И╪▒ (%d+)$") and Sudo_JoKeR(msg) then
local userid = text:match("^╪▒┘Б╪╣ ┘Е╪╖┘И╪▒ (%d+)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:sadd(JoKeR..'Sudo:User', userid)
tdcli_function ({ID = "GetUser",user_id_ = userid},function(arg,data) 
if data.first_name_ then
usertext = '\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к╪▒┘В┘К╪к┘З ┘Е╪╖┘И╪▒ ┘Б┘К ╪з┘Д╪и┘И╪к'
send(msg.chat_id_, msg.id_, usertext..status)
else
usertext = '\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ '..userid..''
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к╪▒┘В┘К╪к┘З ┘Е╪╖┘И╪▒ ┘Б┘К ╪з┘Д╪и┘И╪к'
send(msg.chat_id_, msg.id_, usertext..status)
end;end,nil)
return false 
end
if text and text:match("^╪к┘Ж╪▓┘К┘Д ┘Е╪╖┘И╪▒ @(.*)$") and Sudo_JoKeR(msg) then
local username = text:match("^╪к┘Ж╪▓┘К┘Д ┘Е╪╖┘И╪▒ @(.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
redis:srem(JoKeR..'Sudo:User', result.id_)
usertext = '\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(username or 'JoKeR_aHs')..')'
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж'
texts = usertext..status
else
texts = '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_, texts)
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end  
if text and text:match("^╪к┘Ж╪▓┘К┘Д ┘Е╪╖┘И╪▒ (%d+)$") and Sudo_JoKeR(msg) then
local userid = text:match("^╪к┘Ж╪▓┘К┘Д ┘Е╪╖┘И╪▒ (%d+)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:srem(JoKeR..'Sudo:User', userid)
tdcli_function ({ID = "GetUser",user_id_ = userid},function(arg,data) 
if data.first_name_ then
usertext = '\nЁЯУдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж'
send(msg.chat_id_, msg.id_, usertext..status)
else
usertext = '\nЁЯСдтФЖ╪з┘Д╪╣╪╢┘И тЦ╕ '..userid..''
status  = '\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒┘К┘Ж'
send(msg.chat_id_, msg.id_, usertext..status)
end;end,nil)
return false 
end

end
--------------------------------------------------------------------------------------------------------------
if text and not Vips(msg) then  
local JoKeR1_Msg = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp2"..text..msg.chat_id_)   
if JoKeR1_Msg then 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \n ЁЯУмтФЖ'..JoKeR1_Msg)
DeleteMessage(msg.chat_id_, {[0] = msg.id_})     
return false
end,nil)
end
end
if redis:get(JoKeR..'Set:Name:Bot'..msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╖ ╪з╪│┘Е ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░") 
redis:del(JoKeR..'Set:Name:Bot'..msg.sender_user_id_) 
return false  
end 
redis:del(JoKeR..'Set:Name:Bot'..msg.sender_user_id_) 
redis:set(JoKeR..'Name:Bot',text) 
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╕ ╪з╪│┘Е ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░")  
return false
end 
if redis:get(JoKeR.."Send:Bc:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з╪░╪з╪╣╪й┘З ╪о╪з╪╡ ЁЯТЮ ▄░") 
redis:del(JoKeR.."Send:Bc:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false
end 
local list = redis:smembers(JoKeR..'User_Bot') 
if msg.content_.text_ then
for k,v in pairs(list) do 
send(v, 0,'['..msg.content_.text_..']')  
end
elseif msg.content_.photo_ then
if msg.content_.photo_.sizes_[0] then
photo = msg.content_.photo_.sizes_[0].photo_.persistent_id_
elseif msg.content_.photo_.sizes_[1] then
photo = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
for k,v in pairs(list) do 
sendPhoto(v, 0, 0, 1, nil, photo,(msg.content_.caption_ or ''))
end 
elseif msg.content_.animation_ then
for k,v in pairs(list) do 
sendDocument(v, 0, 0, 1,nil, msg.content_.animation_.animation_.persistent_id_,(msg.content_.caption_ or ''))    
end 
elseif msg.content_.sticker_ then
for k,v in pairs(list) do 
sendSticker(v, 0, 0, 1, nil, msg.content_.sticker_.sticker_.persistent_id_)   
end 
end
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з╪░╪з╪╣╪й ╪з┘Д┘Й тЧГ ╦╝ "..#list.." ╦╣ ┘Е╪┤╪к╪▒┘Г ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ")     
redis:del(JoKeR.."Send:Bc:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
end

if redis:get(JoKeR.."Send:Bc:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░") 
redis:del(JoKeR.."Send:Bc:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false
end 
local list = redis:smembers(JoKeR..'Chek:Groups') 
if msg.content_.text_ then
for k,v in pairs(list) do 
send(v, 0,'['..msg.content_.text_..']')  
end
elseif msg.content_.photo_ then
if msg.content_.photo_.sizes_[0] then
photo = msg.content_.photo_.sizes_[0].photo_.persistent_id_
elseif msg.content_.photo_.sizes_[1] then
photo = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
for k,v in pairs(list) do 
sendPhoto(v, 0, 0, 1, nil, photo,(msg.content_.caption_ or ''))
end 
elseif msg.content_.animation_ then
for k,v in pairs(list) do 
sendDocument(v, 0, 0, 1,nil, msg.content_.animation_.animation_.persistent_id_,(msg.content_.caption_ or ''))    
end 
elseif msg.content_.sticker_ then
for k,v in pairs(list) do 
sendSticker(v, 0, 0, 1, nil, msg.content_.sticker_.sticker_.persistent_id_)   
end 
end
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з╪░╪з╪╣╪й ╪з┘Д┘Й тЧГ ╦╝ "..#list.." ╦╣  ┘Е╪м┘Е┘И╪╣╪з╪к ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░")     
redis:del(JoKeR.."Send:Bc:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
end

if redis:get(JoKeR.."Send:Fwd:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░") 
redis:del(JoKeR.."Send:Fwd:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false  
end 
if msg.forward_info_ then 
local list = redis:smembers(JoKeR..'Chek:Groups')   
for k,v in pairs(list) do  
tdcli_function({ID="ForwardMessages",
chat_id_ = v,
from_chat_id_ = msg.chat_id_,
message_ids_ = {[0] = msg.id_},
disable_notification_ = 0,
from_background_ = 1},function(a,t) end,nil) 
end   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з╪░╪з╪╣╪й ╪з┘Д┘Й тЧГ ╦╝ "..#list.." ╦╣  ┘Е╪м┘Е┘И╪╣╪з╪к ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░")     
redis:del(JoKeR.."Send:Fwd:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
end 
end
if redis:get(JoKeR.."Send:Fwd:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' or text == 'тАв ╪з┘Д╪║╪з╪б ├Ч .' then   
send(msg.chat_id_, msg.id_," ▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░") 
redis:del(JoKeR.."Send:Fwd:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
return false  
end 
if msg.forward_info_ then 
local list = redis:smembers(JoKeR..'User_Bot')   
for k,v in pairs(list) do  
tdcli_function({ID="ForwardMessages",
chat_id_ = v,
from_chat_id_ = msg.chat_id_,
message_ids_ = {[0] = msg.id_},
disable_notification_ = 0,
from_background_ = 1},function(a,t) end,nil) 
end   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з╪░╪з╪╣╪й ╪з┘Д┘Й тЧГ ╦╝ "..#list.." ╦╣ ┘Е╪┤╪к╪▒┘Г ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ")     
redis:del(JoKeR.."Send:Fwd:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) 
end 
end
if redis:get(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з┘Е╪▒ ЁЯТЮ ▄░") 
redis:del(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  end 
redis:del(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local username = string.match(text, "@[%a%d_]+") 
tdcli_function ({    
ID = "SearchPublicChat",    
username_ = username  
},function(arg,data) 
if data and data.message_ and data.message_ == "USERNAME_NOT_OCCUPIED" then 
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ╪з┘Д┘Е╪╣╪▒┘Б ┘Д╪з┘К┘И╪м╪п ┘Б┘К┘З ┘В┘Ж╪з╪йЁЯТЮ ▄░ ')
return false  end
if data and data.type_ and data.type_.ID and data.type_.ID == 'PrivateChatInfo' then
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘З╪░╪з ┘Е╪╣╪▒┘Б ╪н╪│╪з╪и ╪о┘Д┘К ┘В┘Ж╪з┘З ЁЯЩВЁЯТЮ ▄░ ') 
return false  end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.is_supergroup_ == true then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪╣╪░╪▒╪з ┘Д╪з┘К┘Е┘Г┘Ж┘Г ┘И╪╢╪╣ ┘Е╪╣╪▒┘Б ┘Е╪м┘Е┘И╪╣╪й┘З ╪з╪▒╪│┘Д ┘Е╪╣╪▒┘Б ┘В┘Ж╪з┘ЗЁЯТЮ ▄░ ') 
return false  end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.is_supergroup_ == false then
if data and data.type_ and data.type_.channel_ and data.type_.channel_.ID and data.type_.channel_.status_.ID == 'ChatMemberStatusEditor' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К ЁЯТЮ\n▄Бр╝птФЖ╪з┘Д╪и┘И╪к ╪з╪п┘Е┘Ж ┘Б┘К ╪з┘Д┘В┘Ж╪з╪й \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪и┘Ж╪м╪з╪н . ') 
redis:set(JoKeR..'add:ch:id',data.id_)
redis:set(JoKeR..'add:ch:username','@'..data.type_.channel_.username_)
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ┘И╪з╪╣╪п ╪з┘Д┘Е╪н╪з┘И┘Д┘З ЁЯТЮ ▄░ ') 
end
return false  
end
end,nil)
end
if redis:get(JoKeR.."textch:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
send(msg.chat_id_, msg.id_, "ЁЯУмтФЗ ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з┘Е╪▒ ") 
redis:del(JoKeR.."textch:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  end 
redis:del(JoKeR.."textch:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local texxt = string.match(text, "(.*)") 
redis:set(JoKeR..'text:ch:user',texxt)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪к┘Е ╪к╪║┘К┘К╪▒ ╪▒╪│╪з┘Д╪й ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ')
end

local status_welcome = redis:get(JoKeR..'Chek:Welcome'..msg.chat_id_)
if status_welcome and not redis:get(JoKeR..'lock:tagservr'..msg.chat_id_) then
if msg.content_.ID == "MessageChatJoinByLink" then
tdcli_function({ID = "GetUser",user_id_=msg.sender_user_id_},function(extra,result) 
local GetWelcomeGroup = redis:get(JoKeR..'Get:Welcome:Group'..msg.chat_id_)  
if GetWelcomeGroup then 
t = GetWelcomeGroup
else  
t = '\nтАв ┘Ж┘И╪▒╪к ╪н╪и┘К \nтАв  name \nтАв user' 
end 
t = t:gsub('name',result.first_name_) 
t = t:gsub('user',('@'..result.username_ or '┘Д╪з ┘К┘И╪м╪п')) 
send(msg.chat_id_, msg.id_,t)
end,nil) 
end 
end 
--------------------------------------------------------------------------------------------------------------
if msg.content_.photo_ then  
if redis:get(JoKeR..'Change:Chat:Photo'..msg.chat_id_..':'..msg.sender_user_id_) then 
if msg.content_.photo_.sizes_[3] then  
photo_id = msg.content_.photo_.sizes_[3].photo_.persistent_id_ 
else 
photo_id = msg.content_.photo_.sizes_[0].photo_.persistent_id_ 
end 
tdcli_function ({ID = "ChangeChatPhoto",chat_id_ = msg.chat_id_,photo_ = getInputFile(photo_id) }, function(arg,data)   
if data.code_ == 3 then
send(msg.chat_id_, msg.id_,'тЪатФЖ ╪╣╪░╪▒╪з ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ┘И╪з┘Д┘Е╪н╪з┘И┘Д┘З ┘Д╪з╪н┘В╪з') 
redis:del(JoKeR..'Change:Chat:Photo'..msg.chat_id_..':'..msg.sender_user_id_) 
return false  end
if data.message_ == "CHAT_ADMIN_REQUIRED" then 
send(msg.chat_id_, msg.id_,'тЪатФЖтАж ┘Д┘К╪│ ┘Д╪п┘К ╪╡┘Д╪з╪н┘К╪й ╪к╪║┘К┘К╪▒ ┘Е╪╣┘Д┘И┘Е╪з╪к ╪з┘Д┘Е╪м┘Е┘И╪╣┘З ┘К╪▒╪м┘Й ╪з┘Д┘Е╪н╪з┘И┘Д┘З ┘Д╪з╪н┘В╪з') 
redis:del(JoKeR..'Change:Chat:Photo'..msg.chat_id_..':'..msg.sender_user_id_) 
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪║┘К╪▒ ╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░') 
end
end, nil) 
redis:del(JoKeR..'Change:Chat:Photo'..msg.chat_id_..':'..msg.sender_user_id_) 
end   
end
--------------------------------------------------------------------------------------------------------------
if redis:get(JoKeR.."Set:Description" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then  
if text == '╪з┘Д╪║╪з╪б' then 
send(msg.chat_id_, msg.id_,"ЁЯУМтФЖ ╪к┘Е ╪з┘Д╪║╪з╪б ┘И╪╢╪╣ ╪з┘Д┘И╪╡┘Б") 
redis:del(JoKeR.."Set:Description" .. msg.chat_id_ .. "" .. msg.sender_user_id_)
return false  
end 
redis:del(JoKeR.."Set:Description" .. msg.chat_id_ .. "" .. msg.sender_user_id_)   
https.request('https://api.telegram.org/bot'..token..'/setChatDescription?chat_id='..msg.chat_id_..'&description='..text) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪║┘К╪▒ ┘И╪╡┘Б ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯТЮ ▄░')   
return false  
end 
--------------------------------------------------------------------------------------------------------------
if redis:get(JoKeR.."Welcome:Group" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' then 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╢ ╪з┘Д╪к╪▒╪н┘К╪и ЁЯТЮ ▄░") 
redis:del(JoKeR.."Welcome:Group" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  
end 
redis:del(JoKeR.."Welcome:Group" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
redis:set(JoKeR..'Get:Welcome:Group'..msg.chat_id_,text) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╢ ╪з┘Д╪к╪▒╪н┘К╪и ▄К ┘В┘Е ╪и╪з┘Д╪к╪м╪▒╪и┘З ▄К ЁЯТЮ ▄░')   
return false   
end
--------------------------------------------------------------------------------------------------------------
if redis:get(JoKeR.."Set:Priovate:Group:Link"..msg.chat_id_..""..msg.sender_user_id_) then
if text == '╪з┘Д╪║╪з╪б' then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╕ ╪з┘Д╪▒╪з╪и╪╖ ▄К ЁЯТЮ ▄░")       
redis:del(JoKeR.."Set:Priovate:Group:Link"..msg.chat_id_..""..msg.sender_user_id_) 
return false
end
if text and text:match("(https://telegram.me/%S+)") or text and text:match("(https://t.me/%S+)") then     
local Link = text:match("(https://telegram.me/%S+)") or text:match("(https://t.me/%S+)")   
redis:set(JoKeR.."Private:Group:Link"..msg.chat_id_,Link)
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪▒╪з╪и╪╖ ▄К ┘В┘Е ╪и╪з┘Д╪к╪м╪▒╪и┘З ▄К ЁЯТЮ ▄░")       
redis:del(JoKeR.."Set:Priovate:Group:Link"..msg.chat_id_..""..msg.sender_user_id_) 
return false 
end
end 
--------------------------------------------------------------------------------------------------------------
if JoKeR_Msg and not Vips(msg) then  
local JoKeR_Msg = redis:get(JoKeR.."Add:Filter:Rp2"..text..msg.chat_id_)   
if JoKeR_Msg then    
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
if data.username_ ~= false then
send(msg.chat_id_,0,"тЪатФЖ╪з┘Д╪╣╪╢┘И : {["..data.first_name_.."](T.ME/"..data.username_..")}\nЁЯЪлтФЖ["..JoKeR_Msg.."] \n") 
else
send(msg.chat_id_,0,"тЪатФЖ╪з┘Д╪╣╪╢┘И : {["..data.first_name_.."](T.ME/JoKeR_aHs)}\nЁЯЪлтФЖ["..JoKeR_Msg.."] \n") 
end
end,nil)   
DeleteMessage(msg.chat_id_, {[0] = msg.id_})     
return false
end
end
--------------------------------------------------------------------------------------------------------------
if not Vips(msg) and msg.content_.ID ~= "MessageChatAddMembers" and redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") then 
floods = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") or 'nil'
NUM_MSG_MAX = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodmax") or 5
TIME_CHECK = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodtime") or 5
local post_count = tonumber(redis:get(JoKeR..'floodc:'..msg.sender_user_id_..':'..msg.chat_id_) or 0)
if post_count > tonumber(redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodmax") or 5) then 
local ch = msg.chat_id_
local type = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") 
trigger_anti_spam(msg,type)  
end
redis:setex(JoKeR..'floodc:'..msg.sender_user_id_..':'..msg.chat_id_, tonumber(redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodtime") or 3), post_count+1) 
local edit_id = data.text_ or 'nil'  
NUM_MSG_MAX = 5
if redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodmax") then
NUM_MSG_MAX = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodmax") 
end
if redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodtime") then
TIME_CHECK = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodtime") 
end 
end 
--------------------------------------------------------------------------------------------------------------
if text and redis:get(JoKeR..'lock:Fshar'..msg.chat_id_) and not Owners(msg) then 
list = {"┘Г╪│","┘Г╪│┘Е┘Г","┘Г╪│╪о╪к┘Г","╪╣┘К╪▒","┘Г╪│╪о╪з┘Д╪к┘Г","╪о╪▒╪з ╪и╪з┘Д┘Д┘З","╪╣┘К╪▒ ╪и╪з┘Д┘Д┘З","┘Г╪│╪о┘И╪з╪к┘Г┘Е","┘Г╪н╪з╪и","┘Е┘Ж╪з┘И┘К╪м","┘Е┘Ж╪з┘И┘К╪м","┘Г╪н╪и┘З","╪з╪и┘Ж ╪з┘Д┘Г╪н╪и┘З","┘Б╪▒╪о","┘Б╪▒┘И╪о","╪╖┘К╪▓┘Г","╪╖┘К╪▓╪о╪к┘Г"}
for k,v in pairs(list) do
print(string.find(text,v))
if string.find(text,v) ~= nil then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
end
end
end
if text and redis:get(JoKeR..'lock:Fars'..msg.chat_id_) and not Owners(msg) then 
list = {"┌Д","┌п","┌й┘З","┘╛█М","╪о╪│╪к┘З","╪и╪▒┘Е","╪▒╪з╪н╪к█М","╪и█М╪з┘Е","╪и┘╛┘И╪┤┘Е","┌п╪▒┘Е┘З","┌Ж┘З","┌Ж","┌м","┘║","┌Ж","┌З","┌┐","┌А","┌О","▌л","┌Ш","┌Я","▌Ь","┌╕","┘╛","█┤","╪▓╪п┘Ж","╪п╪о╪к╪▒╪з","╪п█М┘И╪л","┘Е┌й","╪▓╪п┘Ж"}
for k,v in pairs(list) do
if string.find(text,v) ~= nil then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
end
end
end
if text and redis:get(JoKeR..'lock:Fars'..msg.chat_id_) and not Owners(msg) then 
list = {'a','u','y','l','t','b','A','Q','U','J','K','L','B','D','L','V','Z','k','n','c','r','q','o','z','I','j','m','M','w','d','h','e'}
for k,v in pairs(list) do
if string.find(text,v) ~= nil then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
end
end
end
--------------------------------------------------------------------------------------------------------------
if redis:get(JoKeR..'lock:text'..msg.chat_id_) and not Vips(msg) then       
DeleteMessage(msg.chat_id_,{[0] = msg.id_})   
return false     
end     
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageChatAddMembers" then 
redis:incr(JoKeR..'Add:Contact'..msg.chat_id_..':'..msg.sender_user_id_) 
end
if msg.content_.ID == "MessageChatAddMembers" and not Vips(msg) then   
if redis:get(JoKeR.."lock:AddMempar"..msg.chat_id_) == 'kick' then
local mem_id = msg.content_.members_  
for i=0,#mem_id do  
chat_kick(msg.chat_id_,mem_id[i].id_)
end
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageChatJoinByLink" and not Vips(msg) then 
if redis:get(JoKeR.."lock:Join"..msg.chat_id_) == 'kick' then
chat_kick(msg.chat_id_,msg.sender_user_id_)
return false  
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.caption_ then 
if msg.content_.caption_:match("@[%a%d_]+") or msg.content_.caption_:match("@(.+)") then  
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "hso" and not Vips(msg) then    
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Е┘Е┘Ж┘И╪╣ ╪з╪▒╪│╪з┘Д ╪з┘Д┘Е╪╣╪▒┘Б тЭХЁЯТХр┐Т') 
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
end
--------------------------------------------------------------------------------------------------------------
if text and text:match("@[%a%d_]+") or text and text:match("@(.+)") then    
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_})
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "hso" and not Vips(msg) then    
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Е┘Е┘Ж┘И╪╣ ╪з╪▒╪│╪з┘Д ╪з┘Д┘Е╪╣╪▒┘Б тЭХЁЯТХр┐Т') 
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.caption_ then 
if msg.content_.caption_:match("#[%a%d_]+") or msg.content_.caption_:match("#(.+)") then 
if redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
end
--------------------------------------------------------------------------------------------------------------
if text and text:match("#[%a%d_]+") or text and text:match("#(.+)") then
if redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.caption_ then 
if msg.content_.caption_:match("/[%a%d_]+") or msg.content_.caption_:match("/(.+)") then  
if redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
end
--------------------------------------------------------------------------------------------------------------
if text and text:match("/[%a%d_]+") or text and text:match("/(.+)") then
if redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "del" and not Vips(msg) then    
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ked" and not Vips(msg) then    
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "kick" and not Vips(msg) then    
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ktm" and not Vips(msg) then    
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessagePhoto' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageVideo' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageAnimation' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.game_ and not Vips(msg) then     
if redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageAudio' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Audio"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Audio"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Audio"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Audio"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageVoice' and not Vips(msg) then     
if redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.reply_markup_ and msg.reply_markup_.ID == 'ReplyMarkupInlineKeyboard' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageSticker' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
if tonumber(msg.via_bot_user_id_) ~= 0 and not Vips(msg) then
if redis:get(JoKeR.."lock:inline"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:inline"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:inline"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:inline"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.forward_info_ and not Vips(msg) then     
if redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
return false
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageDocument' and not Vips(msg) then     
if redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageUnsupported" and not Vips(msg) then      
if redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.entities_ then 
if msg.content_.entities_[0] then 
if msg.content_.entities_[0] and msg.content_.entities_[0].ID == "MessageEntityUrl" or msg.content_.entities_[0].ID == "MessageEntityTextUrl" then      
if not Vips(msg) then
if redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end  
end 
end
end

--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == 'MessageContact' and not Vips(msg) then      
if redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "del" then
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "ked" then
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "kick" then
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "ktm" then
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.text_ and not Vips(msg) then  
local _nl, ctrl_ = string.gsub(text, '%c', '')  
local _nl, real_ = string.gsub(text, '%d', '')   
sens = 400  
if redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "del" and string.len(msg.content_.text_) > (sens) or ctrl_ > (sens) or real_ > (sens) then 
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "ked" and string.len(msg.content_.text_) > (sens) or ctrl_ > (sens) or real_ > (sens) then 
ked(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "kick" and string.len(msg.content_.text_) > (sens) or ctrl_ > (sens) or real_ > (sens) then 
chat_kick(msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "ktm" and string.len(msg.content_.text_) > (sens) or ctrl_ > (sens) or real_ > (sens) then 
redis:sadd(JoKeR..'Muted:User'..msg.chat_id_,msg.sender_user_id_)
DeleteMessage(msg.chat_id_,{[0] = msg.id_}) 
end
end
if msg.content_.ID == 'MessageSticker' and not Owners(msg) then 
local filter = redis:smembers(JoKeR.."filtersteckr"..msg.chat_id_)
for k,v in pairs(filter) do
if v == msg.content_.sticker_.set_id_ then
tdcli_function({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
if data.username_ ~= false then
send(msg.chat_id_,0, "▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ @["..data.username_.."]  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘Д┘Е┘Д╪╡┘В ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n" ) 
else
send(msg.chat_id_,0, "▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ ["..data.first_name_.."](T.ME/JoKeR_aHs)  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘Д┘Е┘Д╪╡┘В ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n" ) 
end
end,nil)   
DeleteMessage(msg.chat_id_,{[0] = msg.id_})       
return false   
end
end
end

------------------------------------------------------------------------

------------------------------------------------------------------------
if msg.content_.ID == 'MessagePhoto' and not Owners(msg) then 
local filter = redis:smembers(JoKeR.."filterphoto"..msg.chat_id_)
for k,v in pairs(filter) do
if v == msg.content_.photo_.id_ then
tdcli_function({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
if data.username_ ~= false then
send(msg.chat_id_,0,"▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ @["..data.username_.."]  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘Д╪╡┘И╪▒┘З ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n" ) 
else
send(msg.chat_id_,0,"▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ ["..data.first_name_.."](T.ME/JoKeR_aHs)  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘Д╪╡┘И╪▒┘З ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n") 
end
end,nil)   
DeleteMessage(msg.chat_id_,{[0] = msg.id_})       
return false   
end
end
end
------------------------------------------------------------------------
if msg.content_.ID == 'MessageAnimation' and not Owners(msg) then 
local filter = redis:smembers(JoKeR.."filteranimation"..msg.chat_id_)
for k,v in pairs(filter) do
if v == msg.content_.animation_.animation_.persistent_id_ then
tdcli_function({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
if data.username_ ~= false then
send(msg.chat_id_,0,"▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ @["..data.username_.."]  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘Д┘Е╪к╪н╪▒┘Г╪й┘З ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n") 
else
send(msg.chat_id_,0,"▄Бр╝птФЖ╪╣╪░╪▒╪г ┘К╪з  тЧГ ["..data.first_name_.."](T.ME/JoKeR_aHs)  ?? ▄░\n▄Бр╝птФЖ╪з┘Д┘Е╪к╪н╪▒┘Г╪й┘З ╪з┘Д╪к┘К ╪з╪▒╪│┘Д╪к┘З╪з╪з ╪к┘Е ┘Е┘Ж╪╣┘З╪з╪з ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ЁЯТЮ ▄░\n" ) 
end
end,nil)   
DeleteMessage(msg.chat_id_,{[0] = msg.id_})       
return false   
end
end
end

if text == '╪к┘Б╪╣┘К┘Д' and Sudo(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м╪ж ╪к╪▒┘В┘К╪к┘К... ! ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ ID = "GetChannelFull", channel_id_ = getChatId(msg.chat_id_).ID }, function(arg,data)  
if tonumber(data.member_count_) < tonumber(redis:get(JoKeR..'Num:Add:Bot') or 0) and not Sudo_JoKeR(msg) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘КЁЯТЮ ▄░\n▄Бр╝птФЖ╪╣╪п╪п ╪г╪╣╪╢╪з╪б ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ┘В┘Д┘К┘Д ┘К╪▒╪м╪ж ╪м┘Е╪╣ тЧГ {'..(redis:get(JoKeR..'Num:Add:Bot') or 0)..'} ╪╣╪╢┘И ┘Д┘К╪к┘Е ╪з┘Д╪к┘Б╪╣┘К┘Д ЁЯТЮ ▄░')
return false
end
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(extra,result,success)
tdcli_function({ID ="GetChat",chat_id_=msg.chat_id_},function(arg,chat)  
if redis:sismember(JoKeR..'Chek:Groups',msg.chat_id_) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ┘Е╪│╪и┘В╪з┘Л ЁЯТЮ ▄░')
else
sendText(msg.chat_id_,'\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░',msg.id_/2097152/0.5,'md')
redis:sadd(JoKeR..'Chek:Groups',msg.chat_id_)
local Name = '['..result.first_name_..'](tg://user?id='..result.id_..')'
local NameChat = chat.title_
local IdChat = msg.chat_id_
local NumMember = data.member_count_
local linkgpp = json:decode(https.request('https://api.telegram.org/bot'..token..'/exportChatInviteLink?chat_id='..msg.chat_id_))
if linkgpp.ok == true then 
LinkGp = linkgpp.result
else
LinkGp = '┘Д╪з ┘К┘И╪м╪п'
end
Text = 'ЁЯФЦтФЖ ╪к┘Е ╪к┘Б╪╣┘К┘Д ┘Е╪м┘Е┘И╪╣┘З ╪м╪п┘К╪п┘З\n'..
'\nтШСя╕ПтФЖ ╪и┘И╪з╪│╪╖╪й {'..Name..'}'..
'\nтШСя╕ПтФЖ ╪з┘К╪п┘К ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {`'..IdChat..'`}'..
'\nЁЯСетФЖ ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {['..NameChat..']}'..
'\nЁЯФЦтФЖ╪╣╪п╪п ╪з╪╣╪╢╪з╪б ╪з┘Д┘Е╪м┘Е┘И╪╣┘З *{'..NumMember..'}*'..
'\nЁЯЦЗя╕ПтФЖ ╪з┘Д╪▒╪з╪и╪╖ {['..LinkGp..']}'
if not Sudo_JoKeR(msg) then
sendText(SUDO,Text,0,'md')
end
end
end,nil) 
end,nil) 
end,nil)
end
if text == '╪к╪╣╪╖┘К┘Д' and Sudo(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(extra,result,success)
tdcli_function({ID ="GetChat",chat_id_=msg.chat_id_},function(arg,chat)  
if not redis:sismember(JoKeR..'Chek:Groups',msg.chat_id_) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ┘Е╪│╪и┘В╪з┘Л ЁЯТЮ ▄░')
else
sendText(msg.chat_id_,'\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░',msg.id_/2097152/0.5,'md')
redis:srem(JoKeR..'Chek:Groups',msg.chat_id_)  
local Name = '['..result.first_name_..'](tg://user?id='..result.id_..')'
local NameChat = chat.title_
local IdChat = msg.chat_id_
local AddPy = var
local linkgpp = json:decode(https.request('https://api.telegram.org/bot'..token..'/exportChatInviteLink?chat_id='..msg.chat_id_))
if linkgpp.ok == true then 
LinkGp = linkgpp.result
else
LinkGp = '┘Д╪з ┘К┘И╪м╪п'
end
Text = '\n╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣┘З тФЖЁЯФЦ'..
'\nтШСя╕ПтФЖ ╪и┘И╪з╪│╪╖╪й {'..Name..'}'..
'\nтШСя╕ПтФЖ╪з┘К╪п┘К ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {`'..IdChat..'`}'..
'\nЁЯСетФЖ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {['..NameChat..']}'..
'\nЁЯЦЗя╕ПтФЖ ╪з┘Д╪▒╪з╪и╪╖ {['..LinkGp..']}'
if not Sudo_JoKeR(msg) then
sendText(SUDO,Text,0,'md')
end
end
end,nil) 
end,nil) 
end
if text == '╪к┘Б╪╣┘К┘Д' and not Sudo(msg) and not redis:get(JoKeR..'Free:Bots') then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м╪ж ╪к╪▒┘В┘К╪к┘К... ! ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ ID = "GetChannelFull", channel_id_ = getChatId(msg.chat_id_).ID }, function(arg,data)  
if tonumber(data.member_count_) < tonumber(redis:get(JoKeR..'Num:Add:Bot') or 0) and not Sudo_JoKeR(msg) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪╣╪п╪п ╪г╪╣╪╢╪з╪б ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ┘В┘Д┘К┘Д ┘К╪▒╪м╪ж ╪м┘Е╪╣ тЧГ {'..(redis:get(JoKeR..'Num:Add:Bot') or 0)..'} ╪╣╪╢┘И ┘Д┘К╪к┘Е ╪з┘Д╪к┘Б╪╣┘К┘Д ЁЯТЮ ▄░')
return false
end
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(extra,result,success)
tdcli_function({ID ="GetChat",chat_id_=msg.chat_id_},function(arg,chat)  
tdcli_function ({ID = "GetChatMember",chat_id_ = msg.chat_id_,user_id_ = msg.sender_user_id_},function(arg,da) 
if da and da.status_.ID == "ChatMemberStatusEditor" or da and da.status_.ID == "ChatMemberStatusCreator" then
if da and da.user_id_ == msg.sender_user_id_ then
if da.status_.ID == "ChatMemberStatusCreator" then
var = '╪з┘Д┘Е╪з┘Д┘Г'
elseif da.status_.ID == "ChatMemberStatusEditor" then
var = '┘Е╪┤╪▒┘Б'
end
if redis:sismember(JoKeR..'Chek:Groups',msg.chat_id_) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪к┘Г ┘Е╪│╪и┘В╪з┘Л ЁЯТЮ ▄░')
else
sendText(msg.chat_id_,'\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░',msg.id_/2097152/0.5,'md')
redis:sadd(JoKeR..'Chek:Groups',msg.chat_id_)  
redis:sadd(JoKeR..'Basic:Constructor'..msg.chat_id_, msg.sender_user_id_)
local Name = '['..result.first_name_..'](tg://user?id='..result.id_..')'
local NumMember = data.member_count_
local NameChat = chat.title_
local IdChat = msg.chat_id_
local AddPy = var
local linkgpp = json:decode(https.request('https://api.telegram.org/bot'..token..'/exportChatInviteLink?chat_id='..msg.chat_id_))
if linkgpp.ok == true then 
LinkGp = linkgpp.result
else
LinkGp = '┘Д╪з ┘К┘И╪м╪п'
end
Text = 'ЁЯФЦтФЖ ╪к┘Е ╪к┘Б╪╣┘К┘Д ┘Е╪м┘Е┘И╪╣┘З ╪м╪п┘К╪п┘З\n'..
'\nтШСя╕ПтФЖ ╪и┘И╪з╪│╪╖╪й {'..Name..'}'..
'\nЁЯСдтФЖ ┘Е┘И┘В╪╣┘З ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {'..AddPy..'}' ..
'\nтШСя╕ПтФЖ ╪з┘К╪п┘К ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {`'..IdChat..'`}'..
'\nЁЯСетФЖ ╪╣╪п╪п ╪з╪╣╪╢╪з╪б ╪з┘Д┘Е╪м┘Е┘И╪╣┘З *{'..NumMember..'}*'..
'\nЁЯУЭтФЖ ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣┘З {['..NameChat..']}'..
'\nЁЯЦЗя╕ПтФЖ ╪з┘Д╪▒╪з╪и╪╖ {['..LinkGp..']}'
if not Sudo_JoKeR(msg) then
sendText(SUDO,Text,0,'md')
end
end
end
end
end,nil)   
end,nil) 
end,nil) 
end,nil)
end
if text and text:match("^╪╢╪╣ ╪╣╪п╪п ╪з┘Д╪з╪╣╪╢╪з╪б (%d+)$") and Sudo_JoKeR(msg) then
local Num = text:match("╪╢╪╣ ╪╣╪п╪п ╪з┘Д╪з╪╣╪╢╪з╪б (%d+)$") 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR..'Num:Add:Bot',Num) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪к┘Е ╪к╪╣┘К┘К┘Ж ╪╣╪п╪п ╪з┘Д╪з╪╣╪╢╪з╪б ╪│┘К╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к ╪з┘Д╪к┘К ╪з╪╣╪╢╪з╪ж┘З╪з ╪з┘Г╪л╪▒ ┘Е┘Ж  тЧГ ['..Num..'](t.me/JoKeR_aHs) ╪╣╪╢┘И ЁЯТЮ ▄░')
end
if text == '╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│' and Sudo_JoKeR(msg) then if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end 
send(msg.chat_id_, msg.id_,'тЬетФЖ ╪м╪з╪▒┘К ╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│.. ЁЦж▓ тЧЬ ')
os.execute('rm -rf JoKeR.lua')
os.execute('wget https://raw.githubusercontent.com/BoykaxTeam/JoKeR/master/JoKeR.lua')
sleep(0.5) 
send(msg.chat_id_, msg.id_,'тЬетФЖ ╪к┘Е ╪к╪н╪п┘К╪л ╪з┘Д╪│┘И╪▒╪│ . ЁЦж▓ тЧЬ')
dofile('JoKeR.lua')  
end

if text and text:match("^тАв ╪к╪║┘К╪▒ ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдй  .$") and Sudo_JoKeR(msg) then  
redis:setex(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 360, true)  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ╪н╪│┘Ж╪з ╪з╪▒╪│┘Д ╪з┘Д┘Е╪╣╪▒┘Б ╪з┘Д╪з┘Ж ЁЯТЮ ▄░') 
return false  
end
if text and text:match("^тАв ┘И╪╢╪╣ ┘В┘Ж╪з╪й ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдл  .$") and Sudo_JoKeR(msg) then  
redis:setex(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 360, true)  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪к┘Г ЁЯТЮ ▄░') 
return false  
end
if text == "тАв ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдд  ." and Sudo_JoKeR(msg) then  
if redis:get(JoKeR..'add:ch:id') then
local addchusername = redis:get(JoKeR..'add:ch:username')
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘КЁЯТЮ ▄░")
else
redis:setex(JoKeR.."add:ch:jm" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 360, true)  
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪з╪┤╪к╪▒╪з┘Г ╪з╪м╪и╪з╪▒┘КЁЯТЮ ▄░")
end
return false  
end
if text == "тАв ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ЁЦдд  ." and Sudo_JoKeR(msg) then  
redis:del(JoKeR..'add:ch:id')
redis:del(JoKeR..'add:ch:username')
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘К ЁЯТЮ ▄░") 
return false  
end
if text == "тАв ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘К ЁЦдл ." and Sudo_JoKeR(msg) then  
if redis:get(JoKeR..'add:ch:username') then
local addchusername = redis:get(JoKeR..'add:ch:username')
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘КЁЯТЮ ▄░")
else
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘В┘Ж╪з╪й ┘Б┘К ╪з┘Д╪з╪┤╪к╪▒╪з┘Г ╪з┘Д╪з╪м╪и╪з╪▒┘К  ЁЯТЮ ▄░ ") 
end
return false  
end


if text == '╪з┘Д╪│┘И╪▒╪│' or text == '╪│┘И╪▒╪│' or text == '┘К╪з ╪│┘И╪▒╪│' then
Text = [[
ЁЯТвтФЗSource JoKeR 
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ

ЁЯТатФЗ[Channel Source](t.me/JoKeR_aHs) ╪М

ЁЯТнтФЗ[DeV Source](t.me/bbbbl) 

ЁЯТмтФЗ[Communication Source](t.me/GSGGG) 

тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЪЬтФЗThAnk You  !
]]
send(msg.chat_id_, msg.id_,Text)
return false
end

--------------------------------------------------------------------------------------------------------------
if Chat_Type == 'GroupBot' and ChekAdd(msg.chat_id_) == true then
if text == '╪▒┘Б╪╣ ╪з┘Д┘Ж╪│╪о┘З ╪з┘Д╪з╪н╪к┘К╪з╪╖┘К┘З' and Sudo_JoKeR(msg) then   
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if tonumber(msg.reply_to_message_id_) > 0 then
function by_reply(extra, result, success)   
if result.content_.document_ then 
local ID_FILE = result.content_.document_.document_.persistent_id_ 
local File_Name = result.content_.document_.file_name_
AddFile_Bot(msg,msg.chat_id_,ID_FILE,File_Name)
end   
end
tdcli_function ({ ID = "GetMessage", chat_id_ = msg.chat_id_, message_id_ = tonumber(msg.reply_to_message_id_) }, by_reply, nil)
end
end
if text == '╪м┘Д╪и ╪з┘Д┘Ж╪│╪о┘З ╪з┘Д╪з╪н╪к┘К╪з╪╖┘К┘З' and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
GetFile_Bot(msg)
end
if text == '╪з┘Д╪з┘И╪з┘Е╪▒ ╪з┘Д┘Е╪╢╪з┘Б┘З' and Constructor(msg) then
local list = redis:smembers(JoKeR..'List:Cmd:Group:New'..msg.chat_id_..'')
t = "┘н ЁЦдУтФЖ┘В╪з╪ж┘Е╪й ╪з┘Д╪з┘И╪з┘Е╪▒ ╪з┘Д┘Е╪╢╪з┘Б╪й┘ЗЁЯТЮЁЯТЮтЧЯ\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
Cmds = redis:get(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..v)
print(Cmds)
if Cmds then 
t = t.."ЁЦа╡ "..k.." тЧЬ"..v.." тЧГ "..Cmds.." тЧЮ .\n"
else
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪з┘И╪з┘Е┘А┘П╪▒ ┘Е╪╢╪з┘Б╪й┘З ЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_,'['..t..']')
end
if text == '╪н╪░┘Б ╪з┘Д╪з┘И╪з┘Е╪▒ ╪з┘Д┘Е╪╢╪з┘Б┘З' or text == '┘Е╪│╪н ╪з┘Д╪з┘И╪з┘Е╪▒ ╪з┘Д┘Е╪╢╪з┘Б┘З' then
if Constructor(msg) then 
local list = redis:smembers(JoKeR..'List:Cmd:Group:New'..msg.chat_id_)
for k,v in pairs(list) do
redis:del(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..v)
redis:del(JoKeR..'List:Cmd:Group:New'..msg.chat_id_)
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪м┘Е┘К╪╣ ╪з┘Д╪з┘И╪з┘Е╪▒ ╪з┘Д┘Е╪╢╪з┘Б┘З ЁЯТЮ ▄░')  
end
end
if text == '╪з╪╢┘Б ╪з┘Е╪▒' and Constructor(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR.."Set:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_,'true') 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪з┘Е╪▒ ╪з┘Д┘В╪п┘К┘Е ЁЯТЮ ▄░')  
return false
end
if text == '╪н╪░┘Б ╪з┘Е╪▒' or text == '┘Е╪│╪н ╪з┘Е╪▒' then 
if Constructor(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR.."Del:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_,'true') 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪з┘Е╪▒ ╪з┘Д╪░┘К ╪к╪▒┘К╪п ╪н╪░┘Б┘З ЁЦвЯ .')  
return false
end
end
if text and redis:get(JoKeR.."Set:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_) == 'true' then
redis:set(JoKeR.."Set:Cmd:Group:New"..msg.chat_id_,text)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘В┘Е ╪и╪з╪▒╪│╪з┘Д ╪з┘Д╪з┘Е╪▒ ╪з┘Д╪м╪п┘К╪п ЁЯТЮ ▄░')  
redis:del(JoKeR.."Set:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_)
redis:set(JoKeR.."Set:Cmd:Group1"..msg.chat_id_..':'..msg.sender_user_id_,'true1') 
return false
end
if text and redis:get(JoKeR.."Set:Cmd:Group1"..msg.chat_id_..':'..msg.sender_user_id_) == 'true1' then
local NewCmd = redis:get(JoKeR.."Set:Cmd:Group:New"..msg.chat_id_)
redis:set(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..text,NewCmd)
redis:sadd(JoKeR.."List:Cmd:Group:New"..msg.chat_id_,text)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╢ ╪з┘Д╪з┘Е╪▒ ▄К ┘В┘Е ╪и╪з┘Д╪к╪м╪▒╪и┘З ▄К ЁЯТЮ ▄░')  
redis:del(JoKeR.."Set:Cmd:Group1"..msg.chat_id_..':'..msg.sender_user_id_)
return false
end
--------------------------------------------------------------------------------------------------------------
if text == '┘В┘Б┘Д ╪з┘Д╪п╪▒╪п╪┤┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:set(JoKeR.."lock:text"..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data)  
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪п╪▒╪п╪┤┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з╪╢╪з┘Б┘З' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:set(JoKeR.."lock:AddMempar"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪╢╪з┘Б┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪п╪о┘И┘Д' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:set(JoKeR.."lock:Join"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪п╪о┘И┘Д ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪и┘И╪к╪з╪к' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:set(JoKeR.."lock:Bot:kick"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪и┘И╪к╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪и┘И╪к╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:set(JoKeR.."lock:Bot:kick"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪и┘И╪к╪з╪к ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з╪┤╪╣╪з╪▒╪з╪к' and msg.reply_to_message_id_ == 0 and Mod(msg) then  
redis:set(JoKeR..'lock:tagservr'..msg.chat_id_,true)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪┤╪╣╪з╪▒╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к╪л╪и┘К╪к' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:set(JoKeR.."lockpin"..msg.chat_id_, true) 
redis:sadd(JoKeR..'lock:pin',msg.chat_id_) 
tdcli_function ({ ID = "GetChannelFull",  channel_id_ = getChatId(msg.chat_id_).ID }, function(arg,data)  redis:set(JoKeR..'Pin:Id:Msg'..msg.chat_id_,data.pinned_message_id_)  end,nil)
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪л╪и┘К╪к ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к╪╣╪п┘К┘Д' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:set(JoKeR..'lock:edit'..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪╣╪п┘К┘Д ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Б╪┤╪з╪▒' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:set(JoKeR..'lock:Fshar'..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б╪┤╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)  
elseif text == '┘В┘Б┘Д ╪з┘Д┘Б╪з╪▒╪│┘К┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:set(JoKeR..'lock:Fars'..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б╪з╪▒╪│┘К┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з┘Ж┘Г┘Д┘К╪▓┘К┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:set(JoKeR..'lock:Fars'..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ?? ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘Ж┘Г┘Д┘К╪▓┘К┘З ЁЯТЮ ▄░ ')  
end,nil)
elseif text == '┘В┘Б┘Д ╪з┘Д╪з┘Ж┘Д╪з┘К┘Ж' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:set(JoKeR.."lock:inline"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘И┘Ж┘Д╪з┘К┘Ж ЁЯТЮ ▄░ ')  
end,nil)
elseif text == '┘В┘Б┘Д ╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:set(JoKeR..'lock_edit_med'..msg.chat_id_,true) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘Д' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:set(JoKeR..'lock:tagservrbot'..msg.chat_id_,true)   
list ={"lock:Bot:kick","lock:user:name","lock:hashtak","lock:Cmd","lock:Link","lock:forward","lock:Keyboard","lock:geam","lock:Photo","lock:Animation","lock:Video","lock:Audio","lock:vico","lock:Sticker","lock:Document","lock:Unsupported","lock:Markdaun","lock:Contact","lock:Spam"}
for i,lock in pairs(list) do 
redis:set(JoKeR..lock..msg.chat_id_,'del')    
end
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪м┘Е┘К╪╣ ╪з┘Д╪з┘И╪з┘Е╪▒ ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
end
if text == '┘Б╪к╪н ╪з┘Д╪з┘Ж┘Д╪з┘К┘Ж' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR.."lock:inline"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з┘И┘Ж┘Д╪з┘К┘Ж ЁЯТЮ ')  
end,nil)
elseif text == '┘Б╪к╪н ╪з┘Д╪з╪╢╪з┘Б┘З' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR.."lock:AddMempar"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з╪╢╪з┘Б┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪п╪▒╪п╪┤┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:del(JoKeR.."lock:text"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪п╪▒╪п╪┤┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪п╪о┘И┘Д' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR.."lock:Join"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪п╪о┘И┘Д ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪и┘И╪к╪з╪к' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR.."lock:Bot:kick"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪и┘И╪к╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪и┘И╪к╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR.."lock:Bot:kick"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘Б╪к╪н ╪з┘Д╪и┘И╪к╪з╪к ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪з╪┤╪╣╪з╪▒╪з╪к' and msg.reply_to_message_id_ == 0 and Mod(msg) then  
redis:del(JoKeR..'lock:tagservr'..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з╪┤╪╣╪з╪▒╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪к╪л╪и┘К╪к' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:del(JoKeR.."lockpin"..msg.chat_id_)  
redis:srem(JoKeR..'lock:pin',msg.chat_id_)
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ?? ┘н\nтФд ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к╪л╪и┘К╪к ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪к╪╣╪п┘К┘Д' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:del(JoKeR..'lock:edit'..msg.chat_id_) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Б╪┤╪з╪▒' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:del(JoKeR..'lock:Fshar'..msg.chat_id_) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Б╪┤╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Б╪з╪▒╪│┘К┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:del(JoKeR..'lock:Fshar'..msg.chat_id_) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Б╪з╪▒╪│┘К┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪з┘Ж┘Г┘Д┘К╪▓┘К┘З' and msg.reply_to_message_id_ == 0 and Owners(msg) then 
redis:del(JoKeR..'lock:Fars'..msg.chat_id_) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з┘Ж┘Г┘Д┘К╪▓┘К┘З ЁЯТЮ ▄░ ')  
end,nil)
elseif text == '┘Б╪к╪н ╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з' and msg.reply_to_message_id_ == 0 and Constructor(msg) then 
redis:del(JoKeR..'lock_edit_med'..msg.chat_id_) 
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Г┘Д' and msg.reply_to_message_id_ == 0 and Mod(msg) then 
redis:del(JoKeR..'lock:tagservrbot'..msg.chat_id_)   
list ={"lock:Bot:kick","lock:user:name","lock:hashtak","lock:Cmd","lock:Link","lock:forward","lock:Keyboard","lock:geam","lock:Photo","lock:Animation","lock:Video","lock:Audio","lock:vico","lock:Sticker","lock:Document","lock:Unsupported","lock:Markdaun","lock:Contact","lock:Spam"}
for i,lock in pairs(list) do 
redis:del(JoKeR..lock..msg.chat_id_)    
end
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘Б╪к╪н ╪м┘Е┘К╪╣ ╪з┘Д╪з┘И╪з┘Е╪▒ ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Link"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Link"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д╪к┘В┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Link"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Link"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪▒┘И╪з╪и╪╖ ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪▒┘И╪з╪и╪╖' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Link"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪▒┘И╪з╪и╪╖ ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:user:name"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:user:name"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪к┘В┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)  
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪к╪н╪░┘К╪▒' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:user:name"..msg.chat_id_,'hso')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪к╪н╪░┘К╪▒ ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:user:name"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д┘Г╪к┘Е ?? ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:user:name"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:user:name"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪к╪з┘Г' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:hashtak"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:hashtak"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д╪к┘В┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:hashtak"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:hashtak"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к╪з┘Г ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)  
elseif text == '┘Б╪к╪н ╪з┘Д╪к╪з┘Г' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:hashtak"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к╪з┘Г ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Cmd"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Cmd"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Cmd"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Cmd"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪┤╪з╪▒╪н┘З ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪┤╪з╪▒╪н┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Cmd"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪┤╪з╪▒╪н┘З ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒'and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Photo"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Photo"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Photo"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Photo"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪▒ ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪╡┘И╪▒' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Photo"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪╡┘И╪▒ ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Video"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б┘К╪п ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Video"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Video"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Video"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Б┘К╪п┘К┘И ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Б┘К╪п┘К┘И' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Video"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Б┘К╪п ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Animation"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Animation"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Animation"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Animation"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪к╪н╪▒┘Г┘З ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Е╪к╪н╪▒┘Г┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Animation"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Е╪к╪н╪▒┘Г╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:geam"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:geam"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:geam"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:geam"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪з┘Д╪╣╪з╪и' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:geam"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з┘Д╪╣╪з╪и ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Audio"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Audio"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Audio"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Audio"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪з╪║╪з┘Ж┘К ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪з╪║╪з┘Ж┘К' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Audio"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪з╪║╪з┘Ж┘К ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:vico"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ?? ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:vico"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:vico"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:vico"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪╡┘И╪к ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪╡┘И╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:vico"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪╡┘И╪к ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Keyboard"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Keyboard"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Keyboard"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Keyboard"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪и┘К┘Г ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Г┘К╪и┘И╪▒╪п ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Г┘К╪и┘И╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Keyboard"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Г┘К╪и┘И╪▒╪п ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Sticker"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Sticker"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Sticker"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Sticker"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ╪и╪з┘Д╪╖╪▒╪пЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Е┘Д╪╡┘В╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Sticker"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:forward"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:forward"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:forward"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:forward"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘И╪м┘К┘З ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪к┘И╪м┘К┘З' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:forward"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к┘И╪м┘К┘З ЁЯТЮ ▄░ ')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Document"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ЁЯТЮ ▄░ ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Document"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Document"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И  ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д┘Г╪к┘Е ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Document"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е┘Д┘Б╪з╪к ╪и╪з┘Д╪╖╪▒╪п ЁЯТЮ ┘н\nтФШ ╪и┘И╪з╪│╪╖╪й уВатЧЮ *@'..data.username_..'* тЧЬ  тЬЫ ┘н')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Е┘Д┘Б╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Document"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Е┘Д┘Б╪з╪к ЁЯТЮ ▄░')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪│┘К┘Д┘Б┘К' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Unsupported"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ЁЯТЮ ▄░')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Unsupported"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д╪к┘В┘К┘К╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪к┘В┘К┘К╪п ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Unsupported"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д┘Г╪к┘Е\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д┘Г╪к┘Е ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Unsupported"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪│┘К┘Д┘Б┘К ╪и╪з┘Д╪╖╪▒╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪╖╪▒╪п ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪│┘К┘Д┘Б┘К' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Unsupported"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪│┘К┘Д┘Б┘К ЁЯТЮ ▄░')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Markdaun"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п┘И┘Ж ЁЯТЮ ▄░')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Markdaun"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д╪к┘В┘К┘К╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪к┘В┘К┘К╪п ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Markdaun"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д┘Г╪к┘Е\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д┘Г╪к┘Е ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Markdaun"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж ╪и╪з┘Д╪╖╪▒╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪╖╪▒╪п ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Е╪з╪▒┘Г╪п╪з┘И┘Ж' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Markdaun"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Е╪з╪▒┘Г╪п┘И┘Ж ЁЯТЮ ▄░')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪м┘З╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Contact"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪м┘З╪з╪к ЁЯТЮ ▄░')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Contact"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д╪к┘В┘К┘К╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪к┘В┘К┘К╪п ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Contact"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д┘Г╪к┘Е\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д┘Г╪к┘Е ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Contact"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д╪м┘З╪з╪к ╪и╪з┘Д╪╖╪▒╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪╖╪▒╪п ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д╪м┘З╪з╪к' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Contact"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д╪м┘З╪з╪к ЁЯТЮ ▄░')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Spam"..msg.chat_id_,'del')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘В┘Б┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ЁЯТЮ ▄░')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Spam"..msg.chat_id_,'ked')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д╪к┘В┘К┘К╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪к┘В┘К┘К╪п ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Spam"..msg.chat_id_,'ktm')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д┘Г╪к┘Е\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д┘Г╪к┘Е ')  
end,nil)   
elseif text == '┘В┘Б┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:set(JoKeR.."lock:Spam"..msg.chat_id_,'kick')  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'ЁЯСдтФЖ ╪и┘И╪з╪│╪╖┘З тЖР ['..utf8.sub(data.first_name_,0,60)..'](T.ME/'..(data.username_ or 'JoKeR_aHs')..') \nтШСя╕ПтФЖ ╪к┘А┘Е ┘В┘Б┘А┘Д ╪з┘Д┘Г┘Д╪з┘К╪┤ ╪и╪з┘Д╪╖╪▒╪п\nтЫФтФЖ ╪з┘Д╪н╪з┘Д┘З тЖР╪з┘Д╪╖╪▒╪п ')  
end,nil)   
elseif text == '┘Б╪к╪н ╪з┘Д┘Г┘Д╪з┘К╪┤' and Mod(msg) and msg.reply_to_message_id_ == 0 then 
redis:del(JoKeR.."lock:Spam"..msg.chat_id_)  
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ┘Б╪к╪н ╪з┘Д┘Г┘Д╪з┘К╪┤ ЁЯТЮ ▄░')  
end,nil)   
end
if text == '┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ╪и╪з┘Д╪╖╪▒╪п' and Mod(msg) then 
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"flood",'kick')  
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪з┘Д╪н╪з┘Д╪й тЧГ ╪з┘Д╪к┘В┘К┘К╪п ▄К ╪з┘Д┘Г╪к┘Е ▄К [╪з┘Д╪╖╪▒╪п](t.me/JoKeR_aHs) .')
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒' and Mod(msg) then 
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"flood",'del')  
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к┘Г╪▒╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪з┘Д╪н╪з┘Д╪й р╝п [╪з┘Д┘Е╪│┘А╪н](t.me/JoKeR_aHs) ┘н')
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ╪и╪з┘Д╪к┘В┘К┘К╪п' and Mod(msg) then 
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"flood",'keed')  
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪з┘Д╪н╪з┘Д╪й тЧГ [╪з┘Д╪к┘В┘К┘К╪п](t.me/JoKeR_aHs) ▄К ╪з┘Д┘Г╪к┘Е ▄К ╪з┘Д╪╖╪▒╪п .')
elseif text == '┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ╪и╪з┘Д┘Г╪к┘Е' and Mod(msg) then 
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"flood",'mute')  
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФд ╪к┘Е ┘В┘Б┘Д ╪з┘Д╪к┘Г╪▒╪з╪▒ ЁЯТЮ ┘н\nтФШ ╪з┘Д╪н╪з┘Д╪й тЧГ ╪з┘Д╪к┘В┘К┘К╪п ▄К [╪з┘Д┘Г╪к┘Е](t.me/JoKeR_aHs) ▄К ╪з┘Д╪╖╪▒╪п .')
elseif text == '┘Б╪к╪н ╪з┘Д╪к┘Г╪▒╪з╪▒' and Mod(msg) then 
redis:hdel(JoKeR.."flooding:settings:"..msg.chat_id_ ,"flood")  
send(msg.chat_id_, msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н\nтФШ ╪к┘Е ┘Б╪к╪н ╪з┘Д╪к┘Г╪▒╪з╪▒ ЁЯТЮ ┘н')
end 
--------------------------------------------------------------------------------------------------------------
if text == '╪к╪н╪п┘К╪л' and Sudo_JoKeR(msg) then    
dofile('JoKeR.lua')
send(msg.chat_id_, msg.id_, 'тЬетФЖ ╪к┘Е ╪к╪н╪п┘К╪л ╪з┘Д┘Е┘Д┘Б╪з╪к . ЁЦж▓ тЧЬ') 
end

if text == ("╪к┘В┘К╪п") and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if tonumber(result.sender_user_id_) == tonumber(JoKeR) then  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪к┘В┘К┘К╪п ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ")
return false 
end
if Can_or_NotCan(result.sender_user_id_, msg.chat_id_) then
send(msg.chat_id_, msg.id_, '\n▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪╖╪▒╪п ▄К ╪н╪╕╪▒ ▄К ┘Г╪к┘Е ▄К ╪к┘В┘К┘К╪п \n▄Бр╝птФЖ┘н ( '..Rutba(userid,msg.chat_id_)..' )')
else
https.request("https://api.telegram.org/bot"..token.."/restrictChatMember?chat_id="..msg.chat_id_.."&user_id="..result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪з┘Д╪╣╪╢┘И ╪к┘Е ╪к┘В┘К╪п┘З ┘З┘Ж╪з╪з  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if text and text:match("^╪к┘В┘К╪п @(.*)$") and Mod(msg) then
local username = text:match("^╪к┘В┘К╪п @(.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
if tonumber(result.id_) == tonumber(JoKeR) then  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪к┘В┘К┘К╪п ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ")
return false 
end
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ?? ▄░")   
return false 
end      
if Can_or_NotCan(result.id_, msg.chat_id_) then
send(msg.chat_id_, msg.id_, '\n▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪╖╪▒╪п ▄К ╪н╪╕╪▒ ▄К ┘Г╪к┘Е ▄К ╪к┘В┘К┘К╪п \n▄Бр╝птФЖ┘н ( '..Rutba(userid,msg.chat_id_)..' )')
return false 
end      
https.request("https://api.telegram.org/bot"..token.."/restrictChatMember?chat_id="..msg.chat_id_.."&user_id="..result.id_)

usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪з┘Д╪╣╪╢┘И ╪к┘Е ╪к┘В┘К╪п┘З ┘З┘Ж╪з╪з  ЁЯТЮ ▄░' 
texts = usertext..status
else
texts = '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_, texts)
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end

if text and text:match('^╪к┘В┘К╪п (%d+) (.*)$') and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
local TextEnd = {string.match(text, "^(╪к┘В┘К╪п) (%d+) (.*)$")}
function start_function(extra, result, success)
if TextEnd[3] == '┘К┘И┘Е' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 86400
end
if TextEnd[3] == '╪│╪з╪╣┘З' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 3600
end
if TextEnd[3] == '╪п┘В┘К┘В┘З' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 60
end
TextEnd[3] = TextEnd[3]:gsub('╪п┘В┘К┘В┘З',"╪п┘В╪з┘К┘В") 
TextEnd[3] = TextEnd[3]:gsub('╪│╪з╪╣┘З',"╪│╪з╪╣╪з╪к") 
TextEnd[3] = TextEnd[3]:gsub("┘К┘И┘Е","╪з┘К╪з┘Е") 
if Can_or_NotCan(result.sender_user_id_, msg.chat_id_) then
send(msg.chat_id_, msg.id_, "\n▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪╖╪▒╪п ▄К ╪н╪╕╪▒ ▄К ┘Г╪к┘Е ▄К ╪к┘В┘К┘К╪п \n▄Бр╝птФЖ┘н ( "..Rutba(userid,msg.chat_id_).." )")
else
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И тЧГ '..TextEnd[2]..' '..TextEnd[3]..' ЁЯТЮ ▄░'
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
https.request("https://api.telegram.org/bot"..token.."/restrictChatMember?chat_id="..msg.chat_id_.."&user_id="..result.sender_user_id_..'&until_date='..tonumber(msg.date_+Time))
end
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end


if text and text:match('^╪к┘В┘К╪п (%d+) (.*) @(.*)$') and Mod(msg) then
local TextEnd = {string.match(text, "^(╪к┘В┘К╪п) (%d+) (.*) @(.*)$")}
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
if TextEnd[3] == '┘К┘И┘Е' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 86400
end
if TextEnd[3] == '╪│╪з╪╣┘З' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 3600
end
if TextEnd[3] == '╪п┘В┘К┘В┘З' then
Time_Restrict = TextEnd[2]:match('(%d+)')
Time = Time_Restrict * 60
end
TextEnd[3] = TextEnd[3]:gsub('╪п┘В┘К┘В┘З',"╪п┘В╪з┘К┘В") 
TextEnd[3] = TextEnd[3]:gsub('╪│╪з╪╣┘З',"╪│╪з╪╣╪з╪к") 
TextEnd[3] = TextEnd[3]:gsub("┘К┘И┘Е","╪з┘К╪з┘Е") 
if Can_or_NotCan(result.id_, msg.chat_id_) then
send(msg.chat_id_, msg.id_, "\n▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪╖╪▒╪п ▄К ╪н╪╕╪▒ ▄К ┘Г╪к┘Е ▄К ╪к┘В┘К┘К╪п \n▄Бр╝птФЖ┘н ( "..Rutba(userid,msg.chat_id_).." )")
else
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И тЧГ '..TextEnd[2]..' '..TextEnd[3]..' ЁЯТЮ ▄░'
texts = usertext..status
send(msg.chat_id_, msg.id_,texts)
https.request("https://api.telegram.org/bot"..token.."/restrictChatMember?chat_id="..msg.chat_id_.."&user_id="..result.id_..'&until_date='..tonumber(msg.date_+Time))
end
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = TextEnd[4]}, start_function, nil)
return false
end
------------------------------------------------------------------------
if text and text:match("^╪к┘В┘К╪п (%d+)$") and Mod(msg) then
local userid = text:match("^╪к┘В┘К╪п (%d+)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if tonumber(userid) == tonumber(JoKeR) then  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪к┘В┘К┘К╪п ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░ ")
return false 
end
if Can_or_NotCan(userid, msg.chat_id_) then
send(msg.chat_id_, msg.id_, '\n▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪╖╪▒╪п ▄К ╪н╪╕╪▒ ▄К ┘Г╪к┘Е ▄К ╪к┘В┘К┘К╪п \n▄Бр╝птФЖ┘н ( '..Rutba(userid,msg.chat_id_)..' )')
else
https.request("https://api.telegram.org/bot" .. token .. "/restrictChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..userid)
tdcli_function ({ID = "GetUser",user_id_ = userid},function(arg,data) 
if data.first_name_ then
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪з┘Д╪╣╪╢┘И ╪к┘Е ╪к┘В┘К╪п┘З ┘З┘Ж╪з╪з  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
else
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪з┘Д╪╣╪╢┘И ╪к┘Е ╪к┘В┘К╪п┘З ┘З┘Ж╪з╪з  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
end;end,nil)
end
return false
end
------------------------------------------------------------------------
if text == ("╪з┘Д╪║╪з╪б ╪к┘В┘К╪п") and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
https.request("https://api.telegram.org/bot" .. token .. "/restrictChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" .. result.sender_user_id_ .. "&can_send_messages=True&can_send_media_messages=True&can_send_other_messages=True&can_add_web_page_previews=True")
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
------------------------------------------------------------------------
if text and text:match("^╪з┘Д╪║╪з╪б ╪к┘В┘К╪п @(.*)$") and Mod(msg) then
local username = text:match("^╪з┘Д╪║╪з╪б ╪к┘В┘К╪п @(.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
https.request("https://api.telegram.org/bot" .. token .. "/restrictChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" .. result.id_ .. "&can_send_messages=True&can_send_media_messages=True&can_send_other_messages=True&can_add_web_page_previews=True")
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И  ЁЯТЮ ▄░' 
texts = usertext..status
else
texts = '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_, texts)
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end
------------------------------------------------------------------------
if text and text:match("^╪з┘Д╪║╪з╪б ╪к┘В┘К╪п (%d+)$") and Mod(msg) then
local userid = text:match("^╪з┘Д╪║╪з╪б ╪к┘В┘К╪п (%d+)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
https.request("https://api.telegram.org/bot" .. token .. "/restrictChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..userid.. "&can_send_messages=True&can_send_media_messages=True&can_send_other_messages=True&can_add_web_page_previews=True")
tdcli_function ({ID = "GetUser",user_id_ = userid},function(arg,data) 
if data.first_name_ then
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
else
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И  ЁЯТЮ ▄░' 
send(msg.chat_id_, msg.id_, usertext..status)
end;end,nil)
return false
end
if text and text:match('^╪▒┘Б╪╣ ╪з┘Д┘В┘К┘И╪п @(.*)') and Owners(msg) then 
local username = text:match('^╪▒┘Б╪╣ ╪з┘Д┘В┘К┘И╪п @(.*)') 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
if Sudo_JoKeR(msg) then
redis:srem(JoKeR..'GBan:User',result.id_)
redis:srem(JoKeR..'Ban:User'..msg.chat_id_,result.id_)
redis:srem(JoKeR..'Muted:User'..msg.chat_id_,result.id_)
redis:srem(JoKeR..'Gmute:User'..msg.chat_id_,result.id_)
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪м┘Е┘К╪╣ ╪з┘Д┘В┘К┘И╪п ┘Е┘Ж ╪з┘Д╪╣╪╢┘И ЁЯТЮ ▄░ '
texts = usertext..status
send(msg.chat_id_, msg.id_,texts)
else
redis:srem(JoKeR..'Ban:User'..msg.chat_id_,result.id_)
redis:srem(JoKeR..'Muted:User'..msg.chat_id_,result.id_)
usertext = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░'
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к┘В┘К╪п ╪з┘Д╪╣╪╢┘И  ЁЯТЮ ▄░' 
texts = usertext..status
send(msg.chat_id_, msg.id_,texts)
end
else
Text = 'тФЖ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖'
send(msg.chat_id_, msg.id_,Text)
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
end
if text == "╪▒┘Б╪╣ ╪з┘Д┘В┘К┘И╪п" and Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ?? тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if Sudo_JoKeR(msg) then
redis:srem(JoKeR..'GBan:User',result.sender_user_id_)
redis:srem(JoKeR..'Ban:User'..msg.chat_id_,result.sender_user_id_)
redis:srem(JoKeR..'Muted:User'..msg.chat_id_,result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪м┘Е┘К╪╣ ╪з┘Д┘В┘К┘И╪п ┘Е┘Ж ╪з┘Д╪╣╪╢┘И ЁЯТЮ ▄░ '
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
else
redis:srem(JoKeR..'Ban:User'..msg.chat_id_,result.sender_user_id_)
redis:srem(JoKeR..'Muted:User'..msg.chat_id_,result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪м┘Е┘К╪╣ ╪з┘Д┘В┘К┘И╪п ┘Е┘Ж ╪з┘Д╪╣╪╢┘И ЁЯТЮ ▄░ '
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end
if text and text:match('^┘Г╪┤┘Б ╪з┘Д┘В┘К┘И╪п @(.*)') and Owners(msg) then 
local username = text:match('^┘Г╪┤┘Б ╪з┘Д┘В┘К┘И╪п @(.*)') 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if result.id_ then
if redis:sismember(JoKeR..'Muted:User'..msg.chat_id_,result.id_) then
Muted = '┘Е┘Г╪к┘И┘Е'
else
Muted = '╪║┘К╪▒ ┘Е┘Г╪к┘И┘Е'
end
if redis:sismember(JoKeR..'Ban:User'..msg.chat_id_,result.id_) then
Ban = '┘Е╪н╪╕┘И╪▒'
else
Ban = '╪║┘К╪▒ ┘Е╪н╪╕┘И╪▒'
end
if redis:sismember(JoKeR..'GBan:User',result.id_) then
GBan = '┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
else
GBan = '╪║┘К╪▒ ┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
end
Textt = "▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ┘В┘К┘И╪п ╪з┘Д╪╣╪╢┘И ┘Г╪з┘Д╪з╪к┘К тЦ┐  ▄░\nтАвтАвтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтАвтАв\n▄Бр╝птФЖ╪з┘Д╪н╪╕╪▒ ╪з┘Д╪╣╪з┘Е ╦╝ "..GBan.." ╦╣\n▄Бр╝птФЖ╪з┘Д╪н╪╕╪▒  ╦╝ "..Ban.." ╦╣\n▄Бр╝птФЖ╪з┘Д┘Г╪к┘Е  ╦╝ "..Muted.." ╦╣"
send(msg.chat_id_, msg.id_,Textt)
else
Text = '▄Бр╝птФЖ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖ ЁЯТЮ ▄░ '
send(msg.chat_id_, msg.id_,Text)
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
end

if text == "┘Г╪┤┘Б ╪з┘Д┘В┘К┘И╪п" and Owners(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if redis:sismember(JoKeR..'Muted:User'..msg.chat_id_,result.sender_user_id_) then
Muted = '┘Е┘Г╪к┘И┘Е'
else
Muted = '╪║┘К╪▒ ┘Е┘Г╪к┘И┘Е'
end
if redis:sismember(JoKeR..'Ban:User'..msg.chat_id_,result.sender_user_id_) then
Ban = '┘Е╪н╪╕┘И╪▒'
else
Ban = '╪║┘К╪▒ ┘Е╪н╪╕┘И╪▒'
end
if redis:sismember(JoKeR..'GBan:User',result.sender_user_id_) then
GBan = '┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
else
GBan = '╪║┘К╪▒ ┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
end
if redis:sismember(JoKeR..'Gmute:User',result.sender_user_id_) then
Gmute = '┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
else
Gmute = '╪║┘К╪▒ ┘Е╪н╪╕┘И╪▒ ╪╣╪з┘Е'
end
Textt = "▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ┘В┘К┘И╪п ╪з┘Д╪╣╪╢┘И ┘Г╪з┘Д╪з╪к┘К тЦ┐  ▄░\nтАвтАвтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтАвтАв\n▄Бр╝птФЖ╪з┘Д╪н╪╕╪▒ ╪з┘Д╪╣╪з┘Е ╦╝ "..GBan.." ╦╣\n▄Бр╝птФЖ╪з┘Д╪н╪╕╪▒  ╦╝ "..Ban.." ╦╣\n▄Бр╝птФЖ╪з┘Д┘Г╪к┘Е  ╦╝ "..Muted.." ╦╣"
send(msg.chat_id_, msg.id_,Textt)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end
if text == ("╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и") and msg.reply_to_message_id_ ~= 0 and Constructor(msg) then
function start_function(extra, result, success)
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и ЁЯТЮ ▄░ '
send(msg.chat_id_, msg.id_, usertext..status)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.sender_user_id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=True&can_restrict_members=false&can_pin_messages=True&can_promote_members=false")
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
if text and text:match("^╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и @(.*)$") and Constructor(msg) then
local username = text:match("^╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и @(.*)$")
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и ЁЯТЮ ▄░ '
texts = usertext..status
send(msg.chat_id_, msg.id_, texts)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=True&can_restrict_members=false&can_pin_messages=True&can_promote_members=false")
else
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end
if text == ("╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и") and msg.reply_to_message_id_ ~= 0 and Constructor(msg) then
function start_function(extra, result, success)
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и ЁЯТЮ ▄░'
send(msg.chat_id_, msg.id_, usertext..status)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.sender_user_id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=false&can_restrict_members=false&can_pin_messages=false&can_promote_members=false")
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
if text and text:match("^╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и @(.*)$") and Constructor(msg) then
local username = text:match("^╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и @(.*)$")
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и╪з┘Д┘Г╪▒┘И╪и ЁЯТЮ ▄░'
texts = usertext..status
send(msg.chat_id_, msg.id_, texts)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=false&can_restrict_members=false&can_pin_messages=false&can_promote_members=false")
else
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end


if text == ("╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к") and msg.reply_to_message_id_ ~= 0 and BasicConstructor(msg) then
function start_function(extra, result, success)
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к ЁЯТЮ ▄░'
send(msg.chat_id_, msg.id_, usertext..status)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.sender_user_id_.."&can_change_info=True&can_delete_messages=True&can_invite_users=True&can_restrict_members=True&can_pin_messages=True&can_promote_members=True")
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
if text and text:match("^╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к @(.*)$") and BasicConstructor(msg) then
local username = text:match("^╪▒┘Б╪╣ ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к @(.*)$")
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к ЁЯТЮ ▄░'
texts = usertext..status
send(msg.chat_id_, msg.id_, texts)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.id_.."&can_change_info=True&can_delete_messages=True&can_invite_users=True&can_restrict_members=True&can_pin_messages=True&can_promote_members=True")
else
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end
if text == ("╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к") and msg.reply_to_message_id_ ~= 0 and BasicConstructor(msg) then
function start_function(extra, result, success)
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к ЁЯТЮ ▄░'
send(msg.chat_id_, msg.id_, usertext..status)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.sender_user_id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=false&can_restrict_members=false&can_pin_messages=false&can_promote_members=false")
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
if text and text:match("^╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к @(.*)$") and BasicConstructor(msg) then
local username = text:match("^╪к┘Ж╪▓┘К┘Д ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к @(.*)$")
if msg.can_be_deleted_ == false then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░') 
return false  
end
function start_function(extra, result, success)
if result.id_ then
if (result and result.type_ and result.type_.ID == "ChannelChatInfo") then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪╣╪░╪▒╪з ╪╣╪▓┘К╪▓┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е ┘З╪з╪░╪з ┘Е╪╣╪▒┘Б ┘В┘Ж╪з╪й ┘К╪▒╪м┘Й ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪з┘Е╪▒ ╪и╪╡┘И╪▒┘З ╪╡╪н┘К╪н┘З  ЁЯТЮ ▄░")   
return false 
end      
usertext = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ '
status  = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪з╪п┘Е┘Ж ╪и┘Г┘Д ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к ЁЯТЮ ▄░'
texts = usertext..status
send(msg.chat_id_, msg.id_, texts)
https.request("https://api.telegram.org/bot"..token.."/promoteChatMember?chat_id=" .. msg.chat_id_ .. "&user_id=" ..result.id_.."&can_change_info=false&can_delete_messages=false&can_invite_users=false&can_restrict_members=false&can_pin_messages=false&can_promote_members=false")
else
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н╪│╪з╪и ╪и┘З╪░╪з ╪з┘Д┘Е╪╣╪▒┘Б  ЁЯТЮ ▄░')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
return false
end

if text == '╪з╪╣╪п╪з╪п╪з╪к ╪з┘Д┘Е╪м┘Е┘И╪╣┘З' and Mod(msg) then    
if redis:get(JoKeR..'lockpin'..msg.chat_id_) then    
lock_pin = 'тЬУ'
else 
lock_pin = 'тЬШ'    
end
if redis:get(JoKeR..'lock:tagservr'..msg.chat_id_) then    
lock_tagservr = 'тЬУ'
else 
lock_tagservr = 'тЬШ'    
end
if redis:get(JoKeR..'lock:text'..msg.chat_id_) then    
lock_text = 'тЬУ'
else 
lock_text = 'тЬШ'    
end
if redis:get(JoKeR.."lock:AddMempar"..msg.chat_id_) == 'kick' then
lock_add = 'тЬУ'
else 
lock_add = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:Join"..msg.chat_id_) == 'kick' then
lock_join = 'тЬУ'
else 
lock_join = 'тЬШ'    
end    
if redis:get(JoKeR..'lock:edit'..msg.chat_id_) then    
lock_edit = 'тЬУ'
else 
lock_edit = 'тЬШ'    
end
print(welcome)
if redis:get(JoKeR..'Get:Welcome:Group'..msg.chat_id_) then
welcome = 'тЬУ'
else 
welcome = 'тЬШ'    
end
if redis:get(JoKeR..'lock:edit'..msg.chat_id_) then    
lock_edit_med = 'тЬУ'
else 
lock_edit_med = 'тЬШ'    
end
if redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_, "flood") == "kick" then     
flood = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'     
elseif redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") == "keed" then     
flood = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'     
elseif redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") == "mute" then     
flood = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'           
elseif redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"flood") == "del" then     
flood = '╪и╪з┘Д┘Е╪│╪н тЪб'           
else     
flood = 'тЬШ'     
end
if redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "del" then
lock_photo = 'тЬУ' 
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "ked" then 
lock_photo = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'   
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "ktm" then 
lock_photo = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Photo"..msg.chat_id_) == "kick" then 
lock_photo = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'   
else
lock_photo = 'тЬШ'   
end    
if redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "del" then
lock_phon = 'тЬУ' 
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "ked" then 
lock_phon = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "ktm" then 
lock_phon = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Contact"..msg.chat_id_) == "kick" then 
lock_phon = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_phon = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) == "del" then
lock_links = 'тЬУ'
elseif redis:get(JoKeR.."lock:Link"..msg.chat_id_) == "ked" then
lock_links = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Link"..msg.chat_id_) == "ktm" then
lock_links = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Link"..msg.chat_id_) == "kick" then
lock_links = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_links = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "del" then
lock_cmds = 'тЬУ'
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ked" then
lock_cmds = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "ktm" then
lock_cmds = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'   
elseif redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) == "kick" then
lock_cmds = '╪и╪з┘Д╪╖╪▒╪п ??'    
else
lock_cmds = 'тЬШ'    
end
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "del" then
lock_user = 'тЬУ'
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ked" then
lock_user = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "ktm" then
lock_user = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:user:name"..msg.chat_id_) == "kick" then
lock_user = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_user = 'тЬШ'    
end
if redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "del" then
lock_hash = 'тЬУ'
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ked" then 
lock_hash = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "ktm" then 
lock_hash = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) == "kick" then 
lock_hash = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_hash = 'тЬШ'    
end
if redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "del" then
lock_muse = 'тЬУ'
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ked" then 
lock_muse = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ktm" then 
lock_muse = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "kick" then 
lock_muse = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_muse = 'тЬШ'    
end 
if redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "del" then
lock_ved = 'тЬУ'
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "ked" then 
lock_ved = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "ktm" then 
lock_ved = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Video"..msg.chat_id_) == "kick" then 
lock_ved = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_ved = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "del" then
lock_gif = 'тЬУ'
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "ked" then 
lock_gif = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "ktm" then 
lock_gif = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Animation"..msg.chat_id_) == "kick" then 
lock_gif = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_gif = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "del" then
lock_ste = 'тЬУ'
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "ked" then 
lock_ste = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "ktm" then 
lock_ste = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Sticker"..msg.chat_id_) == "kick" then 
lock_ste = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_ste = 'тЬШ'    
end
if redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "del" then
lock_geam = 'тЬУ'
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "ked" then 
lock_geam = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "ktm" then 
lock_geam = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:geam"..msg.chat_id_) == "kick" then 
lock_geam = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_geam = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "del" then
lock_vico = 'тЬУ'
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ked" then 
lock_vico = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "ktm" then 
lock_vico = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:vico"..msg.chat_id_) == "kick" then 
lock_vico = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_vico = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "del" then
lock_inlin = 'тЬУ'
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "ked" then 
lock_inlin = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "ktm" then 
lock_inlin = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Keyboard"..msg.chat_id_) == "kick" then 
lock_inlin = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'
else
lock_inlin = 'тЬШ'
end
if redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "del" then
lock_fwd = 'тЬУ'
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "ked" then 
lock_fwd = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "ktm" then 
lock_fwd = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:forward"..msg.chat_id_) == "kick" then 
lock_fwd = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_fwd = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "del" then
lock_file = 'тЬУ'
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "ked" then 
lock_file = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "ktm" then 
lock_file = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Document"..msg.chat_id_) == "kick" then 
lock_file = '╪и╪з┘Д╪╖╪▒╪п ??'    
else
lock_file = 'тЬШ'    
end    
if redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "del" then
lock_self = 'тЬУ'
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "ked" then 
lock_self = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "ktm" then 
lock_self = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Unsupported"..msg.chat_id_) == "kick" then 
lock_self = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_self = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Bot:kick"..msg.chat_id_) == 'del' then
lock_bots = 'тЬУ'
elseif redis:get(JoKeR.."lock:Bot:kick"..msg.chat_id_) == 'ked' then
lock_bots = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'   
elseif redis:get(JoKeR.."lock:Bot:kick"..msg.chat_id_) == 'kick' then
lock_bots = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_bots = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "del" then
lock_mark = 'тЬУ'
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "ked" then 
lock_mark = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "ktm" then 
lock_mark = '╪и╪з┘Д┘Г╪к┘Е ЁЯФЗ'    
elseif redis:get(JoKeR.."lock:Markdaun"..msg.chat_id_) == "kick" then 
lock_mark = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_mark = 'тЬШ'    
end
if redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "del" then    
lock_spam = 'тЬУ'
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "ked" then 
lock_spam = '╪и╪з┘Д╪к┘В┘К╪п ЁЯФП'    
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "ktm" then 
lock_spam = '╪и╪з┘Д┘Г╪к┘Е ??'    
elseif redis:get(JoKeR.."lock:Spam"..msg.chat_id_) == "kick" then 
lock_spam = '╪и╪з┘Д╪╖╪▒╪п ЁЯЪ╖'    
else
lock_spam = 'тЬШ'    
end        
if not redis:get(JoKeR..'Reply:Owners'..msg.chat_id_) then
rdmder = 'тЬУ'
else
rdmder = 'тЬШ'
end
if not redis:get(JoKeR..'Reply:Sudo'..msg.chat_id_) then
rdsudo = 'тЬУ'
else
rdsudo = 'тЬШ'
end
if not redis:get(JoKeR..'Bot:Id'..msg.chat_id_)  then
idgp = 'тЬУ'
else
idgp = 'тЬШ'
end
if not redis:get(JoKeR..'Bot:Id:Photo'..msg.chat_id_) then
idph = 'тЬУ'
else
idph = 'тЬШ'
end
if not redis:get(JoKeR..'Lock:kick'..msg.chat_id_)  then
setadd = 'тЬУ'
else
setadd = 'тЬШ'
end
if not redis:get(JoKeR..'Lock:Add:Bot'..msg.chat_id_)  then
banm = 'тЬУ'
else
banm = 'тЬШ'
end
if not redis:get(JoKeR..'Added:Me'..msg.chat_id_) then
addme = 'тЬУ'
else
addme = 'тЬШ'
end
if not redis:get(JoKeR..'Seh:User'..msg.chat_id_) then
sehuser = 'тЬУ'
else
sehuser = 'тЬШ'
end
if not redis:get(JoKeR..'Cick:Me'..msg.chat_id_) then
kickme = 'тЬУ'
else
kickme = 'тЬШ'
end
NUM_MSG_MAX = redis:hget(JoKeR.."flooding:settings:"..msg.chat_id_,"floodmax") or 0
local text = 
'\nЁЯФ░тФЖ╪з╪╣╪п╪з╪п╪з╪к ╪з┘Д┘Е╪м┘Е┘И╪╣┘З ┘Г╪к╪з┘Д┘К тИЪтЖУ'..
'\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\nтШСя╕ПтФЖ ╪╣┘Д╪з┘Е╪й ╪з┘Д {тЬУ} ╪к╪╣┘Ж┘К ┘Е╪╣╪╖┘Д'..
'\nтШСя╕ПтФЖ ╪╣┘Д╪з┘Е╪й ╪з┘Д {тЬШ} ╪к╪╣┘Ж┘К ┘Е┘Б╪╣┘Д'..
'\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\nЁЯУМтФЖ ╪з┘Д╪▒┘И╪з╪и╪╖ тЖР { '..lock_links..
' }\n'..'ЁЯУМтФЖ ╪з┘Д┘Е╪╣╪▒┘Б╪з╪к тЖР { '..lock_user..
' }\n'..'ЁЯУМтФЖ ╪з┘Д╪к╪з┘Г тЖР { '..lock_hash..
' }\n'..'ЁЯУМтФЖ ╪з┘Д╪и┘И╪к╪з╪к тЖР { '..lock_bots..
' }\n'..'ЁЯУМтФЖ╪з┘Д╪к┘И╪м┘К┘З тЖР { '..lock_fwd..
' }\n'..'ЁЯУМтФЖ╪з┘Д╪к╪л╪и┘К╪к тЖР { '..lock_pin..
' }\n'..'ЁЯУМтФЖ ╪з┘Д╪з╪┤╪╣╪з╪▒╪з╪к тЖР { '..lock_tagservr..
' }\n'..'ЁЯУМтФЖ ╪з┘Д┘Е╪з╪▒┘Г╪п┘И┘Ж тЖР { '..lock_mark..
' }\n'..'ЁЯУМтФЖ ╪з┘Д╪к╪╣╪п┘К┘Д тЖР { '..lock_edit..
' }\n'..'ЁЯУМтФЖ ╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з тЖР { '..lock_edit_med..
' }\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\n'..'тШСя╕ПтФЖ ╪з┘Д┘Г┘Д╪з┘К╪┤ тЖР { '..lock_spam..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д┘Г┘К╪и┘И╪▒╪п тЖР { '..lock_inlin..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д╪з╪║╪з┘Ж┘К тЖР { '..lock_vico..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д┘Е╪к╪н╪▒┘Г┘З тЖР { '..lock_gif..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д┘Е┘Д┘Б╪з╪к тЖР { '..lock_file..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д╪п╪▒╪п╪┤┘З тЖР { '..lock_text..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д┘Б┘К╪п┘К┘И тЖР { '..lock_ved..
' }\n'..'тШСя╕ПтФЖ ╪з┘Д╪╡┘И╪▒ тЖР { '..lock_photo..
' }\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\n'..'ЁЯФЦтФЖ ╪з┘Д╪╡┘И╪к тЖР { '..lock_muse..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д┘Е┘Д╪╡┘В╪з╪к тЖР { '..lock_ste..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪м┘З╪з╪к тЖР { '..lock_phon..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪п╪о┘И┘Д тЖР { '..lock_join..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪з╪╢╪з┘Б┘З тЖР { '..lock_add..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪│┘К┘Д┘Б┘К тЖР { '..lock_self..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪з┘Д╪╣╪з╪и тЖР { '..lock_geam..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪к┘Г╪▒╪з╪▒ тЖР { '..flood..
' }\n'..'ЁЯФЦтФЖ ╪з┘Д╪к╪▒╪н┘К╪и тЖР { '..welcome..
' }\n'..'??тФЖ ╪╣╪п╪п ╪з┘Д╪к┘Г╪▒╪з╪▒ тЖР { '..NUM_MSG_MAX..
' }\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\nЁЯФ░тФЖ ╪╣┘Д╪з┘Е╪й ╪з┘Д {тЬУ} ╪к╪╣┘Ж┘К ┘Е┘Б╪╣┘Д'..
'\nЁЯФ░тФЖ ╪╣┘Д╪з┘Е╪й ╪з┘Д {тЬШ} ╪к╪╣┘Ж┘К ┘Е╪╣╪╖┘Д'..
'\n╪бтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ'..
'\n'..'ЁЯУотФЖ ╪з┘Е╪▒ ╪╡┘К╪н тЖР { '..kickme..
' }\n'..'ЁЯУотФЖ ╪з┘Е╪▒ ╪з╪╖╪▒╪п┘Ж┘К тЖР { '..sehuser..
' }\n'..'ЁЯУотФЖ ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К тЖР { '..addme..
' }\n'..'ЁЯУотФЖ ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ тЖР { '..rdmder..
' }\n'..'ЁЯУотФЖ ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ тЖР { '..rdsudo..
' }\n'..'ЁЯУотФЖ ╪з┘Д╪з┘К╪п┘К тЖР { '..idgp..
' }\n'..'ЁЯУотФЖ ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З тЖР { '..idph..
' }\n'..'ЁЯУотФЖ ╪з┘Д╪▒┘Б╪╣ тЖР { '..setadd..
' }\n'..'ЁЯУотФЖ ╪з┘Д╪н╪╕╪▒ тЖР { '..banm..' }\n\nтФЙ  тФЙ  тФЙ  тФЙ тФЙ  тФЙ  тФЙ  тФЙ  тФЙ  тФЙ\nЁЯФЦтФЖ CH тЦ╕ @JoKeR_aHs\n'
send(msg.chat_id_, msg.id_,text)     
end    
if text ==('╪к╪л╪и┘К╪к') and msg.reply_to_message_id_ ~= 0 and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'lock:pin',msg.chat_id_) and not Constructor(msg) then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪з┘Д╪к╪л╪и┘К╪к ▄К ╪з┘Д╪║╪з╪б ╪к╪л╪и┘К╪к . ╪к┘Е ┘В┘Б┘Д┘З ┘Е┘Ж ┘В╪и┘Д ╪з┘Д┘Е┘Ж╪┤╪ж┘К┘Ж ЁЯТЮ ▄░")  
return false  
end
tdcli_function ({ID = "PinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100',''),message_id_ = msg.reply_to_message_id_,disable_notification_ = 1},function(arg,data) 
if data.ID == "Ok" then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪к╪л╪и┘К╪к ╪з┘Д╪▒╪│╪з┘Д╪й ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░")   
redis:set(JoKeR..'Pin:Id:Msg'..msg.chat_id_,msg.reply_to_message_id_)
elseif data.code_ == 6 then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪з┘Ж╪з ┘Д╪│╪к ╪з╪п┘Е┘Ж ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░")  
elseif data.message_ == "CHAT_NOT_MODIFIED" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘Д╪з ╪к┘И╪м╪п ╪▒╪│╪з┘Д╪й ┘Е╪л╪и╪к╪й ЁЯТЮ ▄░┘З")  
elseif data.message_ == "CHAT_ADMIN_REQUIRED" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘Д┘К╪│╪к ┘Д╪п┘К ╪╡┘Д╪з╪н┘К╪з╪к ╪з┘Д╪к╪л╪и┘К╪к ЁЯТЮ ▄░")  
end
end,nil) 
end
if text == '╪з┘Д╪║╪з╪б ╪з┘Д╪к╪л╪и┘К╪к' and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'lock:pin',msg.chat_id_) and not Constructor(msg) then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪з┘Д╪к╪л╪и┘К╪к ▄К ╪з┘Д╪║╪з╪б ╪к╪л╪и┘К╪к . ╪к┘Е ┘В┘Б┘Д┘З ┘Е┘Ж ┘В╪и┘Д ╪з┘Д┘Е┘Ж╪┤╪ж┘К┘Ж ЁЯТЮ ▄░")  
return false  
end
tdcli_function({ID="UnpinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100','')},function(arg,data) 
if data.ID == "Ok" then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к╪л╪и┘К╪к ╪з┘Д╪▒╪│╪з┘Д╪й ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░")   
redis:del(JoKeR..'Pin:Id:Msg'..msg.chat_id_)
elseif data.code_ == 6 then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪з┘Ж╪з ┘Д╪│╪к ╪з╪п┘Е┘Ж ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░")  
elseif data.message_ == "CHAT_NOT_MODIFIED" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘Д╪з ╪к┘И╪м╪п ╪▒╪│╪з┘Д╪й ┘Е╪л╪и╪к╪й ЁЯТЮ ▄░")  
elseif data.message_ == "CHAT_ADMIN_REQUIRED" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘Д┘К╪│╪к ┘Д╪п┘К ╪╡┘Д╪з╪н┘К╪з╪к ╪з┘Д╪к╪л╪и┘К╪к ЁЯТЮ ▄░")  
end
end,nil)
end

if text and text:match('^╪╢╪╣ ╪к┘Г╪▒╪з╪▒ (%d+)$') and Mod(msg) then   
local Num = text:match('╪╢╪╣ ╪к┘Г╪▒╪з╪▒ (.*)')
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"floodmax" ,Num) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ┘И╪╢╪╣ ╪╣╪п╪п ╪з╪з┘Д╪к┘Г╪▒╪з╪▒ тЧГ тЧЮ [('..Num..')](t.me/JoKeR_aHs) тЧЯ ЁЯТЮ ▄░')  
end 
if text and text:match('^╪╢╪╣ ╪▓┘Е┘Ж ╪з┘Д╪к┘Г╪▒╪з╪▒ (%d+)$') and Mod(msg) then   
local Num = text:match('^╪╢╪╣ ╪▓┘Е┘Ж ╪з┘Д╪к┘Г╪▒╪з╪▒ (%d+)$')
redis:hset(JoKeR.."flooding:settings:"..msg.chat_id_ ,"floodtime" ,Num) 
send(msg.chat_id_, msg.id_,'ЁЯУотФЖ ╪к┘Е ┘И╪╢╪╣ ╪▓┘Е┘Ж ╪з┘Д╪к┘Г╪▒╪з╪▒ ('..Num..')') 
end
if text == "╪╢╪╣ ╪▒╪з╪и╪╖" or text == '┘И╪╢╪╣ ╪▒╪з╪и╪╖' then
if msg.reply_to_message_id_ == 0  and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪▒╪з╪и╪╖ ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ╪з┘И ┘В┘Ж╪з╪й ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯТЮ ▄░")
redis:setex(JoKeR.."Set:Priovate:Group:Link"..msg.chat_id_..""..msg.sender_user_id_,120,true) 
return false
end
end
if text == "╪к┘Б╪╣┘К┘Д ╪▒╪з╪и╪╖" or text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪▒╪з╪и╪╖' then
if Mod(msg) then  
redis:set(JoKeR.."Link_Group:status"..msg.chat_id_,true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪▒╪з╪и╪╖ ЁЯТЮ ▄░") 
return false  
end
end
if text == "╪к╪╣╪╖┘К┘Д ╪▒╪з╪и╪╖" or text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪▒╪з╪и╪╖' then
if Mod(msg) then  
redis:del(JoKeR.."Link_Group:status"..msg.chat_id_) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪▒╪з╪и╪╖ ?? ▄░") 
return false end
end
if text == "╪к┘Б╪╣┘К┘Д ╪╡┘И╪▒╪к┘К" or text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪╡┘И╪▒┘З' then
if Mod(msg) then  
redis:set(JoKeR.."my_photo:status"..msg.chat_id_,true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪╡┘И╪▒╪к┘К ЁЯТЮ ▄░") 
return false  
end
end

-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪и┘Ж╪з╪к") and Mod(msg) then
local list = redis:smembers(JoKeR..'Bant:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪и┘Ж╪з╪к ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШн?? . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪н┘Д┘И╪з╪к╪к ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪и┘Ж╪к ╪з┘Д┘Г╪▒┘И╪и") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Bant:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪и┘Ж╪к ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪и┘Ж╪к ╪з┘Д┘Г╪▒┘И╪и")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Bant:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪и┘Ж╪к ┘Е┘Ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д┘Е╪╖╪з┘К┘З") and Mod(msg) then
local list = redis:smembers(JoKeR..'Mote:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К┘Е╪╖╪з┘К╪й ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Е╪╖╪з┘К╪й┘З ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end

if text == ("╪▒┘Б╪╣ ┘Е╪╖┘К") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Mote:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ┘Е╪╖┘К ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ┘Е╪╖┘К")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Mote:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ┘Е╪╖┘К ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪л┘И┘Д╪з┘Ж") and Mod(msg) then
local list = redis:smembers(JoKeR..'Athol:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪л┘И┘Д╪з┘Ж ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪л┘И┘Д╪з┘ЖЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪з╪л┘И┘Д") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Athol:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪з╪л┘И┘Д ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪з╪л┘И┘Д")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Athol:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪з╪л┘И┘Д ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
---------
if text and text:match("^/myage (.*)$") then
local textage = text:match("^/myage (.*)$")
ga = https.request('https://hso.mohammed-api.com/API/age.php?age='..URL.escape(textage)..'')
ag = JSON.decode(ga)
i = 0
for k,v in pairs(ag.ok) do
i = i + 1
t = v.."\n"
end
send(msg.chat_id_, msg.id_, t)
end
if text == '╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е┘Д╪╡┘В╪з╪к' and Mod(msg) then  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ЁЯТЮ ▄░ ')
redis:del(JoKeR..'JoKeR:Reply:Sticker'..msg.chat_id_)
end
if text == '╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е┘Д╪╡┘В╪з╪к' and Mod(msg) then  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ЁЯТЮ ▄░')
redis:set(JoKeR..'JoKeR:Reply:Sticker'..msg.chat_id_, true)
end
if text == '╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д╪│┘И╪▒╪│' and Owners(msg) then  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д╪│┘И╪▒╪│ ЁЯТЮ ▄░ ')
redis:del(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_)
end
if text == '╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д╪│┘И╪▒╪│' and Owners(msg) then  
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д╪│┘И╪▒╪│ ЁЯТЮ ▄░')
redis:set(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_, true)
end
if text == '┘З╪з┘К' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘З┘З╪з┘З┘Д┘ИЁЯТХЁЯТЮ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪┤┘Д┘И┘Ж┘Г┘Е' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪и╪┤┘И┘Б╪к┘Г ╪з╪╡┘К╪▒ ╪и╪о┘К╪▒ ЁЯе║ЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪┤┘Д┘И┘Ж┘Г' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪о╪з╪и╪┤┘Ж┘К ┘Е┘Д┘Д╪к┘И┘Ж┘К ┘Г┘Д ╪┤┘И┘К ╪┤┘Д┘И┘Ж┘Г ╪┤┘Д┘И┘Ж╪м ╪к┘Е┘Е╪з┘Е ┘И╪з┘Д┘Д┘З ╪к┘Е┘Е╪з┘Е ЁЯШнЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪┤┘Д┘И┘Ж╪м' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪о╪з╪и╪┤┘Ж┘К ┘Е┘Д┘Д╪к┘И┘Ж┘К ┘Г┘Д ╪┤┘И┘К ╪┤┘Д┘И┘Ж┘Г ╪┤┘Д┘И┘Ж╪м ╪к┘Е┘Е╪з┘Е ┘И╪з┘Д┘Д┘З ╪к┘Е┘Е╪з┘Е ЁЯШнЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘З┘Д╪з┘И' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘З╪з┘З┘З┘Д┘И ЁЯТХЁЯТЮ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Е╪╣┘К╪п┘К' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪╣ ╪▒╪з╪│┘К ┘И╪з┘Д┘Д┘З ЁЯТХ'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪▒╪к╪и╪╖' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘Е╪з╪▒╪к╪и╪╖ ╪и╪н┘К┘И┘Ж╪з╪к ЁЯШ╣ЁЯе║ЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Г┘Д╪о╪▒╪з' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE ='┘Е┘А╪з ╪г┘Г┘Д┘А┘Г┘О ЁЯШгЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪▓╪з╪н┘Б' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪к╪┤╪▒┘Б╪к ╪╣┘Е╪▒┘К ЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪п┘К' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪п┘Ж┘Г ╪о┘Д┘К ╪з╪▒┘Г╪и┘Г ЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘И┘К┘Ж┘Г┘Е' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪к╪┤╪▒┘Б╪к ╪н╪и╪н╪и ЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪о' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪▓╪з╪н┘Б .. ╪╣ ╪▒╪з╪│┘К ┘И╪з┘Д┘Д┘З ЁЯШ╣ЁЯШнтЩея╕П.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪з╪н╪и┘Г' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘Е┘А┘И┘И┘И╪▒ ╪╣┘Е╪▒┘КЁЯТХЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪и╪з┘К' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪о┘Д┘К┘Г ╪и╪з┘Д┘К╪▓ ЁЯе║ЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪к╪╣' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪з╪п╪▒┘К ╪п╪м╪з╪м ╪о┘И┘Е╪з ╪п╪м╪з╪м ЁЯШТЁЯТХЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘И┘К┘Ж ╪з┘Д┘Е╪п┘К╪▒' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘Ж╪з┘К┘Е ╪и┘Г┘Д╪и┘К ЁЯТЮ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪м╪и' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪╣ ╪▒╪з╪│┘К ЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == 'ЁЯМЪ' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘Д╪╖┘К┘Б┘И╪▒╪и .. ┘Г┘Д╪з ┘Д┘Д╪╣┘Ж╪╡╪▒┘К╪й ЁЯТХЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪┤┘Г┘И ┘Е╪з┘Г┘И' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘В┘К╪▒┘Г ╪и╪з┘Д┘В┘Д╪и ┘Е╪з┘В┘И ЁЯШ╣ЁЯШФЁЯТЧ'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪м╪и┘К' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪╣ ╪▒╪з╪│┘К ЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪╡╪и╪з╪н ╪з┘Д╪о┘К╪▒' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪з╪╖┘Д┘В ┘Е┘Ж ┘Ж╪╡╪и╪н ╪и╪м┘Е╪з┘Д╪й ЁЯе║ЁЯТЧ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘З╪з' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪╖┘Б┘К ╪з┘Д┘Г╪з┘Е╪▒╪й ЁЯШ╣ЁЯШнтЩея╕П.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == 'ЁЯМЭ' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '╪╣┘И╪п ╪┤┘И┘Б┘И┘Ж┘К ╪л┘Г┘К┘Д ┘И┘З╪з┘К .. ╪╖┘Б┘К ╪з┘Д┘Г╪з┘Е╪▒╪й ЁЯШ╣ЁЯШнтЩея╕П.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪╡╪и╪з╪н ╪з┘Д┘Ж┘И╪▒' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘З╪│┘З ┘К┘Д╪й ╪┤┘Б┘Ж╪й ╪з┘Д┘Ж┘И╪▒ ┘И╪з┘Д┘Д┘З ЁЯе║тЩея╕П.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '╪з╪н╪и╪м' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = '┘Е┘А┘И┘И┘И╪▒ ╪╣┘Е╪▒┘КЁЯТХЁЯТХ.'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪╡┘К╪н╪й ╪з┘Д╪п┘В┘К┘В╪й' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = 'тАП┘Д╪з ╪к╪п╪╣ ╪з┘Д┘Ж╪з╪│ ╪к╪╣┘Д┘Е┘Г ┘Ж┘Б╪│ ╪з┘Д╪п╪▒╪│ @k777a .'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪╡┘К╪н╪й ╪з┘Д╪и╪з╪▒╪н╪й' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = 'тАПтАП╪╣┘Ж╪п┘Е╪з ╪г╪╖┘К┘Д ╪з┘Д┘Ж╪╕╪▒ ╪е┘Д┘К┘Г\n ┘Б╪г┘Ж╪з ┘Д╪│╪к ┘Е╪╣╪м╪и╪и┘Г \n╪и┘Д ╪г┘Ж╪з ╪г╪к╪и┘И┘Д ╪╣┘Д┘К┘Г ┘Б┘К ╪к┘Б┘Г┘К╪▒┘К ┘И┘З╪░╪з ┘К╪г╪о╪░ ┘Е┘Ж┘К ┘И┘В╪к╪з┘Л @k777a .'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪╡┘К╪н╪й ╪з┘Д╪║╪п' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = 'тАПтАП┘Г╪л╪▒╪й ╪н╪п┘К╪л┘Г ┘И╪м┘Д┘И╪│┘Г ┘Е╪╣ ╪з┘Д┘Б╪к┘К╪з╪к ┘Д╪з┘К╪м╪╣┘Д┘Г ┘Е╪н╪и┘И╪и ╪и┘К┘Ж┘З┘Ж ╪М ╪и┘Д ╪│╪к╪╡╪и╪н ╪┤┘В┘К┘В╪к┘З┘Ж ╪з┘Д┘Г╪и╪▒┘Й @k777a .'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
if text == '┘Ж╪╡┘К╪н╪й ╪з┘Д┘К┘И┘Е' then
if not redis:get(JoKeR..'JoKeR:Reply:SoUrcE'..msg.chat_id_) then
ReplySoUrcE = 'тАПтАП╪н┘К┘Ж ╪к╪┤╪к╪з┘В ┘Д╪┤╪о╪╡ ╪г┘Г╪к╪и ┘Д┘З ╪▒╪│╪з┘Д╪й ╪╖┘И┘К┘Д╪й ┘Д┘Г┘Ж ┘Д╪з ╪к┘В┘Е ╪и┘А ╪е╪▒╪│╪з┘Д┘З╪з ┘И┘Ж╪з┘Е ┘И╪н┘К┘Ж ╪к╪│╪к┘К┘В╪╕ ┘В┘Е ╪и┘В╪▒╪з╪ж╪к┘З╪з ┘Е╪▒╪й ╪г╪о╪▒┘Й ╪│┘И┘Б ╪к┘Д╪з╪н╪╕ ╪и╪г┘Ж┘Г ╪║╪и┘К ╪м╪п╪з┘Л \nтАП#╪╣╪и╪з╪│_╪┤╪з┘Г╪▒ .'
send(msg.chat_id_, msg.id_,'['..ReplySoUrcE..']')
end
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪з┘Ж╪и┘К╪з╪б") and Mod(msg) then
local list = redis:smembers(JoKeR..'Naby:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з ╪з┘Ж╪и┘К╪з╪б ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪з┘Ж╪и┘К╪з╪б ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------

if text == ("╪▒┘Б╪╣ ┘Ж╪и┘К") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Naby:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪▒┘Б╪╣╪к┘Д┘Г┘Е ┘Ж╪и┘К ╪м╪п┘К╪п ╪з╪│╪к┘В╪и┘Д┘И ЁЯШ╣ЁЯШнЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ┘Ж╪и┘К")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Naby:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘Е╪к╪│╪к╪з┘З┘Д ╪з┘Д┘Ж╪и┘И┘З ┘Ж╪▓┘Д╪к┘Г ЁЯШ╣ЁЯШнЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪м┘Д╪з╪и") and Mod(msg) then
local list = redis:smembers(JoKeR..'Glb:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪м┘Д╪з╪и ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪м┘Д╪з╪и ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪м┘Д╪и") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Glb:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪м┘Д╪и ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪м┘Д╪и")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Glb:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪м┘Д╪и ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪╡╪о┘И┘Д") and Mod(msg) then
local list = redis:smembers(JoKeR..'Zgal:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪╡╪о┘И┘Д ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪╡╪о┘И┘Д ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪╡╪о┘Д") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Zgal:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪╡╪о┘Д ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪╡╪о┘Д")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Zgal:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪╡╪о┘Д ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪▓┘И╪з╪н┘К┘Б") and Mod(msg) then
local list = redis:smembers(JoKeR..'Zahf:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪▓┘И╪з╪н┘К┘Б ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪▓┘И╪з╪н┘К┘Б ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪▓╪з╪н┘Б") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Zahf:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪▒┘Б╪╣ ╪з┘Д╪╣╪╢┘И ╪▓╪з╪н┘Б ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪▓╪з╪н┘Б")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Zahf:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ╪▓╪з╪н┘Б ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ЁЯШнЁЯШ╣ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д┘К ╪и┘Г┘Д╪и┘К") and Mod(msg) then
local list = redis:smembers(JoKeR..'Galby:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з┘Г┘Д┘И╪и ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Г┘Д┘И╪и ЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪и┘Г┘Д╪и┘К") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Galby:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪▒┘Б╪╣╪к┘Г ╪и┘Г┘Д╪и┘К ┘Д╪к╪м╪▒╪н┘Ж┘К ЁЯШШЁЯШнЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪и┘Г┘Д╪и┘К")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Galby:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘Е┘И ┘Г╪к┘Д┘Г ┘Д╪к╪м╪▒╪н┘Ж┘К ┘Ж╪▓┘Д╪к┘Г ┘Е┘Ж ┘Г┘Д╪и┘К ЁЯШнЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------
if text == ("╪к╪з┘Г ┘Д┘Д╪к┘И╪м") and Mod(msg) then
local list = redis:smembers(JoKeR..'Tag:User'..msg.chat_id_)
t = "\n▄Бр╝птФЖ┘К╪з╪к┘И╪м ╪к╪╣╪з┘Д┘И ┘К╪▒╪п┘И┘Ж┘Г┘Е ЁЯШ╣ЁЯШнЁЯТЮ . \n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t.."ЁЦа╡ "..k.." тЧЬ[@"..username.."]тЧЮ\n"
else
t = t.."ЁЦа╡ "..k.." тЧЬ`"..v.."`тЧЮ`\n"
end
end
if #list == 0 then
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪к╪з╪мЁЯШ╣ЁЯШФЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_, t)
end
---------
if text == ("╪▒┘Б╪╣ ╪к╪з╪м") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Tag:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘З┘И ╪к╪з╪м ┘Е┘К╪н╪к╪з╪м ╪з╪▒┘Б╪╣┘З ЁЯд┤ЁЯП╗ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if (text == ("╪к┘Ж╪▓┘К┘Д ╪к╪з╪м")) and msg.reply_to_message_id_ and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:srem(JoKeR..'Tag:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪з┘Д╪к╪з╪м ┘Е╪з┘К┘Ж╪▓┘Д ┘Е┘Ж ┘Е┘Г╪з┘Ж┘З ЁЯд┤ЁЯП╗ЁЯТЮ ▄░'
status  = ''
send(msg.chat_id_, msg.id_, usertext..status)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end
-----------------------------------------------------

if text == ("┘Ж╪▓┘И╪м") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Zoag:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ┘Ж╪▓┘И╪м ┘И┘Е╪з╪к╪и╪з┘И╪╣ ╪╣┘Д┘Й ╪║┘К╪▒┘К ЁЯе║ЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end

if text == ("╪╖╪з┘Д┘В") and tonumber(msg.reply_to_message_id_) ~= 0 and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
redis:sadd(JoKeR..'Mote:User'..msg.chat_id_, result.sender_user_id_)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
usertext = '\n▄Бр╝птФЖ╪╖╪з┘Д┘В ╪╖╪з┘Д┘В ╪╖╪з┘Д┘В ╪и╪з┘Д╪╣╪┤╪▒╪й ЁЯШ╣ЁЯШнЁЯТЮ ▄░'
local  statuss  = ''
send(msg.chat_id_, msg.id_, usertext..statuss)
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
return false
end


-----------------------------------------------------
if text == "╪к╪╣╪╖┘К┘Д ╪з┘Д╪╡┘И╪▒┘З" or text == '╪к╪╣╪╖┘К┘Д ╪╡┘И╪▒╪к┘К' then
if Mod(msg) then  
redis:del(JoKeR.."my_photo:status"..msg.chat_id_) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪╡┘И╪▒╪к┘К ЁЯТЮ ▄░") 
return false end
end
if text == "╪╡┘И╪▒╪к┘К"  then
local my_ph = redis:get(JoKeR.."my_photo:status"..msg.chat_id_)
if not my_ph then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з┘Д╪╡┘И╪▒┘З ┘Е╪╣╪╖┘Д╪й┘З ЁЯТЮ ▄░") 
return false  
end
local function getpro(extra, result, success)
if result.photos_[0] then
sendPhoto(msg.chat_id_, msg.id_, 0, 1, nil, result.photos_[0].sizes_[1].photo_.persistent_id_,"▄Бр╝птФЖ╪╣╪п╪п ╪╡┘И╪▒┘Г┘Г ┘З┘И┘З тЧГ "..result.total_count_.." ╪╡┘И╪▒┘ЗтАМтАП ЁЯТЮ", msg.id_, msg.id_, "md")
else
send(msg.chat_id_, msg.id_,'┘Д╪з ╪к┘Е╪к┘Д┘Г ╪╡┘И╪▒┘З ┘Б┘К ╪н╪│╪з╪и┘Г', 1, 'md')
  end end
tdcli_function ({ ID = "GetUserProfilePhotos", user_id_ = msg.sender_user_id_, offset_ = 0, limit_ = 1 }, getpro, nil)
end
------

if text == "╪з┘Д╪▒╪з╪и╪╖" then
local status_Link = redis:get(JoKeR.."Link_Group:status"..msg.chat_id_)
if not status_Link then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з┘Д╪▒╪з╪и╪╖ ┘Е╪╣╪╖┘Д тАа ╪з╪▒╪│┘Д ╪к┘Б╪╣┘К┘Д ╪з┘Д╪▒╪з╪и╪╖ЁЯТЮ ▄░ ") 
return false  
end   
local link = redis:get(JoKeR.."Private:Group:Link"..msg.chat_id_)            
if link then                              
send(msg.chat_id_,msg.id_,'ЁЦж▓тФЖ*ЁЭЩ╗ЁЭЩ╕ЁЭЩ╜ЁЭЩ║ ЁЭЩ╢ЁЭЪБЁЭЩ╛ЁЭЪДЁЭЩ┐*  ЁЯТЮ ЁЦег ┘а\nтАвтАвтФБтФБтФБтФБтФБтФБЁЦеатФБтФБтФБтФБтФБтФБтАвтАв\n['..link..']')                          
else                
local linkgpp = json:decode(https.request('https://api.telegram.org/bot'..token..'/exportChatInviteLink?chat_id='..msg.chat_id_))
if linkgpp.ok == true then 
linkgp = 'р╝птФЖ*ЁЭЩ╗ЁЭЩ╕ЁЭЩ╜ЁЭЩ║ ЁЭЩ╢ЁЭЪБЁЭЩ╛ЁЭЪДЁЭЩ┐* ЁЯТЮЁЯжД ┘а\nтАвтФБтФБтФБтФБтФБтФБЁЦеатФБтФБтФБтФБтФБтФБтАв\n ['..linkgpp.result..']'
else
linkgp = '▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪▒╪з╪и╪╖ ▄К ╪з╪▒╪│┘Д ╪╢╪╣ ╪▒╪з╪и╪╖ ЁЯТЮ ▄░ '
end  
send(msg.chat_id_, msg.id_,linkgp)              
end          
end
if text == '┘Е╪│╪н ╪з┘Д╪▒╪з╪и╪╖' or text == '╪н╪░┘Б ╪з┘Д╪▒╪з╪и╪╖' then
if Mod(msg) then     
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д╪▒╪з╪и╪╖ ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ")           
redis:del(JoKeR.."Private:Group:Link"..msg.chat_id_) 
return false      
end
end
if text and text:match("^╪╢╪╣ ╪╡┘И╪▒┘З") and Mod(msg) and msg.reply_to_message_id_ == 0 then  
redis:set(JoKeR..'Change:Chat:Photo'..msg.chat_id_..':'..msg.sender_user_id_,true) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ ┘В┘Е ╪и╪з╪▒╪│┘Д ╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░') 
return false
end
if text == "╪н╪░┘Б ╪з┘Д╪╡┘И╪▒┘З" or text == "┘Е╪│╪н ╪з┘Д╪╡┘И╪▒┘З" then 
if Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
https.request('https://api.telegram.org/bot'..token..'/deleteChatPhoto?chat_id='..msg.chat_id_) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪з╪▓╪з┘Д╪й┘З ╪╡┘И╪▒┘З ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘ЗЁЯТЮ ▄░ ') 
end
return false  
end
if text == '╪╢╪╣ ┘И╪╡┘Б' or text == '┘И╪╢╪╣ ┘И╪╡┘Б' then  
if Mod(msg) then
redis:setex(JoKeR.."Set:Description" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 120, true)  
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ ┘В┘Е ╪и╪з╪▒╪│┘Д ╪з┘Д┘И╪╡┘Б ЁЯТЮ ▄░')
end
return false  
end
if text == '╪╢╪╣ ╪к╪▒╪н┘К╪и' or text == '┘И╪╢╪╣ ╪к╪▒╪н┘К╪и' then  
if Mod(msg) then
redis:setex(JoKeR.."Welcome:Group" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 120, true)  
t  = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪к╪▒╪н┘К╪и ╪з┘Д╪з┘Ж ЁЦвЯ .'
tt = '\n▄Бр╝птФЖ╪к╪│╪к╪╖┘К╪╣ ╪з╪╢╪з┘Б╪й ┘Е╪з┘К╪з╪к┘К ЁЦвЯ .\n▄Бр╝птФЖ╪п╪з┘Д╪й ╪╣╪▒╪╢ ╪з┘Д╪з╪│┘Е тЧГ `name`\n▄Бр╝птФЖ╪п╪з┘Д╪й ╪╣╪▒╪╢ ╪з┘Д┘Е╪╣╪▒┘Б тЧГ `user`'
send(msg.chat_id_, msg.id_,t..tt) 
end
return false  
end
if text == '╪з┘Д╪к╪▒╪н┘К╪и' and Mod(msg) then 
local GetWelcomeGroup = redis:get(JoKeR..'Get:Welcome:Group'..msg.chat_id_)  
if GetWelcomeGroup then 
GetWelcome = GetWelcomeGroup
else 
GetWelcome = '▄Бр╝птФЖ┘Д╪з ┘К┘И╪м╪п ╪к╪▒╪н┘К╪и ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з╪▒╪│┘Д ╪╢╪╣ ╪к╪▒╪н┘К╪и ┘Д┘И╪╢╪╣ ╪к╪▒╪н┘К╪и ЁЯТЮ ▄░ '
end 
send(msg.chat_id_, msg.id_,'['..GetWelcome..']') 
return false  
end
if text == '╪м┘Д╪и ┘Е┘Д┘Б ╪з┘Д╪│┘И╪▒╪│' then
if not Sudo_JoKeR(msg) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Е╪╖┘И╪▒ ╪з╪│╪з╪│┘К ┘Б┘В╪╖ ЁЯТЮ ▄░ ')
else
sendDocument(SUDO, 0, 0, 1, nil, './JoKeR.lua', dl_cb, nil)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪з╪▒╪│╪з┘Д ┘Е┘Д┘Б ╪з┘Д╪│┘И╪▒╪│ ЁЯТЮ ▄░')
end
end
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪к╪▒╪н┘К╪и' and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR..'Chek:Welcome'..msg.chat_id_,true) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪к╪▒╪н┘К╪и ЁЯТЮ ▄░') 
return false  
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪к╪▒╪н┘К╪и' and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:del(JoKeR..'Chek:Welcome'..msg.chat_id_) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к╪▒╪н┘К╪и ЁЯТЮ ▄░') 
return false  
end
if text == '┘Е╪│╪н ╪з┘Д╪к╪▒╪н┘К╪и' or text == '╪н╪░┘Б ╪з┘Д╪к╪▒╪н┘К╪и' then 
if Mod(msg) then
redis:del(JoKeR..'Get:Welcome:Group'..msg.chat_id_) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д╪к╪▒╪н┘К╪и ЁЯТЮ ▄░ ') 
end
end
if text and text == "┘Е┘Ж╪╣" and msg.reply_to_message_id_ == 0 and Owners(msg)  then       
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й ╪з┘Д╪░┘К ╪к╪▒┘К╪п ┘Е┘Ж╪╣┘З╪з ЁЯТЮ ▄░")  
redis:set(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_,"rep")  
return false  
end    
if text then   
local tsssst = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
if tsssst == "rep" then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪к╪н╪░┘К╪▒ ╪╣┘Ж╪п ╪з╪▒╪│╪з┘Д ╪з┘Д┘Г┘Д┘Е╪й ЁЯТЮ ▄░")  
redis:set(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_,"repp")  
redis:set(JoKeR.."JoKeR1:filtr1:add:reply2"..msg.sender_user_id_..msg.chat_id_, text)  
redis:sadd(JoKeR.."JoKeR1:List:Filter"..msg.chat_id_,text)  
return false  end  
end
if text then  
local test = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
if test == "repp" then  
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ┘Е┘Ж╪╣ ╪з┘Д┘Г┘Д┘Е┘З ┘Е╪╣ ╪з┘Д╪к╪н╪░┘К╪▒ ЁЯТЮ ▄░")  
redis:del(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
local test = redis:get(JoKeR.."JoKeR1:filtr1:add:reply2"..msg.sender_user_id_..msg.chat_id_)  
if text then   
redis:set(JoKeR.."JoKeR1:Add:Filter:Rp2"..test..msg.chat_id_, text)  
end  
redis:del(JoKeR.."JoKeR1:filtr1:add:reply2"..msg.sender_user_id_..msg.chat_id_)  
return false  end  
end

if text == "╪з┘Д╪║╪з╪б ┘Е┘Ж╪╣" and msg.reply_to_message_id_ == 0 and Owners(msg) then    
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й┘З ╪з┘Д╪з┘Ж ЁЯТЮ ▄░ ")  
redis:set(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_,"reppp")  
return false  end
if text then 
local test = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
if test and test == "reppp" then   
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ┘Е┘Ж╪╣ ╪з┘Д┘Г┘Д┘Е╪й┘З ЁЯТЮ ▄░  ")  
redis:del(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
redis:del(JoKeR.."JoKeR1:Add:Filter:Rp2"..text..msg.chat_id_)  
redis:srem(JoKeR.."JoKeR1:List:Filter"..msg.chat_id_,text)  
return false  end  
end


if text == '┘Е┘Ж╪╣' and tonumber(msg.reply_to_message_id_) > 0 and Owners(msg) then     
function cb(a,b,c) 
textt = '▄Бр╝птФЖ╪к┘Е ╪з┘Д┘Е┘Ж╪╣ ┘Д┘Ж ┘К╪к┘Е ╪з╪▒╪│╪з┘Д┘З╪з ┘Е╪м╪п╪п╪з ЁЯТЮ ▄░  '
if b.content_.sticker_ then
local idsticker = b.content_.sticker_.set_id_
redis:sadd(JoKeR.."filtersteckr"..msg.chat_id_,idsticker)
text = '╪з┘Д┘Е┘Д╪╡┘В'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘Д┘Ж ┘К╪к┘Е ╪з╪▒╪│╪з┘Д┘З╪з ┘Е╪м╪п╪п╪з')  
return false
end
if b.content_.ID == "MessagePhoto" then
local photo = b.content_.photo_.id_
redis:sadd(JoKeR.."filterphoto"..msg.chat_id_,photo)
text = '╪з┘Д╪╡┘И╪▒┘З'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘Д┘Ж ┘К╪к┘Е ╪з╪▒╪│╪з┘Д┘З╪з ┘Е╪м╪п╪п╪з')  
return false
end
if b.content_.animation_.animation_ then
local idanimation = b.content_.animation_.animation_.persistent_id_
redis:sadd(JoKeR.."filteranimation"..msg.chat_id_,idanimation)
text = '╪з┘Д┘Е╪к╪н╪▒┘Г┘З'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘Д┘Ж ┘К╪к┘Е ╪з╪▒╪│╪з┘Д┘З╪з ┘Е╪м╪п╪п╪з')  
return false
end
end
tdcli_function ({ ID = "GetMessage", chat_id_ = msg.chat_id_, message_id_ = tonumber(msg.reply_to_message_id_) }, cb, nil)
end
if text == '╪з┘Д╪║╪з╪б ┘Е┘Ж╪╣' and tonumber(msg.reply_to_message_id_) > 0 and Owners(msg) then     
function cb(a,b,c) 
textt = '▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д┘Е┘Ж╪╣ ЁЯТЮ ▄░  '
if b.content_.sticker_ then
local idsticker = b.content_.sticker_.set_id_
redis:srem(JoKeR.."filtersteckr"..msg.chat_id_,idsticker)
text = '╪з┘Д┘Е┘Д╪╡┘В'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘К┘Е┘Г┘Ж┘З┘Е ╪з┘Д╪з╪▒╪│╪з┘Д ╪з┘Д╪з┘Ж')  
return false
end
if b.content_.ID == "MessagePhoto" then
local photo = b.content_.photo_.id_
redis:srem(JoKeR.."filterphoto"..msg.chat_id_,photo)
text = '╪з┘Д╪╡┘И╪▒┘З'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘К┘Е┘Г┘Ж┘З┘Е ╪з┘Д╪з╪▒╪│╪з┘Д ╪з┘Д╪з┘Ж')  
return false
end
if b.content_.animation_.animation_ then
local idanimation = b.content_.animation_.animation_.persistent_id_
redis:srem(JoKeR.."filteranimation"..msg.chat_id_,idanimation)
text = '╪з┘Д┘Е╪к╪н╪▒┘Г┘З'
send(msg.chat_id_, msg.id_,textt..'( '..text..' ) ╪и┘Ж╪м╪з╪н ┘К┘Е┘Г┘Ж┘З┘Е ╪з┘Д╪з╪▒╪│╪з┘Д ╪з┘Д╪з┘Ж')  
return false
end
end
tdcli_function ({ ID = "GetMessage", chat_id_ = msg.chat_id_, message_id_ = tonumber(msg.reply_to_message_id_) }, cb, nil)
end

if text == "┘Е╪│╪н ┘В╪з╪ж┘Е┘З ╪з┘Д┘Е┘Ж╪╣"and Owners(msg) then   
local list = redis:smembers(JoKeR.."JoKeR1:List:Filter"..msg.chat_id_)  
for k,v in pairs(list) do  
redis:del(JoKeR.."JoKeR1:Add:Filter:Rp1"..msg.sender_user_id_..msg.chat_id_)  
redis:del(JoKeR.."JoKeR1:Add:Filter:Rp2"..v..msg.chat_id_)  
redis:srem(JoKeR.."JoKeR1:List:Filter"..msg.chat_id_,v)  
end  
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ┘Е╪│╪н ┘В╪з╪ж┘Е╪й ╪з┘Д┘Е┘Ж╪╣ЁЯТЮ ▄░ ")  
end

if text == "┘В╪з╪ж┘Е┘З ╪з┘Д┘Е┘Ж╪╣" and Owners(msg) then   
local list = redis:smembers(JoKeR.."JoKeR1:List:Filter"..msg.chat_id_)  
t = "\n┘н ЁЦдУтФЖ┘В╪з╪ж┘Е╪й ╪з┘Д┘Е┘Ж╪╣ тШУЁЯТЮтЧЯ\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do  
local JoKeR_Msg = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp2"..v..msg.chat_id_)   
t = t.."▄Б ЁЦа╡ "..k.." уВа "..v.." тЧГ тЧЮ"..JoKeR_Msg.."тЧЬ\n"    
end  
if #list == 0 then  
t = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Г┘Д┘Е╪з╪к ┘Е┘Е┘Ж┘И╪╣╪й┘З ?? ▄░ "  
end  
send(msg.chat_id_, msg.id_,t)  
end  

if text == '┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д┘Е╪к╪н╪▒┘Г╪з╪к' and Owners(msg) then     
redis:del(JoKeR.."filteranimation"..msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪к┘Е ┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д┘Е╪к╪н╪▒┘Г╪з╪к ЁЯТЮ ▄░ ')  
end
if text == '┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д╪╡┘И╪▒' and Owners(msg) then     
redis:del(JoKeR.."filterphoto"..msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪к┘Е ┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д╪╡┘И╪▒ ЁЯТЮ ▄░ ')  
end
if text == '┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д┘Е┘Д╪╡┘В╪з╪к' and Owners(msg) then     
redis:del(JoKeR.."filtersteckr"..msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪к┘Е ┘Е╪│╪н ┘В╪з╪ж┘Е┘З ┘Е┘Ж╪╣ ╪з┘Д┘Е┘Д╪╡┘В╪з╪к ЁЯТЮ ▄░ ')  
end
if text == '╪з┘Д┘Е╪╖┘И╪▒' or text == '┘Е╪╖┘И╪▒' or text == '╪з┘Д┘Е╪╖┘И╪▒┘З' then
local Text_Dev = redis:get(JoKeR..'Text:Dev:Bot')
if Text_Dev then 
send(msg.chat_id_, msg.id_,Text_Dev)
else
tdcli_function ({ID = "GetUser",user_id_ = SUDO},function(arg,result) 
local Name = '['..result.first_name_..'](tg://user?id='..result.id_..')'
sendText(msg.chat_id_,Name,msg.id_/2097152/0.5,'md')
end,nil)
end
end

if text == '╪н╪░┘Б ┘Г┘Д┘К╪┤┘З ╪з┘Д┘Е╪╖┘И╪▒' and Sudo_JoKeR(msg) then
redis:del(JoKeR..'Text:Dev:Bot')
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ┘Г┘Д┘К╪┤┘З ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░')
end
if text == '╪╢╪╣ ┘Г┘Д┘К╪┤┘З ╪з┘Д┘Е╪╖┘И╪▒' and Sudo_JoKeR(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR..'Set:Text:Dev:Bot'..msg.chat_id_,true)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘К╪┤╪й┘З ╪з┘Д╪з┘Ж ЁЯТЮ ▄░ ')
return false
end
if text and redis:get(JoKeR..'Set:Text:Dev:Bot'..msg.chat_id_) then
if text == '╪з┘Д╪║╪з╪б' then 
redis:del(JoKeR..'Set:Text:Dev:Bot'..msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╕ ┘Г┘Д┘К╪┤╪й┘З ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░ ')
return false
end
redis:set(JoKeR..'Text:Dev:Bot',text)
redis:del(JoKeR..'Set:Text:Dev:Bot'..msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╕ ┘Г┘Д┘К╪┤╪й┘З ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░ ')
return false
end
if text == '╪к╪╣┘К┘Ж ╪з┘Д╪з┘К╪п┘К' and Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."CHENG:ID"..msg.chat_id_..""..msg.sender_user_id_,240,true)  
local Text= [[
▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░
▄Бр╝птФЖ┘К┘Е┘Г┘Ж┘Г ╪з╪╢╪з┘Б╪й ▄К
тЦ╣ `#rdphoto` ЁЦд▒ ▄Б ╪к╪╣┘Д┘К┘В ╪з┘Д╪╡┘И╪▒┘З
тЦ╣ `#username` ЁЦд▒ ▄Б ╪з╪│┘Е ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#msgs` ЁЦд▒ ▄Б ╪╣╪п╪п ╪▒╪│╪з╪ж┘Д ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#photos` ЁЦд▒ ▄Б ╪╣╪п╪п ╪╡┘И╪▒ ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#id` ЁЦд▒ ▄Б ╪з┘К╪п┘К ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#auto` ЁЦд▒ ▄Б ╪к┘Б╪з╪╣┘Д ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#stast` ЁЦд▒ ▄Б ┘Е┘И┘В╪╣ ╪з┘Д┘Е╪│╪к╪о╪п┘Е
тЦ╣ `#edit` ЁЦд▒ ▄Б ╪╣╪п╪п ╪з┘Д╪│╪н┘Г╪з╪к 
тЦ╣ `#game` ЁЦд▒ ▄Б ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к
тАвтФБтФБтФБтФБтФБтФБЁЦеатФБтФБтФБтФБтФБтФБтАв
▄Бр╝птФЖ╪з╪▒╪│┘Д ╪к╪║┘К╪▒ ╪з┘Д╪з┘К╪п┘К ┘Д┘К╪к┘Е ╪к╪║┘К╪▒ ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░ 
]]
send(msg.chat_id_, msg.id_,Text)
return false  
elseif text == '╪к╪║┘К╪▒ ╪з┘Д╪з┘К╪п┘К' and Mod(msg) then 
local List = {
[[
тЪХуВаЁЭЪДЁЭЪВЁЭЩ┤ЁЭЪБ ЁЦиИ #username ЁЦе▓ .
уВаЁЭЩ╝ЁЭЪВЁЭЩ╢ ЁЦиИ #msgs ЁЦе▓ .
уВаЁЭЪВЁЭЪГЁЭЩ░ ЁЦиИ #stast ЁЦе▓ .
уВаЁЭЩ╕ЁЭЩ│ ЁЦиИ #id ЁЦе▓ .
]],
[[
тЦ╣ ЁЭЩР????ЁЭЩН ЁЦиД #username ЁЦд╛.
тЦ╣ ЁЭЩИЁЭЩОЁЭЩВ ЁЦиД #msgs ЁЦд╛.
тЦ╣ ЁЭЩОЁЭЩПЁЭШ╝ ЁЦиД #stast ЁЦд╛.
тЦ╣ ЁЭЩДЁЭШ┐ ЁЦиД #id ЁЦд╛.
]],
[[
тФМ ЁЭРФЁЭРТЁЭРДЁЭРС ЁЦд▒ #username ЁЦж┤ .
тФЬ ЁЭРМЁЭРТЁЭРЖ ЁЦд▒ #msgs ЁЦж┤ .
тФЬ ЁЭРТЁЭРУЁЭРА ЁЦд▒ #stast ЁЦж┤ .
тФФ ЁЭРИЁЭРГ ЁЦд▒ #id ЁЦж┤ .
]],
[[
- ЁУПм ЁЭРФЁЭРмЁЭРДЁЭРл : #username ЁУВЕ .
- ЁУПм ЁЭРМЁЭРмЁЭРЖ  : #msgs ЁУВЕ .
- ЁУПм ЁЭРТЁЭРнЁЭРА : #stast ЁУВЕ .
- ЁУПм ЁЭРИЁЭРГ : #id ЁУВЕ .
]],
[[
.ЁЦгВ ЁЭЩкЁЭЩиЁЭЩЪЁЭЩзЁЭЩгЁЭЩЦЁЭЩв?? , #username  
.ЁЦгВ ЁЭЩиЁЭЩйЁЭЩЦЁЭЩиЁЭЩй , #stast  
.ЁЦгВ ЁЭЩбЁЭШ┐ , #id  
.ЁЦгВ ЁЭЩВЁЭЩЦЁЭЩвЁЭЩи , #game 
.ЁЦгВ ЁЭЩвЁЭЩиЁЭЩВЁЭЩи , #msgs
]]}
local Text_Rand = List[math.random(#List)]
redis:set(JoKeR.."KLISH:ID"..msg.chat_id_,Text_Rand)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪║┘К╪▒ ╪з┘Д╪з┘К╪п┘К ▄К ┘В┘Е ╪и╪з┘Д╪к╪м╪▒╪и┘З ▄К ЁЯТЮ ▄░')
end
if text == '╪н╪░┘Б ╪з┘Д╪з┘К╪п┘К' or text == '┘Е╪│╪н ╪з┘Д╪з┘К╪п┘К' then
if Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:del(JoKeR.."KLISH:ID"..msg.chat_id_)
send(msg.chat_id_, msg.id_, '▄Бр╝птФЖ ╪к┘Е ╪з╪▓╪з┘Д╪й ┘Г┘Д┘К╪┤╪й ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░')
end
return false  
end 

if redis:get(JoKeR.."CHENG:ID"..msg.chat_id_..""..msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' then 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪к╪╣┘К┘Ж ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░ ") 
redis:del(JoKeR.."CHENG:ID"..msg.chat_id_..""..msg.sender_user_id_) 
return false  
end 
redis:del(JoKeR.."CHENG:ID"..msg.chat_id_..""..msg.sender_user_id_) 
local CHENGER_ID = text:match("(.*)")  
redis:set(JoKeR.."KLISH:ID"..msg.chat_id_,CHENGER_ID)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪╣┘К┘Ж ╪з┘Д╪з┘К╪п┘К ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ')    
end

if text == '┘Е╪│╪н ╪з┘Д╪и┘И╪к╪з╪к' or text == '╪╖╪▒╪п ╪з┘Д╪и┘И╪к╪з╪к' and Mod(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
tdcli_function ({ ID = "GetChannelMembers",channel_id_ = getChatId(msg.chat_id_).ID,filter_ = {ID = "ChannelMembersBots"},offset_ = 0,limit_ = 100 },function(arg,tah)  
local admins = tah.members_  
local x = 0
local c = 0
for i=0 , #admins do 
if tah.members_[i].status_.ID == "ChatMemberStatusEditor" then  
x = x + 1 
end
if tonumber(admins[i].user_id_) ~= tonumber(JoKeR) then
chat_kick(msg.chat_id_,admins[i].user_id_)
end
c = c + 1
end     
if (c - x) == 0 then
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з ╪к┘И╪м╪п ╪и┘И╪к╪з╪к ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣┘З ЁЯТЮ ▄░")
else
local t = '▄Бр╝птФЖ╪к┘Е ┘Е╪│╪н ╪з┘Д╪и┘И╪к╪з╪к ЁЯТЮ ▄░'
send(msg.chat_id_, msg.id_,t) 
end 
end,nil)  
end   
end
if text == ("┘Г╪┤┘Б ╪з┘Д╪и┘И╪к╪з╪к") and Mod(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
tdcli_function ({ID = "GetChannelMembers",channel_id_ = getChatId(msg.chat_id_).ID,filter_ = {ID = "ChannelMembersBots"},offset_ = 0,limit_ = 100 },function(extra,result,success)
local admins = result.members_  
text = "\n▄Бр╝птФЖ┘В╪з╪ж┘Е╪й ╪з┘Д╪и┘И╪к╪з╪к ╪з┘Д┘Е┘И╪м┘И╪п╪й  тЦ┐ ЁЯТЮ ▄░\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
local n = 0
local t = 0
for i=0 , #admins do 
n = (n + 1)
tdcli_function ({ID = "GetUser",user_id_ = admins[i].user_id_
},function(arg,ta) 
if result.members_[i].status_.ID == "ChatMemberStatusMember" then  
tr = ''
elseif result.members_[i].status_.ID == "ChatMemberStatusEditor" then  
t = t + 1
tr = '▄К'
end
text = text.."ЁЦа╡ тЧЬ┬а[@"..ta.username_..']тЧЮ. '..tr.."\n"
if #admins == 0 then
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ┘Д╪з╪к┘И╪м╪п ╪и┘И╪к╪з╪к ┘Е╪╢╪з┘Б╪й┘З  ЁЯТЮ ▄░")
return false 
end
if #admins == i then 
local a = '\nтАвтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтАв\n▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д╪и┘И╪к╪з╪к ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З  ╦╝ '..n..' ╦╣\n'
local f = '▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д╪и┘И╪к╪з╪к ╪з┘Д┘Е╪▒┘Б┘И╪╣┘З   ╦╝ '..t..' ╦╣\n▄Бр╝птФЖтЧЭ*▄К*тЧЯ ╪к╪╣┘Ж┘К ╪з┘Ж ╪з┘Д╪и┘И╪к ╪з╪п┘Е┘Ж ┘Б┘К ╪з┘Д┘Е╪м┘Е┘И╪╣╪й'
send(msg.chat_id_, msg.id_, text..a..f)
end
end,nil)
end
end,nil)
end

if redis:get(JoKeR.."Set:Rules:" .. msg.chat_id_ .. ":" .. msg.sender_user_id_) then 
if text == '╪з┘Д╪║╪з╪б' then 
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪н┘Б╪╕ ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж ЁЯТЮ ▄░ ") 
redis:del(JoKeR.."Set:Rules:" .. msg.chat_id_ .. ":" .. msg.sender_user_id_)
return false  
end 
redis:set(JoKeR.."Set:Rules:Group" .. msg.chat_id_,text) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╢ ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж ▄К ┘В┘Е ╪и╪з┘Д╪к╪м╪▒╪и┘З ▄К ЁЯТЮ ▄░") 
redis:del(JoKeR.."Set:Rules:" .. msg.chat_id_ .. ":" .. msg.sender_user_id_)
end  

if text == '╪╢╪╣ ┘В┘И╪з┘Ж┘К┘Ж' or text == '┘И╪╢╪╣ ┘В┘И╪з┘Ж┘К┘Ж' then 
if Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Set:Rules:" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ ┘В┘Е ╪и╪з╪▒╪│┘Д ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж ╪з┘Д╪з┘Ж ЁЯТЮ ▄░")  
end
end
if text == '┘Е╪│╪н ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж' or text == '╪н╪░┘Б ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж' then  
if Mod(msg) then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д┘В┘И╪з┘Ж┘К┘Ж ЁЯТЮ ▄░ ")  
redis:del(JoKeR.."Set:Rules:Group"..msg.chat_id_) 
end
end
if text == '╪з┘Д┘В┘И╪з┘Ж┘К┘Ж' then 
local Set_Rules = redis:get(JoKeR.."Set:Rules:Group" .. msg.chat_id_)   
if Set_Rules then     
send(msg.chat_id_,msg.id_, Set_Rules)   
else      
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘В┘И╪з┘Ж┘К┘Ж ЁЯТЮ ▄░ ")   
end    
end
if text == '╪╖╪▒╪п ╪з┘Д┘Е╪н╪░┘И┘Б┘К┘Ж' or text == '┘Е╪│╪н ╪з┘Д┘Е╪н╪░┘И┘Б┘К┘Ж' then  
if Mod(msg) then    
tdcli_function({ID = "GetChannelMembers",channel_id_ = msg.chat_id_:gsub("-100",""),offset_ = 0,limit_ = 1000}, function(arg,del)
for k, v in pairs(del.members_) do
tdcli_function({ID = "GetUser",user_id_ = v.user_id_},function(b,data) 
if data.first_name_ == false then
Group_Kick(msg.chat_id_, data.id_)
end
end,nil)
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪╖╪▒╪п ╪з┘Д┘Е╪н╪░┘И┘Б┘К┘Ж ЁЯТЮ ▄░')
end,nil)
end
end
if text == '╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к' and Mod(msg) then 
local list = redis:smembers(JoKeR..'Coomds'..msg.chat_id_)
if #list == 0 then
send(msg.chat_id_, msg.id_,'тЪая╕ПтФЖ ┘Д╪з ╪к┘И╪м╪п ╪╡┘Д╪з╪н┘К╪з╪к ┘Е╪╢╪з┘Б┘З')
return false
end
t = "\nтШСя╕ПтФЖ ┘В╪з╪ж┘Е╪й ╪з┘Д╪╡┘Д╪з╪н┘К╪з╪к ╪з┘Д┘Е╪╢╪з┘Б┘З \nтФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ тФЙ\n"
for k,v in pairs(list) do
var = redis:get(JoKeR.."Comd:New:rt:bot:"..v..msg.chat_id_)
if var then
t = t..''..k..'- '..v..' тЦ╕ ('..var..')\n'
else
t = t..''..k..'- '..v..'\n'
end
end
send(msg.chat_id_, msg.id_,t)
end
if text and text:match("^╪з╪╢┘Б ╪╡┘Д╪з╪н┘К┘З (.*)$") and Mod(msg) then 
ComdNew = text:match("^╪з╪╢┘Б ╪╡┘Д╪з╪н┘К┘З (.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:set(JoKeR.."Comd:New:rt"..msg.chat_id_..msg.sender_user_id_,ComdNew)  
redis:sadd(JoKeR.."Coomds"..msg.chat_id_,ComdNew)  
redis:setex(JoKeR.."Comd:New"..msg.chat_id_..""..msg.sender_user_id_,200,true)  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘К ╪▒╪к╪и╪к ╪з┘Д╪╡┘Д╪з╪н┘К╪й┘З ЁЯТЮ ▄░\n▄Бр╝птФЖ{╪╣┘А╪╢┘А┘И -- ┘Е┘Е┘А┘К┘А╪▓ -- ╪з╪п┘Е┘А┘Ж -- ┘Е┘А╪п┘К┘А╪▒} ЁЯТЮ ▄░") 
end
if text and text:match("^┘Е╪│╪н ╪╡┘Д╪з╪н┘К┘З (.*)$") and Mod(msg) then 
ComdNew = text:match("^┘Е╪│╪н ╪╡┘Д╪з╪н┘К┘З (.*)$")
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:del(JoKeR.."Comd:New:rt:bot:"..ComdNew..msg.chat_id_)
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ┘Е╪│╪н ╪з┘Д╪╡┘Д╪з╪н┘К╪й┘З ЁЯТЮ ▄░") 
end
if redis:get(JoKeR.."Comd:New"..msg.chat_id_..""..msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з┘Е╪▒ ЁЯТЮ ▄░") 
redis:del(JoKeR.."Comd:New"..msg.chat_id_..""..msg.sender_user_id_) 
return false  
end 
if text == '┘Е╪п┘К╪▒' then
if not Constructor(msg) then
send(msg.chat_id_, msg.id_"*тШСя╕ПтФЖ ╪к╪│╪к╪╖┘К╪╣ ╪з╪╢╪з┘Б┘З ╪╡┘Д╪з╪н┘К╪з╪к {╪з╪п┘Е┘Ж - ┘Е┘Е┘К╪▓ - ╪╣╪╢┘И} \nтШСя╕ПтФЖ ╪з╪▒╪│┘Д ╪з┘Д╪╡┘Д╪з╪н┘К┘З ┘Е╪м╪п╪п╪з*\n") 
return false
end
end
if text == '╪з╪п┘Е┘Ж' then
if not Owners(msg) then 
send(msg.chat_id_, msg.id_,"*тШСя╕ПтФЖ ╪к╪│╪к╪╖┘К╪╣ ╪з╪╢╪з┘Б┘З ╪╡┘Д╪з╪н┘К╪з╪к {┘Е┘Е┘К╪▓ - ╪╣╪╢┘И} \nтШСя╕ПтФЖ ╪з╪▒╪│┘Д ╪з┘Д╪╡┘Д╪з╪н┘К┘З ┘Е╪м╪п╪п╪з*\n") 
return false
end
end
if text == '┘Е┘Е┘К╪▓' then
if not Mod(msg) then
send(msg.chat_id_, msg.id_,"*тШСя╕ПтФЖ ╪к╪│╪к╪╖┘К╪╣ ╪з╪╢╪з┘Б┘З ╪╡┘Д╪з╪н┘К╪з╪к {╪╣╪╢┘И} \nтШСя╕ПтФЖ ╪з╪▒╪│┘Д ╪з┘Д╪╡┘Д╪з╪н┘К┘З ┘Е╪м╪п╪п╪з*\n") 
return false
end
end
if text == '┘Е╪п┘К╪▒' or text == '╪з╪п┘Е┘Ж' or text == '┘Е┘Е┘К╪▓' or text == '╪╣╪╢┘И' then
local textn = redis:get(JoKeR.."Comd:New:rt"..msg.chat_id_..msg.sender_user_id_)  
redis:set(JoKeR.."Comd:New:rt:bot:"..textn..msg.chat_id_,text)
send(msg.chat_id_, msg.id_, "тЪая╕ПтФЖ ╪к┘А┘Е ╪з╪╢┘А╪з┘Б┘А┘З ╪з┘Д╪з┘Е┘А╪▒ тИЪ") 
redis:del(JoKeR.."Comd:New"..msg.chat_id_..""..msg.sender_user_id_) 
return false  
end 
end
if text and text:match('╪▒┘Б╪╣ (.*)') and tonumber(msg.reply_to_message_id_) > 0 and Mod(msg) then 
local RTPA = text:match('╪▒┘Б╪╣ (.*)')
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'Coomds'..msg.chat_id_,RTPA) then
function by_reply(extra, result, success)   
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
local blakrt = redis:get(JoKeR.."Comd:New:rt:bot:"..RTPA..msg.chat_id_)
if blakrt == '┘Е┘Е┘К╪▓' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\n??тФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..RTPA..' ┘З┘Ж╪з\n')   
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_,RTPA) 
redis:sadd(JoKeR..'Vips:User'..msg.chat_id_,result.sender_user_id_)  
elseif blakrt == '╪з╪п┘Е┘Ж' and Owners(msg) then 
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..RTPA..' ┘З┘Ж╪з\n')   
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_,RTPA)
redis:sadd(JoKeR..'Mod:User'..msg.chat_id_,result.sender_user_id_)  
elseif blakrt == '┘Е╪п┘К╪▒' and Constructor(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..RTPA..' ┘З┘Ж╪з\n')   
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_,RTPA)  
redis:sadd(JoKeR..'Owners'..msg.chat_id_,result.sender_user_id_)  
elseif blakrt == '╪╣╪╢┘И' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..RTPA..' ┘З┘Ж╪з\n')   
end
end,nil)   
end   
tdcli_function ({ ID = "GetMessage", chat_id_ = msg.chat_id_, message_id_ = tonumber(msg.reply_to_message_id_) }, by_reply, nil)
end
end
if text and text:match('╪к┘Ж╪▓┘К┘Д (.*)') and tonumber(msg.reply_to_message_id_) > 0 and Mod(msg) then 
local RTPA = text:match('╪к┘Ж╪▓┘К┘Д (.*)')
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'Coomds'..msg.chat_id_,RTPA) then
function by_reply(extra, result, success)   
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
local blakrt = redis:get(JoKeR.."Comd:New:rt:bot:"..RTPA..msg.chat_id_)
if blakrt == '┘Е┘Е┘К╪▓' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж '..RTPA..' ┘З┘Ж╪з\n')   
redis:srem(JoKeR..'Vips:User'..msg.chat_id_,result.sender_user_id_)  
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_)
elseif blakrt == '╪з╪п┘Е┘Ж' and Owners(msg) then 
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж '..RTPA..' ┘З┘Ж╪з\n')   
redis:srem(JoKeR..'Mod:User'..msg.chat_id_,result.sender_user_id_) 
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_)
elseif blakrt == '┘Е╪п┘К╪▒' and Constructor(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж '..RTPA..' ┘З┘Ж╪з\n')   
redis:srem(JoKeR..'Owners'..msg.chat_id_,result.sender_user_id_)  
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.sender_user_id_)
elseif blakrt == '╪╣╪╢┘И' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..data.first_name_..'](t.me/'..(data.username_ or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▓┘К┘Д┘З ┘Е┘Ж '..RTPA..' ┘З┘Ж╪з\n')   
end
end,nil)   
end   
tdcli_function ({ ID = "GetMessage", chat_id_ = msg.chat_id_, message_id_ = tonumber(msg.reply_to_message_id_) }, by_reply, nil)
end
end
if text and text:match('^╪▒┘Б╪╣ (.*) @(.*)') and Mod(msg) then 
local text1 = {string.match(text, "^(╪▒┘Б╪╣) (.*) @(.*)$")}
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'Coomds'..msg.chat_id_,text1[2]) then
function py_username(extra, result, success)   
if result.id_ then
local blakrt = redis:get(JoKeR.."Comd:New:rt:bot:"..text1[2]..msg.chat_id_)
if blakrt == '┘Е┘Е┘К╪▓' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..text1[2]..' ┘З┘Ж╪з')   
redis:sadd(JoKeR..'Vips:User'..msg.chat_id_,result.id_)  
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_,text1[2])
elseif blakrt == '╪з╪п┘Е┘Ж' and Owners(msg) then 
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..text1[2]..' ┘З┘Ж╪з')   
redis:sadd(JoKeR..'Mod:User'..msg.chat_id_,result.id_)  
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_,text1[2])
elseif blakrt == '┘Е╪п┘К╪▒' and Constructor(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..text1[2]..' ┘З┘Ж╪з')   
redis:sadd(JoKeR..'Owners'..msg.chat_id_,result.id_)  
redis:set(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_,text1[2])
elseif blakrt == '╪╣╪╢┘И' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪▒┘Б╪╣┘З '..text1[2]..' ┘З┘Ж╪з')   
end
else
info = 'тЪая╕ПтФЖ ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖'
send(msg.chat_id_, msg.id_,info)
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = text1[3]},py_username,nil) 
end 
end
if text and text:match('^╪к┘Ж╪▓┘К┘Д (.*) @(.*)') and Mod(msg) then 
local text1 = {string.match(text, "^(╪к┘Ж╪▓┘К┘Д) (.*) @(.*)$")}
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:sismember(JoKeR..'Coomds'..msg.chat_id_,text1[2]) then
function py_username(extra, result, success)   
if result.id_ then
local blakrt = redis:get(JoKeR.."Comd:New:rt:bot:"..text1[2]..msg.chat_id_)
if blakrt == '┘Е┘Е┘К╪▓' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▒┘К┘Д┘З ┘Е┘Ж '..text1[2]..' ┘З┘Ж╪з')   
redis:srem(JoKeR..'Vips:User'..msg.chat_id_,result.id_)  
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_)
elseif blakrt == '╪з╪п┘Е┘Ж' and Owners(msg) then 
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▒┘К┘Д┘З ┘Е┘Ж '..text1[2]..' ┘З┘Ж╪з')   
redis:srem(JoKeR..'Mod:User'..msg.chat_id_,result.id_)  
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_)
elseif blakrt == '┘Е╪п┘К╪▒' and Constructor(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▒┘К┘Д┘З ┘Е┘Ж '..text1[2]..' ┘З┘Ж╪з')   
redis:srem(JoKeR..'Owners'..msg.chat_id_,result.id_)  
redis:del(JoKeR.."Comd:New:rt:user:"..msg.chat_id_..result.id_)
elseif blakrt == '╪╣╪╢┘И' and Mod(msg) then
send(msg.chat_id_, msg.id_,'\nЁЯСдтФЖ ╪з┘Д╪╣╪╢┘И тЦ╕ ['..result.title_..'](t.me/'..(text1[3] or 'JoKeR_aHs')..')'..'\nтШСя╕ПтФЖ ╪к┘Е ╪к┘Ж╪▒┘К┘Д┘З ┘Е┘Ж '..text1[2]..' ┘З┘Ж╪з')   
end
else
info = 'тЪая╕ПтФЖ ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖'
send(msg.chat_id_, msg.id_,info)
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = text1[3]},py_username,nil) 
end  
end
if text == "┘Е╪│╪н ╪▒╪│╪з┘К┘Д┘К" or text == "┘Е╪│╪н ╪▒╪│╪з╪ж┘Д┘К" or text == "╪н╪░┘Б ╪▒╪│╪з┘К┘Д┘К" or text == "╪н╪░┘Б ╪▒╪│╪з╪ж┘Д┘К" then  
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ┘Е╪│╪н ╪м┘Е┘К╪╣ ╪▒╪│╪з╪ж┘Д┘Г ЁЯТЮ ▄░')  
redis:del(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_) 
end
if text == "╪▒╪│╪з┘К┘Д┘К" or text == "╪▒╪│╪з╪ж┘Д┘К" or text == "msg" then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪╣╪п╪п ╪▒╪│╪з╪ж┘Д ╪з┘Д╪н┘Д┘И тЧГ ['..redis:get(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_)..'](t.me/JoKeR_aHs) ЁЯТЮ ▄░' ) 
end 
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪░╪з╪╣┘З' and Sudo_JoKeR(msg) then  
if redis:get(JoKeR..'Bc:Bots') then
redis:del(JoKeR..'Bc:Bots') 
Text = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪и╪з┘Д╪к╪з┘Г┘К╪п ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪░╪з╪╣┘З' and Sudo_JoKeR(msg) then  
if not redis:get(JoKeR..'Bc:Bots') then
redis:set(JoKeR..'Bc:Bots',true) 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪░╪з╪╣╪й┘З  ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ╪и╪з┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з╪░╪з╪╣╪й┘З ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д' and Sudo_JoKeR(msg) then  
if redis:get(JoKeR..'Tuasl:Bots') then
redis:del(JoKeR..'Tuasl:Bots') 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ╪и╪з┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д' and Sudo_JoKeR(msg) then  
if not redis:get(JoKeR..'Tuasl:Bots') then
redis:set(JoKeR..'Tuasl:Bots',true) 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ╪и╪з┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪к┘И╪з╪╡┘Д ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪о╪п┘Е┘К' and Sudo_JoKeR(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if redis:get(JoKeR..'Free:Bots') then
redis:del(JoKeR..'Free:Bots') 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░  ' 
else
Text = '\n▄Бр╝птФЖ╪и╪з┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░  '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪о╪п┘Е┘К' and Sudo_JoKeR(msg) then  
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if not redis:get(JoKeR..'Free:Bots') then
redis:set(JoKeR..'Free:Bots',true) 
Text = '\n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ╪и╪з┘Д╪к╪г┘Г┘К╪п ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪и┘И╪к ╪з┘Д╪о╪п┘Е┘К ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text and text:match('^╪к┘Ж╪╕┘К┘Б (%d+)$') and Owners(msg) then
local num = tonumber(text:match('^╪к┘Ж╪╕┘К┘Б (%d+)$')) 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if num > 1000 then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к╪│╪к╪╖┘К╪╣ ╪к┘Ж╪╕┘К┘Б  тЧЮ1000тЧЬ ┘Г╪н╪п ╪з┘В╪╡╪ж ЁЯТЮ ▄░ ')
return false  
end  
local msgm = msg.id_
for i=1,tonumber(num) do
DeleteMessage(msg.chat_id_, {[0] = msgm})
msgm = msgm - 1048576
end
send(msg.chat_id_,msg.id_,'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н \nтФШ ╪к┘Е ╪к┘Ж╪╕┘К┘Б тЧЮ ['..num..'](t.me/JoKeR_aHs) тЧЬ ╪▒╪│╪з┘Д╪й тЬУ ┘н')
end
if text == "╪к╪║┘К╪▒ ╪з╪│┘Е ╪з┘Д╪и┘И╪к" or text == "╪к╪║┘К┘К╪▒ ╪з╪│┘Е ╪з┘Д╪и┘И╪к" then 
if Sudo_JoKeR(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR..'Set:Name:Bot'..msg.sender_user_id_,300,true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘К ╪з┘Д╪з╪│┘Е ╪з┘Д╪з┘Ж ?? ▄░ ")  
end
return false
end

if text == ""..(redis:get(JoKeR..'Name:Bot') or '╪к┘И╪▒┘К╪п┘И').."" then  
Namebot = (redis:get(JoKeR..'Name:Bot') or '╪к┘И╪▒┘К╪п┘И')
local JoKeR_Msg = {
'╪╣┘Е╪║┘К ЁЯе║ЁЯТЮЁЯТЮ .',
'┘З┘Д╪з ╪з╪и┘И ╪з┘Д╪н╪и ??ЁЯТШ .'
}
send(msg.chat_id_, msg.id_,'['..JoKeR_Msg[math.random(#JoKeR_Msg)]..']') 
return false
end
if text=="╪з╪░╪з╪╣┘З ╪о╪з╪╡" and msg.reply_to_message_id_ == 0 and Sudo(msg) then 
if redis:get(JoKeR..'Bc:Bots') and not Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з┘Д╪з╪░╪з╪╣╪й┘З ┘Е╪╣╪╖┘Д╪й ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К ЁЯШ╣ЁЯШФ ▄░')
return false
end
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Send:Bc:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end
if text=="╪з╪░╪з╪╣┘З ╪и╪з┘Д╪к╪л╪и┘К╪к" and msg.reply_to_message_id_ == 0 and Sudo_JoKeR(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ??.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Bc:Grops:Pin" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end 
if text=="╪з╪░╪з╪╣┘З" and msg.reply_to_message_id_ == 0 and Sudo(msg) then 
if redis:get(JoKeR..'Bc:Bots') and not Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з┘Д╪з╪░╪з╪╣╪й┘З ┘Е╪╣╪╖┘Д╪й ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К ЁЯШ╣ЁЯШФ ▄░')
return false
end
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Send:Bc:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з╪▒╪│┘Д ┘Д┘К ╪│┘И╪з╪б ┘Г╪з┘Ж . .\n▄Бр╝птФЖ┘Е┘Д╪╡┘В тЧГ ┘Е╪к╪н╪▒┘Г╪й тЧГ ┘Б┘К╪п тЧГ ╪╡┘И╪▒┘З тЧГ ╪▒╪│╪з┘Д╪й ▄К\n▄Бр╝птФЖ┘Д┘Д╪о╪▒┘И╪м ╪з╪▒╪│┘Д ▄К ╪з┘Д╪║╪з╪б ▄К") 
return false
end  
if text=="╪з╪░╪з╪╣┘З ╪и╪з┘Д╪к┘И╪м┘К┘З" and msg.reply_to_message_id_ == 0  and Sudo(msg) then 
if redis:get(JoKeR..'Bc:Bots') and not Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з┘Д╪з╪░╪з╪╣╪й┘З ┘Е╪╣╪╖┘Д╪й ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К ЁЯШ╣ЁЯШФ ▄░')
return false
end
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Send:Fwd:Grops" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з╪▒╪│┘Д ╪з┘Д╪к┘И╪м┘К╪й┘З ╪з┘Д┘К ╪з┘Д╪з┘Ж ЁЯТЮ ▄░") 
return false
end 
if text=="╪з╪░╪з╪╣┘З ╪и╪з┘Д╪к┘И╪м┘К┘З ╪о╪з╪╡" and msg.reply_to_message_id_ == 0  and Sudo(msg) then 
if redis:get(JoKeR..'Bc:Bots') and not Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К  ЁЯТЮ ▄░\n▄Бр╝птФЖ ╪з┘Д╪з╪░╪з╪╣╪й┘З ┘Е╪╣╪╖┘Д╪й ┘Е┘Ж ╪з┘Д┘Е╪╖┘И╪▒ ╪з┘Д╪з╪│╪з╪│┘К ЁЯШ╣ЁЯШФ ▄░')
return false
end
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
redis:setex(JoKeR.."Send:Fwd:Pv" .. msg.chat_id_ .. ":" .. msg.sender_user_id_, 600, true) 
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ ┘З┘З┘Д┘И ╪╣╪╣┘Е╪▒┘К ?? ▄░\n▄Бр╝птФЖ ╪з╪▒╪│┘Д ╪з┘Д╪к┘И╪м┘К╪й┘З ╪з┘Д┘К ╪з┘Д╪з┘Ж ЁЯТЮ ▄░") 
return false
end 
if text and text:match('^╪╢╪╣ ╪з╪│┘Е (.*)') and Owners(msg) or text and text:match('^┘И╪╢╪╣ ╪з╪│┘Е (.*)') and Owners(msg) then 
local Name = text:match('^╪╢╪╣ ╪з╪│┘Е (.*)') or text:match('^┘И╪╢╪╣ ╪з╪│┘Е (.*)') 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
tdcli_function ({ ID = "ChangeChatTitle",chat_id_ = msg.chat_id_,title_ = Name },function(arg,data) 
if data.message_ == "Channel chat title can be changed by administrators only" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘К╪▒╪м┘Й ╪к╪▒┘В┘К╪к┘К ЁЯТЮ ▄░")  
return false  
end 
if data.message_ == "CHAT_ADMIN_REQUIRED" then
send(msg.chat_id_,msg.id_,"▄Бр╝птФЖ┘Д┘К╪│ ┘Д╪п┘К ╪╡┘Д╪з╪н┘К╪й┘З ╪к╪║┘К╪▒ ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ЁЯШнЁЯТЮ ▄░ ")  
else
sebd(msg.chat_id_,msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к╪║┘К╪▒ ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ╪з┘Д┘Й тЧГ ['..Name..']')  
end
end,nil) 
end

if text == "╪к╪з┘Г ┘Д┘Д┘Г┘Д" or text == "╪к╪з┘Г ╪з┘Д┘Г┘Д" and Mod(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
tdcli_function({ID = "GetChannelMembers",channel_id_ = msg.chat_id_:gsub('-100',''), offset_ = 0,limit_ = 200
},function(ta,hso)
local t = "\n┘н ЁЦдУ тФЖ┘З┘З┘Д╪з┘И ┘К┘О┘Е╪н╪к╪н╪к┘К┘Ж ЁЯТЮ??тЧЯ\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
x = 0
local list = hso.members_
for k, v in pairs(list) do
x = x + 1
if redis:get(JoKeR..'user:Name'..v.user_id_) then
t = t.."ЁЦа╡ "..x.." тЧЬ*@"..redis:get(JoKeR..'user:Name'..v.user_id_).."*тЧЮ  ЁЯТЮЁЯжД .\n"
else
end
end
send(msg.chat_id_,msg.id_,t)
end,nil)
end

if text == ("╪к┘Ж╪▓┘К┘Д ╪з┘Д┘Г┘Д") and msg.reply_to_message_id_ ~= 0 and Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
function start_function(extra, result, success)
if tonumber(SUDO) == tonumber(result.sender_user_id_) then
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪к┘Ж╪▓┘К┘Д ╪з┘Д┘Е╪╖┘И╪▒ ╪г┘Д╪з╪│╪з╪│┘К ЁЯТЮ ▄░ ")
return false 
end
if redis:sismember(JoKeR..'Sudo:User',result.sender_user_id_) then
dev = ' ╪з┘Д┘Е╪╖┘И╪▒ ╪М' else dev = '' end
if redis:sismember(JoKeR..'Basic:Constructor'..msg.chat_id_, result.sender_user_id_) then
crr = ' ┘Е┘Ж╪┤╪ж ╪з╪│╪з╪│┘К ╪М' else crr = '' end
if redis:sismember(JoKeR..'Constructor'..msg.chat_id_, result.sender_user_id_) then
cr = ' ┘Е┘Ж╪┤╪ж ╪М' else cr = '' end
if redis:sismember(JoKeR..'Owners'..msg.chat_id_, result.sender_user_id_) then
own = ' ┘Е╪п┘К╪▒ ╪М' else own = '' end
if redis:sismember(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_) then
mod = ' ╪з╪п┘Е┘Ж ╪М' else mod = '' end
if redis:sismember(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_) then
vip = ' ┘Е┘Е┘К╪▓ ╪М' else vip = ''
end
if Can_or_NotCan(result.sender_user_id_,msg.chat_id_) ~= false then
send(msg.chat_id_, msg.id_,"\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д [╪з┘Д╪╣╪╢┘И](t.me/JoKeR_aHs) ЁЯТЮ ▄░\n▄Бр╝птФЖ ▄К  "..dev..''..crr..''..cr..''..own..''..mod..''..vip.." ▄К\n")
else
send(msg.chat_id_, msg.id_,"\n▄Бр╝птФЖ┘Д┘К╪│ ┘Д╪п┘К╪й┘З ╪▒╪к╪и ╪н╪к╪ж ╪з╪│╪к╪╖┘К╪╣ ╪к┘Ж╪▓┘К┘Д ЁЯШ╣ЁЯШнЁЯТЮ ▄░  \n")
end
if tonumber(SUDO) == tonumber(msg.sender_user_id_) then
redis:srem(JoKeR..'Sudo:User', result.sender_user_id_)
redis:srem(JoKeR..'Basic:Constructor'..msg.chat_id_,result.sender_user_id_)
redis:srem(JoKeR..'Constructor'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Owners'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_)
elseif redis:sismember(JoKeR..'Sudo:User',msg.sender_user_id_) then
redis:srem(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Owners'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Constructor'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Basic:Constructor'..msg.chat_id_,result.sender_user_id_)
elseif redis:sismember(JoKeR..'Basic:Constructor'..msg.chat_id_, msg.sender_user_id_) then
redis:srem(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Owners'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Constructor'..msg.chat_id_, result.sender_user_id_)
elseif redis:sismember(JoKeR..'Constructor'..msg.chat_id_, msg.sender_user_id_) then
redis:srem(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Owners'..msg.chat_id_, result.sender_user_id_)
elseif redis:sismember(JoKeR..'Owners'..msg.chat_id_, msg.sender_user_id_) then
redis:srem(JoKeR..'Mod:User'..msg.chat_id_, result.sender_user_id_)
redis:srem(JoKeR..'Vips:User'..msg.chat_id_, result.sender_user_id_)
end
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end


if text == ("┘Е╪│╪н ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒") and Sudo_JoKeR(msg) then 
local list = redis:smembers(JoKeR..'List:Rd:Sudo')
for k,v in pairs(list) do
redis:del(JoKeR.."Add:Rd:Sudo:Gif"..v)   
redis:del(JoKeR.."Add:Rd:Sudo:vico"..v)   
redis:del(JoKeR.."Add:Rd:Sudo:stekr"..v)     
redis:del(JoKeR.."Add:Rd:Sudo:Text"..v)   
redis:del(JoKeR.."Add:Rd:Sudo:Photo"..v)
redis:del(JoKeR.."Add:Rd:Sudo:Video"..v)
redis:del(JoKeR.."Add:Rd:Sudo:File"..v)
redis:del(JoKeR.."Add:Rd:Sudo:Audio"..v)
redis:del(JoKeR..'List:Rd:Sudo')
end
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ╪к┘Е ┘Е╪│╪н ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ЁЯТЮ ▄░ ")
end

if text == ("╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒") and Sudo_JoKeR(msg) then 
local list = redis:smembers(JoKeR..'List:Rd:Sudo')
text = "\n┘н ЁЦдУтФЖ┘В╪з╪ж┘Е╪й ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮЁЯТЮтЧЯ\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
if redis:get(JoKeR.."Add:Rd:Sudo:Gif"..v) then
db = '┘Е╪к╪н╪▒┘Г┘З ЁЯОн'
elseif redis:get(JoKeR.."Add:Rd:Sudo:vico"..v) then
db = '╪и╪╡┘Е┘З ЁЯУв'
elseif redis:get(JoKeR.."Add:Rd:Sudo:stekr"..v) then
db = '┘Е┘Д╪╡┘В ЁЯГП'
elseif redis:get(JoKeR.."Add:Rd:Sudo:Text"..v) then
db = '╪▒╪│╪з┘Д┘З тЬЙ'
elseif redis:get(JoKeR.."Add:Rd:Sudo:Photo"..v) then
db = '╪╡┘И╪▒┘З ЁЯОЗ'
elseif redis:get(JoKeR.."Add:Rd:Sudo:Video"..v) then
db = '┘Б┘К╪п┘К┘И ЁЯУ╣'
elseif redis:get(JoKeR.."Add:Rd:Sudo:File"..v) then
db = '┘Е┘Д┘Б ЁЯУБ'
elseif redis:get(JoKeR.."Add:Rd:Sudo:Audio"..v) then
db = '╪з╪║┘Ж┘К┘З ЁЯО╡'
end
text = text.."ЁЦа╡ "..k.." ▄К  "..v..". тЧГ "..db.."  .\n"
end
if #list == 0 then
text = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪▒╪п┘И╪п ┘Д┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░ "
end
send(msg.chat_id_, msg.id_,'['..text..']')
end
if text or msg.content_.sticker_ or msg.content_.voice_ or msg.content_.animation_ or msg.content_.audio_ or msg.content_.document_ or msg.content_.photo_ or msg.content_.video_ then  
local test = redis:get(JoKeR..'Text:Sudo:Bot'..msg.sender_user_id_..':'..msg.chat_id_)
if redis:get(JoKeR..'Set:Rd'..msg.sender_user_id_..':'..msg.chat_id_) == 'true1' then
redis:del(JoKeR..'Set:Rd'..msg.sender_user_id_..':'..msg.chat_id_)
if msg.content_.sticker_ then   
redis:set(JoKeR.."Add:Rd:Sudo:stekr"..test, msg.content_.sticker_.sticker_.persistent_id_)  
end   
if msg.content_.voice_ then  
redis:set(JoKeR.."Add:Rd:Sudo:vico"..test, msg.content_.voice_.voice_.persistent_id_)  
end   
if msg.content_.animation_ then   
redis:set(JoKeR.."Add:Rd:Sudo:Gif"..test, msg.content_.animation_.animation_.persistent_id_)  
end  
if text then   
text = text:gsub('"','') 
text = text:gsub("'",'') 
text = text:gsub('`','') 
text = text:gsub('*','') 
redis:set(JoKeR.."Add:Rd:Sudo:Text"..test, text)  
end  
if msg.content_.audio_ then
redis:set(JoKeR.."Add:Rd:Sudo:Audio"..test, msg.content_.audio_.audio_.persistent_id_)  
end
if msg.content_.document_ then
redis:set(JoKeR.."Add:Rd:Sudo:File"..test, msg.content_.document_.document_.persistent_id_)  
end
if msg.content_.video_ then
redis:set(JoKeR.."Add:Rd:Sudo:Video"..test, msg.content_.video_.video_.persistent_id_)  
end
if msg.content_.photo_ then
if msg.content_.photo_.sizes_[0] then
photo_in_group = msg.content_.photo_.sizes_[0].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[1] then
photo_in_group = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[2] then
photo_in_group = msg.content_.photo_.sizes_[2].photo_.persistent_id_
end	
if msg.content_.photo_.sizes_[3] then
photo_in_group = msg.content_.photo_.sizes_[3].photo_.persistent_id_
end
redis:set(JoKeR.."Add:Rd:Sudo:Photo"..test, photo_in_group)  
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╕ ╪з┘Д╪▒╪п ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ')
return false  
end  
end
if text and text:match("^(.*)$") then
if redis:get(JoKeR..'Set:Rd'..msg.sender_user_id_..':'..msg.chat_id_) == 'true' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪▒╪п ╪з┘Д╪░┘К ╪к╪▒┘К╪п┘З ЁЯТЮ ▄░\n▄Бр╝птФЖ╪│┘И╪з╪б ┘Г╪з┘Ж тЦ┐\n▄Бр╝птФЖ[╪╡┘И╪▒┘З](t.me/JoKeR_aHs) ▄К [╪и╪╡┘Е┘З](t.me/JoKeR_aHs) ▄К [┘Б┘К╪п](t.me/JoKeR_aHs) ▄К [┘Е╪к╪н╪▒┘Г┘З](t.me/JoKeR_aHs) ▄К [┘Е┘Д╪╡┘В](t.me/JoKeR_aHs) ▄░')
redis:set(JoKeR..'Set:Rd'..msg.sender_user_id_..':'..msg.chat_id_, 'true1')
redis:set(JoKeR..'Text:Sudo:Bot'..msg.sender_user_id_..':'..msg.chat_id_, text)
redis:sadd(JoKeR..'List:Rd:Sudo', text)
return false end
end
if text and text:match("^(.*)$") then
if redis:get(JoKeR..'Set:On'..msg.sender_user_id_..':'..msg.chat_id_) == 'true' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д╪▒╪п ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ')
list = {"Add:Rd:Sudo:Audio","Add:Rd:Sudo:File","Add:Rd:Sudo:Video","Add:Rd:Sudo:Photo","Add:Rd:Sudo:Text","Add:Rd:Sudo:stekr","Add:Rd:Sudo:vico","Add:Rd:Sudo:Gif"}
for k,v in pairs(list) do
redis:del(JoKeR..v..text)
end
redis:del(JoKeR..'Set:On'..msg.sender_user_id_..':'..msg.chat_id_)
redis:srem(JoKeR..'List:Rd:Sudo', text)
return false
end
end
if text == '╪з╪╢┘Б ╪▒╪п ┘Д┘Д┘Г┘Д' and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й ╪з┘Д╪░┘К ╪к╪▒┘К╪п ╪з╪╢╪з┘Б╪к┘З╪з ЁЯТЮ ▄░')
redis:set(JoKeR..'Set:Rd'..msg.sender_user_id_..':'..msg.chat_id_,true)
return false 
end
if text == '╪н╪░┘Б ╪▒╪п ┘Д┘Д┘Г┘Д' and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й ╪з┘Д╪░┘К ╪к╪▒┘К╪п ╪н╪░┘Б┘З╪з ЁЯТЮ ▄░')
redis:set(JoKeR..'Set:On'..msg.sender_user_id_..':'..msg.chat_id_,true)
return false 
end
if text and not redis:get(JoKeR..'Reply:Sudo'..msg.chat_id_) then
if not redis:sismember(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) then
local anemi = redis:get(JoKeR.."Add:Rd:Sudo:Gif"..text)   
local veico = redis:get(JoKeR.."Add:Rd:Sudo:vico"..text)   
local stekr = redis:get(JoKeR.."Add:Rd:Sudo:stekr"..text)     
local text1 = redis:get(JoKeR.."Add:Rd:Sudo:Text"..text)   
local photo = redis:get(JoKeR.."Add:Rd:Sudo:Photo"..text)
local video = redis:get(JoKeR.."Add:Rd:Sudo:Video"..text)
local document = redis:get(JoKeR.."Add:Rd:Sudo:File"..text)
local audio = redis:get(JoKeR.."Add:Rd:Sudo:Audio"..text)
------------------------------------------------------------------------
------------------------------------------------------------------------
if text1 then 
send(msg.chat_id_, msg.id_,text1)
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if stekr then 
sendSticker(msg.chat_id_, msg.id_, 0, 1, nil, stekr)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if veico then 
sendVoice(msg.chat_id_, msg.id_, 0, 1, nil, veico)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if video then 
sendVideo(msg.chat_id_, msg.id_, 0, 1, nil,video)
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if anemi then 
sendDocument(msg.chat_id_, msg.id_, 0, 1, nil, anemi, '', nil)  
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if document then
sendDocument(msg.chat_id_, msg.id_, 0, 1,nil, document)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end  
if audio then
sendAudio(msg.chat_id_,msg.id_,audio)  
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if photo then
sendPhoto(msg.chat_id_, msg.id_, 0, 1, nil,photo,'')
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end  
end
end
if text == ("┘Е╪│╪н ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒") and Owners(msg) then
local list = redis:smembers(JoKeR..'List:Owners'..msg.chat_id_..'')
for k,v in pairs(list) do
redis:del(JoKeR.."Add:Rd:Owners:Gif"..v..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Vico"..v..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Stekrs"..v..msg.chat_id_)     
redis:del(JoKeR.."Add:Rd:Owners:Text"..v..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Photo"..v..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Video"..v..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:File"..v..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Audio"..v..msg.chat_id_)
redis:del(JoKeR..'List:Owners'..msg.chat_id_)
end
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ ╪к┘Е ┘Е╪│╪н ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ЁЯТЮ ▄░")
end

if text == ("╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒") and Owners(msg) then
local list = redis:smembers(JoKeR..'List:Owners'..msg.chat_id_..'')
text = "┘н ЁЦдУтФЖ┘В╪з╪ж┘Е╪й ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ЁЯТЮЁЯТЮтЧЯ\n▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А\n"
for k,v in pairs(list) do
if redis:get(JoKeR.."Add:Rd:Owners:Gif"..v..msg.chat_id_) then
db = '┘Е╪к╪н╪▒┘Г┘З ??'
elseif redis:get(JoKeR.."Add:Rd:Owners:Vico"..v..msg.chat_id_) then
db = '╪и╪╡┘Е┘З ЁЯУв'
elseif redis:get(JoKeR.."Add:Rd:Owners:Stekrs"..v..msg.chat_id_) then
db = '┘Е┘Д╪╡┘В ЁЯГП'
elseif redis:get(JoKeR.."Add:Rd:Owners:Text"..v..msg.chat_id_) then
db = '╪▒╪│╪з┘Д┘З тЬЙ'
elseif redis:get(JoKeR.."Add:Rd:Owners:Photo"..v..msg.chat_id_) then
db = '╪╡┘И╪▒┘З ЁЯОЗ'
elseif redis:get(JoKeR.."Add:Rd:Owners:Video"..v..msg.chat_id_) then
db = '┘Б┘К╪п┘К┘И ЁЯОм'
elseif redis:get(JoKeR.."Add:Rd:Owners:File"..v..msg.chat_id_) then
db = '┘Е┘Д┘Б ЁЯУБ'
elseif redis:get(JoKeR.."Add:Rd:Owners:Audio"..v..msg.chat_id_) then
db = '╪з╪║┘Ж┘К┘З ЁЯО╡'
end
text = text.."▄Б ЁЦа╡ "..k.." ▄К  "..v.." тЧГ  "..db.." \n"
end
if #list == 0 then
text = "▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪▒╪п┘И╪п ┘Д┘Д┘Е╪п┘К╪▒ ЁЯТЮ ▄░"
end
send(msg.chat_id_, msg.id_,'['..text..']')
end
if text or msg.content_.sticker_ or msg.content_.voice_ or msg.content_.animation_ or msg.content_.audio_ or msg.content_.document_ or msg.content_.photo_ or msg.content_.video_ then  
local test = redis:get(JoKeR..'Text:Owners'..msg.sender_user_id_..':'..msg.chat_id_..'')
if redis:get(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_) == 'true1' then
redis:del(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_)
if msg.content_.sticker_ then   
redis:set(JoKeR.."Add:Rd:Owners:Stekrs"..test..msg.chat_id_, msg.content_.sticker_.sticker_.persistent_id_)  
end   
if msg.content_.voice_ then  
redis:set(JoKeR.."Add:Rd:Owners:Vico"..test..msg.chat_id_, msg.content_.voice_.voice_.persistent_id_)  
end   
if msg.content_.animation_ then   
redis:set(JoKeR.."Add:Rd:Owners:Gif"..test..msg.chat_id_, msg.content_.animation_.animation_.persistent_id_)  
end  
if text then   
text = text:gsub('"','') 
text = text:gsub("'",'') 
text = text:gsub('`','') 
text = text:gsub('*','') 
redis:set(JoKeR.."Add:Rd:Owners:Text"..test..msg.chat_id_, text)  
end  
if msg.content_.audio_ then
redis:set(JoKeR.."Add:Rd:Owners:Audio"..test..msg.chat_id_, msg.content_.audio_.audio_.persistent_id_)  
end
if msg.content_.document_ then
redis:set(JoKeR.."Add:Rd:Owners:File"..test..msg.chat_id_, msg.content_.document_.document_.persistent_id_)  
end
if msg.content_.video_ then
redis:set(JoKeR.."Add:Rd:Owners:Video"..test..msg.chat_id_, msg.content_.video_.video_.persistent_id_)  
end
if msg.content_.photo_ then
if msg.content_.photo_.sizes_[0] then
photo_in_group = msg.content_.photo_.sizes_[0].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[1] then
photo_in_group = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[2] then
photo_in_group = msg.content_.photo_.sizes_[2].photo_.persistent_id_
end	
if msg.content_.photo_.sizes_[3] then
photo_in_group = msg.content_.photo_.sizes_[3].photo_.persistent_id_
end
redis:set(JoKeR.."Add:Rd:Owners:Photo"..test..msg.chat_id_, photo_in_group)  
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н┘Б╪╢ ╪з┘Д╪▒╪п ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░')
return false  
end  
end
if text and text:match("^(.*)$") then
if redis:get(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_) == 'true' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д╪▒╪п ╪з┘Д╪░┘К ╪к╪▒┘К╪п┘З ЁЯТЮ ▄░\n▄Бр╝птФЖ╪│┘И╪з╪б ┘Г╪з┘Ж тЦ┐\n▄Бр╝птФЖ[╪╡┘И╪▒┘З](t.me/JoKeR_aHs) ▄К [╪и╪╡┘Е┘З](t.me/JoKeR_aHs) ▄К [┘Б┘К╪п](t.me/JoKeR_aHs) ▄К [┘Е╪к╪н╪▒┘Г┘З](t.me/JoKeR_aHs) ▄К [┘Е┘Д╪╡┘В](t.me/JoKeR_aHs) ▄░')
redis:set(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_,'true1')
redis:set(JoKeR..'Text:Owners'..msg.sender_user_id_..':'..msg.chat_id_, text)
redis:del(JoKeR.."Add:Rd:Owners:Gif"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Vico"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Stekrs"..text..msg.chat_id_)     
redis:del(JoKeR.."Add:Rd:Owners:Text"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Photo"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Video"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:File"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Audio"..text..msg.chat_id_)
redis:sadd(JoKeR..'List:Owners'..msg.chat_id_..'', text)
return false end
end
if text and text:match("^(.*)$") then
if redis:get(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_..'') == 'true2' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д╪▒╪п ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░ ')
redis:del(JoKeR.."Add:Rd:Owners:Gif"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Vico"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Stekrs"..text..msg.chat_id_)     
redis:del(JoKeR.."Add:Rd:Owners:Text"..text..msg.chat_id_)   
redis:del(JoKeR.."Add:Rd:Owners:Photo"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Video"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:File"..text..msg.chat_id_)
redis:del(JoKeR.."Add:Rd:Owners:Audio"..text..msg.chat_id_)
redis:del(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_)
redis:srem(JoKeR..'List:Owners'..msg.chat_id_..'', text)
return false
end
end
if text == '╪з╪╢┘Б ╪▒╪п' and Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й ╪з┘Д╪░┘К ╪к╪▒┘К╪п ╪з╪╢╪з┘Б╪к┘З╪з ЁЯТЮ ▄░')
redis:set(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_,true)
return false 
end
if text == '╪н╪░┘Б ╪▒╪п' and Owners(msg) then
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з╪▒╪│┘Д ╪з┘Д┘Г┘Д┘Е╪й┘З ╪з┘Д╪к┘К ╪к╪▒┘К╪п ╪н╪░┘Б┘З╪з ЁЯТЮ ▄░ ')
redis:set(JoKeR..'Set:Owners:rd'..msg.sender_user_id_..':'..msg.chat_id_,'true2')
return false 
end
if text and not redis:get(JoKeR..'Reply:Owners'..msg.chat_id_) then
if not redis:sismember(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) then
local anemi = redis:get(JoKeR.."Add:Rd:Owners:Gif"..text..msg.chat_id_)   
local veico = redis:get(JoKeR.."Add:Rd:Owners:Vico"..text..msg.chat_id_)   
local stekr = redis:get(JoKeR.."Add:Rd:Owners:Stekrs"..text..msg.chat_id_)     
local text1 = redis:get(JoKeR.."Add:Rd:Owners:Text"..text..msg.chat_id_)   
local photo = redis:get(JoKeR.."Add:Rd:Owners:Photo"..text..msg.chat_id_)
local video = redis:get(JoKeR.."Add:Rd:Owners:Video"..text..msg.chat_id_)
local document = redis:get(JoKeR.."Add:Rd:Owners:File"..text..msg.chat_id_)
local audio = redis:get(JoKeR.."Add:Rd:Owners:Audio"..text..msg.chat_id_)
------------------------------------------------------------------------
------------------------------------------------------------------------
if text1 then 
send(msg.chat_id_, msg.id_, text1)
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if stekr then 
sendSticker(msg.chat_id_, msg.id_, 0, 1, nil, stekr)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if veico then 
sendVoice(msg.chat_id_, msg.id_, 0, 1, nil, veico)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if video then 
sendVideo(msg.chat_id_, msg.id_, 0, 1, nil,video)
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if anemi then 
sendDocument(msg.chat_id_, msg.id_, 0, 1,nil, anemi)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if document then
sendDocument(msg.chat_id_, msg.id_, 0, 1,nil, document)   
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end  
if audio then
sendAudio(msg.chat_id_,msg.id_,audio)  
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end
if photo then
sendPhoto(msg.chat_id_, msg.id_, 0, 1, nil,photo,photo_caption)
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
end  
end
end
-------------------------------
if text == ""..(redis:get(JoKeR..'Name:Bot') or '╪к┘И╪▒┘К╪п┘И').." ╪║╪з╪п╪▒" or text == '╪║╪з╪п╪▒' then  
if Sudo(msg) and not redis:get(JoKeR..'Left:Bot'..msg.chat_id_)  then 
tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_=msg.chat_id_,user_id_=JoKeR,status_={ID = "ChatMemberStatusLeft"},},function(e,g) end, nil) 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪и╪з┘К ╪▒╪з╪н ╪з╪┤╪к╪з┘В┘Д┘Г┘Е ЁЯШнЁЯТЮ ▄░ ') 
redis:srem(JoKeR..'Chek:Groups',msg.chat_id_)  
end
return false  
end
if text == '╪и┘И╪к' then
Namebot = (redis:get(JoKeR..'Name:Bot') or '╪к┘И╪▒┘К╪п┘И')
send(msg.chat_id_, msg.id_,'╪г╪│┘Е┘К ╪з┘Д┘Д╪╖┘К┘Б '..Namebot..' . ЁЦдРтЧЯ') 
end
if text == '╪з┘Д╪з╪н╪╡╪з╪ж┘К╪з╪к' then
if Sudo(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = 'тФР ╪╣╪п╪п ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к тЧГ тЧЮ*'..Groups..'*тЧЬ \nтЬЫ ┘н                  ┘н \nтФШ ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж тЧГ тЧЮ*'..Users..'*тЧЬ .'
send(msg.chat_id_, msg.id_,Text) 
end
return false
end
if text == '╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к' then
if Sudo(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = '\n┘н ЁЦб╣ тФЖ╪╣╪п╪п ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪к тЧГ тЧЮ *'..Groups..'* тЧЬ.'
send(msg.chat_id_, msg.id_,Text) 
end
return false
end
if text == '╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж' then
if Sudo(msg) then 
local Groups = redis:scard(JoKeR..'Chek:Groups')  
local Users = redis:scard(JoKeR..'User_Bot')  
Text = '\n┘н ЁЦб╣ тФЖ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘К┘Ж тЧГ тЧЮ *'..Users..'* тЧЬ.'
send(msg.chat_id_, msg.id_,Text) 
end
return false
end
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е╪║╪з╪п╪▒┘З' and Sudo_JoKeR(msg) then   
if redis:get(JoKeR..'Left:Bot'..msg.chat_id_) then
Text = '▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ┘Е╪║╪з╪п╪▒╪й ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
redis:del(JoKeR..'Left:Bot'..msg.chat_id_)  
else
Text = '▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ┘Е╪║╪з╪п╪▒╪й ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д┘Е╪║╪з╪п╪▒┘З' and Sudo_JoKeR(msg) then  
if not redis:get(JoKeR..'Left:Bot'..msg.chat_id_) then
Text = '▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ┘Е╪║╪з╪п╪▒╪й ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
redis:set(JoKeR..'Left:Bot'..msg.chat_id_,true)   
else
Text = '▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ┘Е╪║╪з╪п╪▒╪й ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_, Text) 
end

if text == '╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒' and Owners(msg) then   
if redis:get(JoKeR..'Reply:Owners'..msg.chat_id_) then
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ?? ▄░'
redis:del(JoKeR..'Reply:Owners'..msg.chat_id_)  
else
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ЁЯТЮ ▄░╪▒'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒' and Owners(msg) then  
if not redis:get(JoKeR..'Reply:Owners'..msg.chat_id_) then
redis:set(JoKeR..'Reply:Owners'..msg.chat_id_,true)  
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ЁЯТЮ ▄░╪▒' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪п┘К╪▒ ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒' and Owners(msg) then   
if redis:get(JoKeR..'Reply:Sudo'..msg.chat_id_) then
redis:del(JoKeR..'Reply:Sudo'..msg.chat_id_)  
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒' and Owners(msg) then  
if not redis:get(JoKeR..'Reply:Sudo'..msg.chat_id_) then
redis:set(JoKeR..'Reply:Sudo'..msg.chat_id_,true)   
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪▒╪п┘И╪п ╪з┘Д┘Е╪╖┘И╪▒ ?? ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end

if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К' and Owners(msg) then   
if redis:get(JoKeR..'Bot:Id'..msg.chat_id_)  then
redis:del(JoKeR..'Bot:Id'..msg.chat_id_) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К' and Owners(msg) then  
if not redis:get(JoKeR..'Bot:Id'..msg.chat_id_)  then
redis:set(JoKeR..'Bot:Id'..msg.chat_id_,true) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪з┘Д╪│┘К╪▒┘Б╪▒' and Sudo_JoKeR(msg) then 
send(msg.chat_id_, msg.id_, io.popen([[
linux_version=`lsb_release -ds`
memUsedPrc=`free -m | awk 'NR==2{printf "%sMB/%sMB {%.2f%}\n", $3,$2,$3*100/$2 }'`
HardDisk=`df -lh | awk '{if ($6 == "/") { print $3"/"$2" ~ {"$5"}" }}'`
CPUPer=`top -b -n1 | grep "Cpu(s)" | awk '{print $2 + $4}'`
uptime=`uptime | awk -F'( |,|:)+' '{if ($7=="min") m=$6; else {if ($7~/^day/) {d=$6;h=$8;m=$9} else {h=$6;m=$7}}} {print d+0,"days,",h+0,"hours,",m+0,"minutes."}'`
echo '▄Бр╝птФЖ┘Е╪п╪й ╪к╪┤╪║┘К┘Д ╪з┘Д╪│┘К╪▒┘Б╪▒ тЦ╛ .\n*тЦ╕  '"$linux_version"'*' 
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д╪░╪з┘Г╪▒┘З ╪з┘Д╪╣╪┤┘И╪з╪ж┘К╪й тЦ╛ .\n*тЦ╕ '"$memUsedPrc"'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ┘И╪н╪п╪й ╪з┘Д╪к╪о╪▓┘К┘Ж тЦ╛ .\n*тЦ╕ '"$HardDisk"'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д┘Е╪╣╪з┘Д╪м тЦ╛ .\n*тЦ╕ '"`grep -c processor /proc/cpuinfo`""Core тЦ╕ $CPUPer% "'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ╪з┘Д╪п╪о┘И┘Д тЦ╛ . \n*тЦ╕ '`whoami`'*'
echo '*▄Атадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтадтад▄А*\n▄Бр╝птФЖ┘Е╪п╪й ╪к╪┤╪║┘К┘Д ╪з┘Д╪│┘К╪▒┘Б╪▒ тЦ╛ .\n*тЦ╕ '"$uptime"'*'
]]):read('*all'))  
end
---------
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З' and Owners(msg) then   
if redis:get(JoKeR..'Bot:Id:Photo'..msg.chat_id_)  then
redis:del(JoKeR..'Bot:Id:Photo'..msg.chat_id_) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З' and Owners(msg) then  
if not redis:get(JoKeR..'Bot:Id:Photo'..msg.chat_id_)  then
redis:set(JoKeR..'Bot:Id:Photo'..msg.chat_id_,true) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪з┘К╪п┘К ╪и╪з┘Д╪╡┘И╪▒┘З ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪н╪╕╪▒' and Constructor(msg) then   
if redis:get(JoKeR..'Lock:kick'..msg.chat_id_)  then
redis:del(JoKeR..'Lock:kick'..msg.chat_id_) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪н╪╕╪▒ ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Д╪н╪╕╪▒ ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪н╪╕╪▒' and Constructor(msg) then  
if not redis:get(JoKeR..'Lock:kick'..msg.chat_id_)  then
redis:set(JoKeR..'Lock:kick'..msg.chat_id_,true) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪н╪╕╪▒ ЁЯТЮ ▄░' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Д╪н╪╕╪▒ ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
-----------
if msg.content_.ID == 'MessageSticker' then     
if not redis:get(JoKeR..'JoKeR:Reply:Sticker'..msg.chat_id_) then
local texting = {"╪п┘Ж┘Г ╪о┘Д┘К ╪з╪▒┘Г╪и┘Г ЁЯТХ. ","╪к╪┤╪▒┘Б╪к ╪н╪и╪н╪и ЁЯТХ.","╪╣ ╪▒╪з╪│┘К ЁЯТХ.","╪╣┘И╪п ╪┤┘И┘Б┘И┘Ж┘К ╪л┘Г┘К┘Д ┘И┘З╪з┘К .. ╪╖┘Б┘К ╪з┘Д┘Г╪з┘Е╪▒╪й ЁЯШ╣ЁЯШнтЩея╕П.","┘Г╪з┘Б┘К ┘Е┘Д╪╡┘В╪з╪к ЁЯШ╣ЁЯШнтЩея╕П. ","╪н╪и┘К╪и┘К ┘И┘Д┘Д┘З ЁЯШ╣ЁЯШнтЩея╕П. " }
send(msg.chat_id_, msg.id_, ''..texting[math.random(#texting)]..'')
end
end 
---------
if text == '╪к┘Б╪╣┘К┘Д ╪з┘Д╪▒┘Б╪╣' and Constructor(msg) then   
if redis:get(JoKeR..'Lock:Add:Bot'..msg.chat_id_)  then
redis:del(JoKeR..'Lock:Add:Bot'..msg.chat_id_) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪з┘Д╪▒┘Б╪╣ ЁЯТЮ ▄░ ' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪з┘Д╪▒┘Б╪╣ ЁЯТЮ ▄░ '
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з┘Д╪▒┘Б╪╣' and Constructor(msg) then  
if not redis:get(JoKeR..'Lock:Add:Bot'..msg.chat_id_)  then
redis:set(JoKeR..'Lock:Add:Bot'..msg.chat_id_,true) 
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪з┘Д╪▒┘Б╪╣ ЁЯТЮ ▄░╪╣' 
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪з┘Д╪▒┘Б╪╣ ЁЯТЮ ▄░╪╣'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪з┘К╪п┘К' and tonumber(msg.reply_to_message_id_) > 0 then
function start_function(extra, result, success)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(extra,data) 
local Msguser = tonumber(redis:get(JoKeR..'Msg_User'..msg.chat_id_..':'..result.sender_user_id_) or 1) 
local Contact = tonumber(redis:get(JoKeR..'Add:Contact'..msg.chat_id_..':'..result.sender_user_id_) or 0) 
local NUMPGAME = tonumber(redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..result.sender_user_id_) or 0)
local edit = tonumber(redis:get(JoKeR..'edits'..msg.chat_id_..result.sender_user_id_) or 0)
local rtp = Rutba(result.sender_user_id_,msg.chat_id_)
local username = ('[@'..data.username_..']' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.sender_user_id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И тЧГ `'..iduser..'`▄К\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б ╪з┘Д╪╣╪╢┘И тЧГ '..username..' ▄К \n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ '..rtp..' ▄К\n▄Бр╝птФЖ╪▒╪│╪з╪ж┘Д ╪з┘Д╪╣╪╢┘И тЧГ '..Msguser..'▄К\n▄Бр╝птФЖ┘Е╪м┘И┘З╪▒╪з╪к ╪з┘Д╪╣╪╢┘И тЧГ '..NUMPGAME..' ▄К\n▄Бр╝птФЖ╪м┘З╪з╪к ╪з┘Д╪╣╪╢┘И тЧГ '..Contact..' ▄К')
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end
if text and text:match("^╪з┘К╪п┘К @(.*)$") then
local username = text:match("^╪з┘К╪п┘К @(.*)$")
function start_function(extra, result, success)
if result.id_ then
tdcli_function ({ID = "GetUser",user_id_ = result.id_},function(extra,data) 
local Msguser = tonumber(redis:get(JoKeR..'Msg_User'..msg.chat_id_..':'..result.id_) or 1) 
local Contact = tonumber(redis:get(JoKeR..'Add:Contact'..msg.chat_id_..':'..result.id_) or 0) 
local NUMPGAME = tonumber(redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..result.id_) or 0)
local edit = tonumber(redis:get(JoKeR..'edits'..msg.chat_id_..result.id_) or 0)
local rtp = Rutba(result.id_,msg.chat_id_)
local username = ('[@'..data.username_..']' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И тЧГ `'..iduser..'`▄К\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б ╪з┘Д╪╣╪╢┘И тЧГ '..username..' ▄К \n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ '..rtp..' ▄К\n▄Бр╝птФЖ╪▒╪│╪з╪ж┘Д ╪з┘Д╪╣╪╢┘И тЧГ '..Msguser..'▄К\n▄Бр╝птФЖ┘Е╪м┘И┘З╪▒╪з╪к ╪з┘Д╪╣╪╢┘И тЧГ '..NUMPGAME..' ▄К\n▄Бр╝птФЖ╪м┘З╪з╪к ╪з┘Д╪╣╪╢┘И тЧГ '..Contact..' ▄К')
end,nil)
else
send(msg.chat_id_, msg.id_,'р╝птФЖ ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘К╪▒ ╪╡╪н┘К╪н ')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
end
if text == '╪▒╪к╪и╪к┘К' then
local rtp = Rutba(msg.sender_user_id_,msg.chat_id_)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪▒╪к╪и╪к┘Г ┘Б┘К ╪з┘Д╪и┘И╪к тЧГ '..rtp)
end
if text == "╪з╪│┘Е┘К"  then 
tdcli_function({ID="GetUser",user_id_=msg.sender_user_id_},function(extra,result,success)
if result.first_name_  then
first_name = ' ▄Бр╝птФЖ╪з╪│┘Е┘Г ╪з┘Д┘Д╪╖┘К┘Б тЧГ `'..(result.first_name_)..'` ЁЯТЮ ▄░'
else
first_name = ''
end   
if result.last_name_ then 
last_name = ' ▄Бр╝птФЖ╪з╪│┘Е┘Г ╪з┘Д┘Д╪╖┘К┘Б тЧГ `'..result.last_name_..'` ЁЯТЮ ▄░' 
else
last_name = ''
end      
send(msg.chat_id_, msg.id_,first_name..'\n'..last_name) 
end,nil)
end 
if text == '╪з┘К╪п┘К┘К' then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д╪з┘К╪п┘К ╪к╪и╪╣┘Г тЧГ '..msg.sender_user_id_)
end
if text == '╪з┘Д╪▒╪к╪и┘З' and tonumber(msg.reply_to_message_id_) > 0 then
function start_function(extra, result, success)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(extra,data) 
local rtp = Rutba(result.sender_user_id_,msg.chat_id_)
local username = ('@'..data.username_..'' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.sender_user_id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И  тЧГ *'..iduser..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б  ╪з┘Д╪╣╪╢┘И тЧГ ╦╝ *'..username..'* ╦╣\n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ *'..rtp..'* ЁЯТЮ ▄░\n')
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end
---------
if text and text:match("^╪з┘Д╪▒╪к╪и┘З @(.*)$") then
local username = text:match("^╪з┘Д╪▒╪к╪и┘З @(.*)$")
function start_function(extra, result, success)
if result.id_ then
tdcli_function ({ID = "GetUser",user_id_ = result.id_},function(extra,data) 
local rtp = Rutba(result.id_,msg.chat_id_)
local username = ('[@'..data.username_..']' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И  тЧГ *'..iduser..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б  ╪з┘Д╪╣╪╢┘И тЧГ *'..username..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ *'..rtp..'* ЁЯТЮ ▄░\n')
end,nil)
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖ ЁЯТЮ ▄░ ')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
end
---------
if text == '┘Г╪┤┘Б' and tonumber(msg.reply_to_message_id_) > 0 then
function start_function(extra, result, success)
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(extra,data) 
local rtp = Rutba(result.sender_user_id_,msg.chat_id_)
local username = ('[@'..data.username_..']' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.sender_user_id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И  тЧГ *'..iduser..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б  ╪з┘Д╪╣╪╢┘И тЧГ *'..username..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ *'..rtp..'* ЁЯТЮ ▄░')
end,nil)
end
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, start_function, nil)
end
---------
if text and text:match("^┘Г╪┤┘Б @(.*)$") then
local username = text:match("^┘Г╪┤┘Б @(.*)$")
function start_function(extra, result, success)
if result.id_ then
tdcli_function ({ID = "GetUser",user_id_ = result.id_},function(extra,data) 
local rtp = Rutba(result.id_,msg.chat_id_)
local username = ('[@'..data.username_..']' or '┘Д╪з ┘К┘И╪м╪п')
local iduser = result.id_
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И  тЧГ *'..iduser..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ┘Е╪╣╪▒┘Б  ╪з┘Д╪╣╪╢┘И тЧГ *'..username..'* ЁЯТЮ ▄░\n▄Бр╝птФЖ╪▒╪к╪и╪й ╪з┘Д╪╣╪╢┘И тЧГ *'..rtp..'* ЁЯТЮ ▄░')
end,nil)
else
send(msg.chat_id_, msg.id_,'р╝птФЖ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘К╪▒ ╪╡╪н┘К╪н ')
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
end
if text==('╪╣╪п╪п ╪з┘Д┘Г╪▒┘И╪и') and Mod(msg) then  
if msg.can_be_deleted_ == false then 
send(msg.chat_id_,msg.id_,"р╝птФЖ╪з┘Д╪и┘И╪к ┘Д┘К╪│ ╪з╪п┘Е┘Ж ┘З┘Ж╪з \n") 
return false  
end 
tdcli_function({ID ="GetChat",chat_id_=msg.chat_id_},function(arg,ta) 
tdcli_function({ID="GetChannelFull",channel_id_ = msg.chat_id_:gsub('-100','')},function(arg,data) 
local taha = '▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д╪з╪п┘Е┘Ж┘К╪й ЁЦвЯ тЧГ  '..data.administrator_count_..
'\n\n▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д┘Е╪╖╪▒┘И╪п┘К┘Ж ЁЦвЯ тЧГ  '..data.kicked_count_..
'\n\n▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д╪з╪╣╪╢╪з╪б ЁЦвЯ тЧГ  '..data.member_count_..
'\n\n▄Бр╝птФЖ╪╣╪п╪п ╪▒╪│╪з╪ж┘Д ╪з┘Д┘Г╪▒┘И╪и ЁЦвЯ тЧГ '..(msg.id_/2097152/0.5)..
'\n\n▄Бр╝птФЖ╪з╪│┘Е ╪з┘Д┘Е╪м┘Е┘И╪╣┘З ЁЦвЯ тЧГ ['..ta.title_..']'
send(msg.chat_id_, msg.id_, taha) 
end,nil)
end,nil)
end 

if text and text:match("^╪╡┘К╪н (.*)$") then
local username = text:match("^╪╡┘К╪н (.*)$") 
if not redis:get(JoKeR..'Seh:User'..msg.chat_id_) then
function start_function(extra, result, success)
if result and result.message_ and result.message_ == "USERNAME_NOT_OCCUPIED" then 
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Д┘Е╪╣╪▒┘Б ╪║┘Д╪╖ ЁЯТЮ ▄░ ') 
return false  
end
if result and result.type_ and result.type_.channel_ and result.type_.channel_.ID == "Channel" then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з ╪з╪│╪к╪╖┘К╪╣ ╪╡┘К╪н ╪з┘Д┘В┘Ж┘И╪з╪к ЁЯТЮ ▄░ ') 
return false  
end
if result.type_.user_.type_.ID == "UserTypeBot" then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з ╪з╪│╪к╪╖┘К╪╣ ╪╡┘К╪н ╪з┘Д╪и┘И╪к╪з╪к ЁЯТЮ ▄░ ') 
return false  
end
if result and result.type_ and result.type_.channel_ and result.type_.channel_.is_supergroup_ == true then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з ╪з╪│╪к╪╖┘К╪╣ ╪╡┘К╪н ╪з┘Д┘Г╪▒┘И╪и╪з╪к ЁЯТЮ ▄░ ') 
return false  
end
if result.id_ then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к╪╣╪╣ ╪╣┘Е╪▒┘К ┘К╪▒╪п┘И┘Г\nтЧЮ[@'..username..']тЧЬ ЁЯТЮ ▄░') 
return false
end
end
tdcli_function ({ID = "SearchPublicChat",username_ = username}, start_function, nil)
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Е╪▒ ╪╡┘К╪н ╪к┘Е ╪к╪╣╪╖┘К┘Д┘З ┘Е┘Ж ┘В╪и┘Д ╪з┘Д┘Е╪п╪▒╪з╪б ЁЯТЮ ▄░  ') 
end
return false
end

if text == '┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К' then
if not redis:get(JoKeR..'Added:Me'..msg.chat_id_) then
tdcli_function ({ID = "GetChatMember",chat_id_ = msg.chat_id_,user_id_ = msg.sender_user_id_},function(arg,da) 
if da and da.status_.ID == "ChatMemberStatusCreator" then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Ж╪к ┘Е┘Ж╪┤╪ж ╪з┘Д┘Е╪м┘Е┘И╪╣╪й┘З ЁЯТЮ ▄░  ') 
return false
end
local Added_Me = redis:get(JoKeR.."Who:Added:Me"..msg.chat_id_..':'..msg.sender_user_id_)
if Added_Me then 
tdcli_function ({ID = "GetUser",user_id_ = Added_Me},function(extra,result,success)
local Name = '['..result.first_name_..'](tg://user?id='..result.id_..')'
Text = '▄Бр╝птФЖ╪з┘Д╪░┘К ┘В╪з┘Е ╪и╪з╪╢╪з┘Б╪к┘Г тЧГ '..Name
sendText(msg.chat_id_,Text,msg.id_/2097152/0.5,'md')
end,nil)
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪з┘Ж╪к ╪п╪о┘Д╪к ╪╣╪и╪▒ ╪з┘Д╪▒╪з╪и╪╖ ┘Д╪к┘Д╪н ЁЯТЮ ▄░ ') 
end
end,nil)
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К ╪к┘Е ╪к╪╣╪╖┘К┘Д┘З ┘Е┘Ж ┘В╪и┘Д ╪з┘Д┘Е╪п╪▒╪з╪б ЁЯТЮ ▄░  ') 
end
end

if text == '╪к┘Б╪╣┘К┘Д ╪╢╪з┘Б┘Ж┘К' and Owners(msg) then   
if redis:get(JoKeR..'Added:Me'..msg.chat_id_) then
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К ЁЯТЮ ▄░'
redis:del(JoKeR..'Added:Me'..msg.chat_id_)  
else
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪╢╪з┘Б┘Ж┘К' and Owners(msg) then  
if not redis:get(JoKeR..'Added:Me'..msg.chat_id_) then
redis:set(JoKeR..'Added:Me'..msg.chat_id_,true)  
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К ЁЯТЮ ▄░'
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ┘Е┘Ж┘И ╪╢╪з┘Б┘Ж┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Б╪╣┘К┘Д ╪╡┘К╪н' and Owners(msg) then   
if redis:get(JoKeR..'Seh:User'..msg.chat_id_) then
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪╡┘К╪н ЁЯТЮ ▄░'
redis:del(JoKeR..'Seh:User'..msg.chat_id_)  
else
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ?? ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪╡┘К╪н ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к┘Ж╪▓┘К┘Д ╪м┘Е┘К╪╣ ╪з┘Д╪▒╪к╪и' then
if not BasicConstructor(msg) then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Е┘Ж╪┤╪ж ╪з╪│╪з╪│┘К ┘Б┘В╪╖ ┘Д╪к┘Г┘Е╪▓ ЁЯШ╣ЁЯШнЁЯТЮ ') 
return false
end
redis:del(JoKeR..'Constructor'..msg.chat_id_)
redis:del(JoKeR..'Owners'..msg.chat_id_)
redis:del(JoKeR..'Mod:User'..msg.chat_id_)
redis:del(JoKeR..'Vips:User'..msg.chat_id_)
send(msg.chat_id_, msg.id_, '\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░\n▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪▓┘К┘Д ╪з┘Д╪╣╪╢┘И ┘Е┘Ж тЦ╛\n▄Бр╝птФЖтЧЭ ╪з┘Д┘Е┘Ж╪┤╪ж┘К┘Ж ┘м ╪з┘Д┘Е╪п╪▒╪з╪б ┘м ╪з┘Д╪з╪п┘Е┘Ж┘К┘З ┘м ╪з┘Д┘Е┘Е┘К╪▓┘К┘ЖтЧЯ\n')
end
if text == '╪к╪╣╪╖┘К┘Д ╪╡┘К╪н' and Owners(msg) then  
if not redis:get(JoKeR..'Seh:User'..msg.chat_id_) then
redis:set(JoKeR..'Seh:User'..msg.chat_id_,true)  
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪╡┘К╪н ЁЯТЮ ▄░'
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪╡┘К╪н ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end

if text == '╪к┘Б╪╣┘К┘Д ╪з╪╖╪▒╪п┘Ж┘К' and Owners(msg) then   
if redis:get(JoKeR..'Cick:Me'..msg.chat_id_) then
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪з╪╖╪▒╪п┘Ж┘К ЁЯТЮ ▄░'
redis:del(JoKeR..'Cick:Me'..msg.chat_id_)  
else
Text = '▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к┘Б╪╣┘К┘Д ╪з┘Е╪▒ ╪з╪╖╪▒╪п┘Ж┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == '╪к╪╣╪╖┘К┘Д ╪з╪╖╪▒╪п┘Ж┘К' and Owners(msg) then  
if not redis:get(JoKeR..'Cick:Me'..msg.chat_id_) then
redis:set(JoKeR..'Cick:Me'..msg.chat_id_,true)  
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪з╪╖╪▒╪п┘Ж┘К ЁЯТЮ ▄░'
else
Text = '\n▄Бр╝птФЖ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ▄░ \n▄Бр╝птФЖ╪к┘Е ╪к╪╣╪╖┘К┘Д ╪з┘Е╪▒ ╪з╪╖╪▒╪п┘Ж┘К ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,Text) 
end


if text == ("╪з┘К╪п┘К") and msg.reply_to_message_id_ == 0 and not redis:get(JoKeR..'Bot:Id'..msg.chat_id_) then      
if not redis:sismember(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) then
redis:sadd(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) 
tdcli_function ({ID = "GetChatMember",chat_id_ = msg.chat_id_,user_id_ = msg.sender_user_id_},function(arg,da)  tdcli_function ({ ID = "SendChatAction",  chat_id_ = msg.sender_user_id_, action_ = {  ID = "SendMessageTypingAction", progress_ = 100}  },function(arg,ta)  tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(extra,result,success)  tdcli_function ({ID = "GetUserProfilePhotos",user_id_ = msg.sender_user_id_,offset_ = 0,limit_ = 1},function(extra,taha,success) 
if da.status_.ID == "ChatMemberStatusCreator" then 
rtpa = '╪з┘Д┘Е╪з┘Д┘Г'
elseif da.status_.ID == "ChatMemberStatusEditor" then 
rtpa = '┘Е╪┤╪▒┘Б' 
elseif da.status_.ID == "ChatMemberStatusMember" then 
rtpa = '╪╣╪╢┘И'
end
local Msguser = tonumber(redis:get(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_) or 1) 
local nummsggp = tonumber(msg.id_/2097152/0.5)
local nspatfa = tonumber(Msguser / nummsggp * 100)
local Contact = tonumber(redis:get(JoKeR..'Add:Contact'..msg.chat_id_..':'..msg.sender_user_id_) or 0) 
local NUMPGAME = tonumber(redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..msg.sender_user_id_) or 0)
local rtp = Rutba(msg.sender_user_id_,msg.chat_id_)
if result.username_ then
username = '@'..result.username_ 
else
username = '┘Д╪з ┘К┘И╪м╪п '
end
local iduser = msg.sender_user_id_
local edit = tonumber(redis:get(JoKeR..'edits'..msg.chat_id_..msg.sender_user_id_) or 0)
local photps = (taha.total_count_ or 0)
local interaction = Total_Msg(Msguser)
local rtpg = rtpa
local tahaa = {
"┘Г╪┤╪о┘З ╪и╪▒╪и ЁЯШЙЁЯТШ",
"╪ж┘Е┘Ж┘И╪▒ ┘К┘Д┘Г┘Е╪▒ ЁЯМЫ",
"╪з┘Д┘И┘Г ╪з┘Д╪▓┘К┘Ж┘ЗЁЯСйтАНЁЯЪТ",
"╪в┘Б ╪к╪о┘Д┘К┘Ж┘К тЩея╕П",
"╪┤┘З┘Д ╪з┘Д┌п┘К┘Е╪▒ ЁЯМЬЁЯТШ",
"╪з╪к╪о╪и┘Д ╪и╪▒╪и ЁЯШЙЁЯТШ",
}
local rdphoto = tahaa[math.random(#tahaa)]
if not redis:get(JoKeR..'Bot:Id:Photo'..msg.chat_id_) then      
local get_id_text = redis:get(JoKeR.."KLISH:ID"..msg.chat_id_)
if get_id_text then
if result.username_ then
username = '@'..result.username_ 
else
username = '┘Д╪з ┘К┘И╪м╪п '
end
get_id_text = get_id_text:gsub('#rdphoto',rdphoto) 
get_id_text = get_id_text:gsub('#id',iduser) 
get_id_text = get_id_text:gsub('#username',username) 
get_id_text = get_id_text:gsub('#msgs',Msguser) 
get_id_text = get_id_text:gsub('#edit',edit) 
get_id_text = get_id_text:gsub('#stast',rtp) 
get_id_text = get_id_text:gsub('#auto',interaction) 
get_id_text = get_id_text:gsub('#game',NUMPGAME) 
get_id_text = get_id_text:gsub('#photos',photps) 
if result.status_.ID == "UserStatusRecently" and result.profile_photo_ ~= false then   
sendPhoto(msg.chat_id_, msg.id_, 0, 1, nil, taha.photos_[0].sizes_[1].photo_.persistent_id_,get_id_text)       
else 
if result.status_.ID == "UserStatusEmpty" and result.profile_photo_ == false then
send(msg.chat_id_, msg.id_,'['..get_id_text..']')   
else
send(msg.chat_id_, msg.id_, '\n ┘Д┘К╪│ ┘Д╪п┘К┘Г ╪╡┘И╪▒ ┘Б┘К ╪н╪│╪з╪и┘Г \n['..get_id_text..']')      
end 
end
else
if result.username_ then
username = '@'..result.username_ 
else
username = '┘Д╪з ┘К┘И╪м╪п '
end
if result.status_.ID == "UserStatusRecently" and result.profile_photo_ ~= false then
sendPhoto(msg.chat_id_, msg.id_, 0, 1, nil, taha.photos_[0].sizes_[1].photo_.persistent_id_,'\n╦╣ ЁЦвК ЁЭСИЁЭСаЁЭСТЁЭСЕ ЁЦб╗ '..username..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЦЁЭР╖ ЁЦб╗ '..msg.sender_user_id_..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЖЁЭСбЁЭСОЁЭСЖ ЁЦб╗ '..Rutba(msg.sender_user_id_,msg.chat_id_)..' уБ╛ .\n╦╣ ЁЦвК ЁЭР┤ЁЭСвЁЭСбЁЭСВ ЁЦб╗ '..Total_Msg(Msguser)..' уБ╛ .\n╦╣ ЁЦвК ЁЭСАЁЭСОЁЭСаЁЭР║ ЁЦб╗ '..Msguser..' уБ╛ .\n╦╣ ЁЦвК ЁЭР╕ЁЭССЁЭСЦЁЭСЗ ЁЦб╗ '..edit..' уБ╛ .\n╦╣ ЁЦвК ЁЭР║ЁЭСОЁЭСЪЁЭР╕ ЁЦб╗ '..NUMPGAME..' уБ╛ .\n')   
else 
if result.status_.ID == "UserStatusEmpty" and result.profile_photo_ == false then
send(msg.chat_id_, msg.id_,'[\n╦╣ ЁЦвК ЁЭСИЁЭСаЁЭСТЁЭСЕ ЁЦб╗ '..username..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЦЁЭР╖ ЁЦб╗ '..msg.sender_user_id_..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЖЁЭСбЁЭСОЁЭСЖ ЁЦб╗ '..Rutba(msg.sender_user_id_,msg.chat_id_)..' уБ╛ .\n╦╣ ЁЦвК ЁЭР┤ЁЭСвЁЭСбЁЭСВ ЁЦб╗ '..Total_Msg(Msguser)..' уБ╛ .\n╦╣ ЁЦвК ЁЭСАЁЭСОЁЭСаЁЭР║ ЁЦб╗ '..Msguser..' уБ╛ .\n╦╣ ЁЦвК ЁЭР╕ЁЭССЁЭСЦЁЭСЗ ЁЦб╗ '..edit..' уБ╛ .\n╦╣ ЁЦвК ЁЭР║ЁЭСОЁЭСЪЁЭР╕ ЁЦб╗ '..NUMPGAME..' уБ╛ .]\n')   
else
send(msg.chat_id_, msg.id_, '\n╦╣ ЁЦвК ЁЭСИЁЭСаЁЭСТЁЭСЕ ЁЦб╗ '..username..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЦЁЭР╖ ЁЦб╗ '..msg.sender_user_id_..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЖЁЭСбЁЭСОЁЭСЖ ЁЦб╗ '..Rutba(msg.sender_user_id_,msg.chat_id_)..' уБ╛ .\n╦╣ ЁЦвК ЁЭР┤ЁЭСвЁЭСбЁЭСВ ЁЦб╗ '..Total_Msg(Msguser)..' уБ╛ .\n╦╣ ЁЦвК ЁЭСАЁЭСОЁЭСаЁЭР║ ЁЦб╗ '..Msguser..' уБ╛ .\n╦╣ ЁЦвК ЁЭР╕ЁЭССЁЭСЦЁЭСЗ ЁЦб╗ '..edit..' уБ╛ .\n╦╣ ЁЦвК ЁЭР║ЁЭСОЁЭСЪЁЭР╕ ЁЦб╗ '..NUMPGAME..' уБ╛ .]\n')   
end 
end
end
else
local get_id_text = redis:get(JoKeR.."KLISH:ID"..msg.chat_id_)
if get_id_text then
get_id_text = get_id_text:gsub('#rdphoto',rdphoto) 
get_id_text = get_id_text:gsub('#id',iduser) 
get_id_text = get_id_text:gsub('#username',username) 
get_id_text = get_id_text:gsub('#msgs',Msguser) 
get_id_text = get_id_text:gsub('#edit',edit) 
get_id_text = get_id_text:gsub('#stast',rtp) 
get_id_text = get_id_text:gsub('#auto',interaction) 
get_id_text = get_id_text:gsub('#game',NUMPGAME) 
get_id_text = get_id_text:gsub('#photos',photps) 
send(msg.chat_id_, msg.id_,'['..get_id_text..']')   
else
send(msg.chat_id_, msg.id_,'[\n╦╣ ЁЦвК ЁЭСИЁЭСаЁЭСТЁЭСЕ ЁЦб╗ '..username..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЦЁЭР╖ ЁЦб╗ '..msg.sender_user_id_..' уБ╛ .\n╦╣ ЁЦвК ЁЭСЖЁЭСбЁЭСОЁЭСЖ ЁЦб╗ '..Rutba(msg.sender_user_id_,msg.chat_id_)..' уБ╛ .\n╦╣ ЁЦвК ЁЭР┤ЁЭСвЁЭСбЁЭСВ ЁЦб╗ '..Total_Msg(Msguser)..' уБ╛ .\n╦╣ ЁЦвК ЁЭСАЁЭСОЁЭСаЁЭР║ ЁЦб╗ '..Msguser..' уБ╛ .\n╦╣ ЁЦвК ЁЭР╕ЁЭССЁЭСЦЁЭСЗ ЁЦб╗ '..edit..' уБ╛ .\n╦╣ ЁЦвК ЁЭР║ЁЭСОЁЭСЪЁЭР╕ ЁЦб╗ '..NUMPGAME..' уБ╛ .]\n')   
end
end

end,nil)
end,nil)
end,nil)
end,nil)
end
end

if text == '╪│╪н┘Г╪з╪к┘К' or text == '╪к╪╣╪п┘К┘Д╪з╪к┘К' then 
local Num = tonumber(redis:get(JoKeR..'edits'..msg.chat_id_..msg.sender_user_id_) or 0)
if Num == 0 then 
Text = '┘н ЁЦвФтФЖ┘Д┘К╪│ ┘Д╪п┘К┘Г ╪г┘К ╪│╪н┘Г╪з╪к тЦ╡ тЧЬ'
else
Text = '┘н ЁЦвФтФЖ╪╣╪п╪п ╪│╪н┘Г╪з╪к┘Г тЧГ тЧЮ *'..Num..'* тЧЬ'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == "┘Е╪│╪н ╪│╪н┘Г╪з╪к┘К" or text == "╪н╪░┘Б ╪│╪н┘Г╪з╪к┘К" then  
send(msg.chat_id_, msg.id_,'┘н ЁЦвФтФЖ╪к┘Е ╪н╪░┘Б ╪м┘Е┘К╪╣ ╪│╪н┘Г╪з╪к┘Г тЦ╡ тЧЬ'  )  
redis:del(JoKeR..'edits'..msg.chat_id_..msg.sender_user_id_)
end
if text == "┘Е╪│╪н ╪м┘З╪з╪к┘К" or text == "╪н╪░┘Б ╪м┘З╪з╪к┘К" then  
send(msg.chat_id_, msg.id_,'┘н ЁЦвФтФЖ╪к┘Е ╪н╪░┘Б ╪м┘Е┘К╪╣ ╪м┘З╪з╪к┘Г тЦ╡ тЧЬ'  )  
redis:del(JoKeR..'Add:Contact'..msg.chat_id_..':'..msg.sender_user_id_)
end
if text == '╪м┘З╪з╪к┘К' or text == '╪┤┘Г╪п ╪╢┘Б╪к' then 
local Num = tonumber(redis:get(JoKeR..'Add:Contact'..msg.chat_id_..':'..msg.sender_user_id_) or 0) 
if Num == 0 then 
Text = '▄Бр╝птФЖ┘Е╪з╪╣╪п┘Г┘Г ╪м┘З╪з╪к ЁЯШ╣ЁЯШФЁЯТЮ'
else
Text = '▄Бр╝птФЖ╪╣╪п╪п ╪м┘З╪з╪к┘Г ╪з┘Д┘Е╪╢╪з┘Б╪й ╦╝ ['..Num..'](t.me/JoKeR_aHs) ╦╣'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text == "╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж" and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
local pv = redis:smembers(JoKeR.."User_Bot")
local sendok = 0
for i = 1, #pv do
tdcli_function({ID='GetChat',chat_id_ = pv[i]
},function(arg,dataq)
tdcli_function ({ ID = "SendChatAction",  
chat_id_ = pv[i], action_ = {  ID = "SendMessageTypingAction", progress_ = 100} 
},function(arg,data) 
if data.ID and data.ID == "Ok"  then
else
redis:srem(JoKeR.."User_Bot",pv[i])
sendok = sendok + 1
end
if #pv == i then 
if sendok == 0 then
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з ┘К┘И╪м╪п ┘Е╪┤╪к╪▒┘Г┘К┘Ж ┘И┘З┘Е┘К┘К┘Ж ┘Б┘К ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░  \n')   
else
local ok = #pv - sendok
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж тЧГ ['..#pv..'](t.me/JoKeR_aHs) ▄░\n▄Бр╝птФЖ╪к┘Е ╪з╪▓╪з┘Д╪й тЧГ ['..sendok..'](t.me/JoKeR_aHs) " ┘Е┘Ж ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж  \n▄Бр╝птФЖ╪╣╪п╪п ╪з┘Д┘Е╪┤╪к╪▒┘Г┘К┘Ж ╪з┘Д╪н┘В┘К┘В┘К тЧГ ['..ok..'](t.me/JoKeR_aHs) " ┘Е╪┤╪к╪▒┘Г\n')   
end
end
end,nil)
end,nil)
end
return false
end
if text == "╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Г╪▒┘И╪и╪з╪к" and Sudo_JoKeR(msg) then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
local group = redis:smembers(JoKeR..'Chek:Groups') 
local w = 0
local q = 0
for i = 1, #group do
tdcli_function({ID='GetChat',chat_id_ = group[i]
},function(arg,data)
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusMember" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_=group[i],user_id_=JoKeR,status_={ID = "ChatMemberStatusLeft"},},function(e,g) end, nil) 
w = w + 1
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusLeft" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
q = q + 1
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusKicked" then
redis:srem(JoKeR..'Chek:Groups',group[i])  
q = q + 1
end
if data and data.code_ and data.code_ == 400 then
redis:srem(JoKeR..'Chek:Groups',group[i])  
w = w + 1
end
if #group == i then 
if (w + q) == 0 then
send(msg.chat_id_, msg.id_,'\n▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ┘Е╪м┘Е┘И╪╣╪з╪к ┘И┘З┘Е┘К┘З ┘Б┘К ╪з┘Д╪и┘И╪кЁЯТЮ ▄░')   
else
local JoKeR = (w + q)
local sendok = #group - JoKeR
if q == 0 then
JoKeR = ''
else
JoKeR = '\n▄Бр╝птФЖ ╪к┘Е ╪з╪▓╪з┘Д╪й ['..q..'](t.me/JoKeR_aHs) ┘Е╪м┘Е┘И╪╣╪з╪к ┘Е┘Ж ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
if w == 0 then
JoKeRh = ''
else
JoKeRh = '\n▄Бр╝птФЖ ╪к┘Е ╪з╪▓╪з┘Д╪й ['..w..'](t.me/JoKeR_aHs) ┘Е╪м┘Е┘И╪╣╪з╪к ┘Е┘Ж ╪з┘Д╪и┘И╪к ЁЯТЮ ▄░'
end
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪к┘Ж╪╕┘К┘Б ╪з┘Д┘Е╪м┘Е┘И╪╣╪з╪кЁЯТЮ ▄░')   
end
end
end,nil)
end
return false
end
-----------
if text ==("┘Е╪│╪н") and Mod(msg) and tonumber(msg.reply_to_message_id_) > 0 then
DeleteMessage(msg.chat_id_,{[0] = tonumber(msg.reply_to_message_id_),msg.id_})   
end   
if redis:get(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
redis:del(JoKeR..'id:user'..msg.chat_id_)  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪з┘Д╪з┘Д╪║╪з╪б ?? ▄░ ") 
redis:del(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  
end 
redis:del(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local numadded = string.match(text, "(%d+)") 
local iduserr = redis:get(JoKeR..'id:user'..msg.chat_id_)  
redis:del(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_) 
redis:incrby(JoKeR..'Msg_User'..msg.chat_id_..':'..iduserr,numadded)  
send(msg.chat_id_, msg.id_,"\n┘н ЁЦдУтФЖ╪к┘Е ╪з╪╢╪з┘Б╪й тЧЮ ["..numadded..'](t.me/JoKeR_aHs) тЧЬ ┘Е┘Ж ╪з┘Д╪▒╪│╪з╪ж┘Д ЁЯТЮ ┘н')  
end
------------------------------------------------------------------------
if redis:get(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
redis:del(JoKeR..'idgem:user'..msg.chat_id_)  
send(msg.chat_id_, msg.id_, "р╝птФЖ╪к┘Е ╪з┘Д╪з┘Д╪║╪з╪б ЁЯТЮ ▄░  ") 
redis:del(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  
end 
redis:del(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local numadded = string.match(text, "(%d+)") 
local iduserr = redis:get(JoKeR..'idgem:user'..msg.chat_id_)  
redis:incrby(JoKeR..'NUM:GAMES'..msg.chat_id_..iduserr,numadded)  
send(msg.chat_id_, msg.id_,  1, "ЁЯТЮтФЖ ╪к┘Е ╪з╪╢╪з┘Б╪й ┘Д┘З {"..numadded..'} ┘Е┘Ж ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к┘К', 1 , 'md')  
end
------------------------------------------------------------
if text and text:match("^╪з╪╢┘Б ╪▒╪│╪з╪ж┘Д (%d+)$") and msg.reply_to_message_id_ == 0 and Constructor(msg) then    
taha = text:match("^╪з╪╢┘Б ╪▒╪│╪з╪ж┘Д (%d+)$")
redis:set(JoKeR..'id:user'..msg.chat_id_,taha)  
redis:setex(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 120, true)  
send(msg.chat_id_, msg.id_, 'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н \nтФШ ╪з╪▒╪│┘Д ╪з┘Д┘К ╪╣╪п╪п ╪з┘Д╪▒╪│╪з╪ж┘Д ┘н') 
return false
end
------------------------------------------------------------------------
if text and text:match("^╪з╪╢┘Б ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$") and msg.reply_to_message_id_ == 0 and Constructor(msg) then  
taha = text:match("^╪з╪╢┘Б ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$")
redis:set(JoKeR..'idgem:user'..msg.chat_id_,taha)  
redis:setex(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_, 120, true)  
send(msg.chat_id_, msg.id_, 'тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н \nтФШ ╪з╪▒╪│┘Д ╪з┘Д┘К ╪╣╪п╪п ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к ╪з┘Д╪з┘Ж') 
return false
end
------------------------------------------------------------------------
if text and text:match("^╪з╪╢┘Б ┘Е╪м┘И┘З╪▒╪з╪к (%d+)$") and msg.reply_to_message_id_ ~= 0 and Constructor(msg) then
local Num = text:match("^╪з╪╢┘Б ┘Е╪м┘И┘З╪▒╪з╪к (%d+)$")
function reply(extra, result, success)
redis:incrby(JoKeR..'NUM:GAMES'..msg.chat_id_..result.sender_user_id_,Num)  
send(msg.chat_id_, msg.id_,"тФР ┘З┘Д┘И ╪╣┘Е╪▒┘К ЁЯТЮ ┘н \nтФШ ╪к┘Е ╪з╪╢╪з┘Б╪й тЧЮ ["..Num..'](t.me/JoKeR_aHs) тЧЬ ┘Е╪м┘И┘З╪▒╪з╪к тЬУ ┘н')  
end
tdcli_function ({ID = "GetMessage",chat_id_=msg.chat_id_,message_id_=tonumber(msg.reply_to_message_id_)},reply, nil)
return false
end
------------------------------------------------------------------------
if text and text:match("^╪з┘Д╪и┘Д┘И╪▒┘З (.*)$") and redis:get(JoKeR..'Lock:Games'..msg.chat_id_) then
local textage = text:match("^╪з┘Д╪и┘Д┘И╪▒┘З (.*)$")
local hso = {
"┘Ж╪╣┘Е",
"┘Д╪з",
}
local rdtext = hso[math.random(#hso)]
send(msg.chat_id_, msg.id_, '╪│╪д╪з┘Д┘Г ┘З┘И '..textage..' ┘И╪з┘Д╪м┘И╪з╪и '..rdtext..' ЁЯСЛЁЯП╗тЩея╕П.') 
end
if text and text:match("^╪з╪╢┘Б ╪▒╪│╪з╪ж┘Д (%d+)$") and msg.reply_to_message_id_ ~= 0 and Constructor(msg) then
local Num = text:match("^╪з╪╢┘Б ╪▒╪│╪з╪ж┘Д (%d+)$")
function reply(extra, result, success)
redis:del(JoKeR..'Msg_User'..msg.chat_id_..':'..result.sender_user_id_) 
redis:incrby(JoKeR..'Msg_User'..msg.chat_id_..':'..result.sender_user_id_,Num)  
send(msg.chat_id_, msg.id_, "\n┘н ЁЦдУтФЖ╪к┘Е ╪з╪╢╪з┘Б╪й тЧЮ ["..num..'](t.me/JoKeR_aHs) тЧЬ ┘Е┘Ж ╪з┘Д╪▒╪│╪з╪ж┘Д ЁЯТЮ ┘н')  
end
tdcli_function ({ID = "GetMessage",chat_id_=msg.chat_id_,message_id_=tonumber(msg.reply_to_message_id_)},reply, nil)
return false
end
if text == '┘Е╪м┘И┘З╪▒╪з╪к┘К' or text == '┘Е╪м┘И┘З╪▒╪з╪к┘К' then 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
local Num = redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..msg.sender_user_id_) or 0
if Num == 0 then 
Text = '┘н ЁЦдУтФЖ┘Д┘Е ╪к┘Д╪╣╪и ╪з┘К ┘Д╪╣╪и╪й ┘Д┘Д╪н╪╡┘И┘Д ╪╣┘Д┘Й ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к тШУтЧЬ'
else
Text = '┘н ЁЦдУтФЖ╪╣╪п╪п ┘Е╪м┘И┘З╪▒╪з╪к┘Г тЧГ тЧЮ ['..Num..'](t.me/JoKeR_aHs) тЧЬ.'
end
send(msg.chat_id_, msg.id_,Text) 
end
if text and text:match("^╪и┘К╪╣ ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$") or text and text:match("^╪и┘К╪╣ ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$") then
local NUMPY = text:match("^╪и┘К╪╣ ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$") or text:match("^╪и┘К╪╣ ┘Е╪м┘И┘З╪▒╪з╪к┘К (%d+)$") 
if AddChannel(msg.sender_user_id_) == false then
send(msg.chat_id_, msg.id_,'- ┘З┘Д┘И ╪н╪и ╪М ┘Д╪з┘К┘Е┘Г┘Ж┘Г ╪з╪│╪к╪о╪п╪з┘Е ╪з┘Д╪и┘И╪к ЁЯТХ.\n- янС╪┤╪к╪▒┘Г ╪з┘И┘Д╪з┘Л ЁЯТХ тАв ['..redis:get(JoKeR..'add:ch:username')..'] .')
return false
end
if tonumber(NUMPY) == tonumber(0) then
send(msg.chat_id_,msg.id_,"\nтЬетФЖ┘Д╪з ╪к╪│╪к╪╖┘К╪╣ ╪з┘Д╪и┘К╪╣ ╪з┘В┘Д ┘Е┘Ж тЧЮ[1](t.me/JoKeR_aHs)тЧЬ тЧГ") 
return false 
end
if tonumber(redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..msg.sender_user_id_)) == tonumber(0) then
send(msg.chat_id_,msg.id_,'\nтФР ┘Д┘К╪│ ┘Д╪п┘К┘Г ┘Е╪м┘И┘З╪▒╪з╪к ЁЦег ┘н\nтФд ┘Д┘Г╪│╪и ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к  ЁЦег ┘н\nтФШ ╪з╪▒╪│┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ┘И╪з╪и╪п╪г ╪з┘Д┘Д╪╣╪и  ЁЦег ┘н') 
else
local NUM_GAMES = redis:get(JoKeR..'NUM:GAMES'..msg.chat_id_..msg.sender_user_id_)
if tonumber(NUMPY) > tonumber(NUM_GAMES) then
send(msg.chat_id_,msg.id_,'\nтФР ┘Д┘К╪│ ┘Д╪п┘К┘Г ┘Е╪м┘И┘З╪▒╪з╪к ЁЦег ┘н\nтФд ┘Д┘Г╪│╪и ╪з┘Д┘Е╪м┘И┘З╪▒╪з╪к  ЁЦег ┘н\nтФШ ╪з╪▒╪│┘Д ╪з┘Д╪з┘Д╪╣╪з╪и ┘И╪з╪и╪п╪г ╪з┘Д┘Д╪╣╪и  ЁЦег ┘н') 
return false 
end
local NUMNKO = (NUMPY * 50)
redis:decrby(JoKeR..'NUM:GAMES'..msg.chat_id_..msg.sender_user_id_,NUMPY)  
redis:incrby(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_,NUMNKO)  
send(msg.chat_id_,msg.id_,'тФР ╪к┘Е ╪о╪╡┘Е тЧЮ['..NUMPY..'](t.me/JoKeR_aHs)тЧЬ ┘Е┘Ж ┘Е╪м┘И┘З╪▒╪з╪к┘Г тЬУ ┘н\nтФШ ╪к┘Е ╪з╪╢╪з┘Б╪й тЧЮ['..(NUMPY * 50)..'](t.me/JoKeR_aHs)тЧЬ ╪▒╪│╪з┘Д╪й ╪з┘Д┘Й ╪▒╪│╪з╪ж┘Д┘Г тЬУ ┘н')
end 
return false 
end
if text == '┘Б╪н╪╡ ╪з┘Д╪и┘И╪к' and Owners(msg) then
local Chek_Info = https.request('https://api.telegram.org/bot'..token..'/getChatMember?chat_id='.. msg.chat_id_ ..'&user_id='.. JoKeR..'')
local Json_Info = JSON.decode(Chek_Info)
if Json_Info.ok == true then
if Json_Info.result.status == "administrator" then
if Json_Info.result.can_change_info == true then
info = 'ъкЬ' else info = 'тЬШ' end
if Json_Info.result.can_delete_messages == true then
delete = 'ъкЬ' else delete = 'тЬШ' end
if Json_Info.result.can_invite_users == true then
invite = 'ъкЬ' else invite = 'тЬШ' end
if Json_Info.result.can_pin_messages == true then
pin = 'ъкЬ' else pin = 'тЬШ' end
if Json_Info.result.can_restrict_members == true then
restrict = 'ъкЬ' else restrict = 'тЬШ' end
if Json_Info.result.can_promote_members == true then
promote = 'ъкЬ' else promote = 'тЬШ' end 
send(msg.chat_id_,msg.id_,'\n▄Бр╝птФЖ┘З┘Д┘И ╪╣┘Е╪▒┘К  ЁЯТЮ'..'\n▄Бр╝птФЖ╪╡┘Д╪з╪н┘К╪з╪к ╪з┘Д╪и┘И╪к ┘З┘К тЦ┐  ▄░'..'\nтАвтАвтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтАв'..'\n▄Бр╝птФЖ╪к╪║┘К╪▒ ┘Е╪╣┘Д┘И┘Е╪з╪к ╪з┘Д┘Е╪м┘Е┘И╪╣╪й ╦╝ '..info..' ╦╣'..'\n▄Бр╝птФЖ╪н╪░┘Б ╪з┘Д╪▒╪│╪з╪ж┘Д  ╦╝ '..delete..' ╦╣'..'\n▄Бр╝птФЖ╪н╪╕╪▒ ╪з┘Д┘Е╪│╪к╪о╪п┘Е┘К┘Ж  ╦╝ '..restrict..' ╦╣'..'\n▄Бр╝птФЖ╪п╪╣┘И╪й ╪з┘Д┘Е╪│╪к╪о╪п┘Е┘К┘Ж  ╦╝ '..invite..' ╦╣'..'\n▄Бр╝птФЖ╪л╪к╪и┘К╪к ╪з┘Д╪▒╪│╪з┘Д╪й  ╦╝ '..pin..' ╦╣'..'\n▄Бр╝птФЖ╪з╪╢╪з┘Б╪й ┘Е╪┤╪▒┘Б┘К┘Ж ╪м╪п╪п  ╦╝ '..promote..' ╦╣')   
end
end
end
if text and text:match("^┘Г┘И┘Д (.*)$") then
local txt = {string.match(text, "^(┘Г┘И┘Д) (.*)$")}
send(msg.chat_id_, 0, txt[2], "md")
end

if text ==("┘Е╪│╪н") and Mod(msg) and tonumber(msg.reply_to_message_id_) > 0 then
DeleteMessage(msg.chat_id_,{[0] = tonumber(msg.reply_to_message_id_),msg.id_})   
end   
if redis:get(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
redis:del(JoKeR..'id:user'..msg.chat_id_)  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з┘Е╪▒ ") 
redis:del(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  
end 
redis:del(JoKeR.."numadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local numadded = string.match(text, "(%d+)") 
local iduserr = redis:get(JoKeR..'id:user'..msg.chat_id_)  
redis:del(JoKeR..'Msg_User'..msg.chat_id_..':'..msg.sender_user_id_) 
redis:incrby(JoKeR..'Msg_User'..msg.chat_id_..':'..iduserr,numadded)  
send(msg.chat_id_, msg.id_,"▄Бр╝птФЖ ╪к┘Е ╪з╪╢╪з┘Б╪й ┘Д┘З█БтАМтАП {"..numadded..'} ┘Е┘Ж ╪з┘Д╪▒╪│╪з╪ж┘Д')  
end
------------------------------------------------------------------------
if redis:get(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_) then 
if text and text:match("^╪з┘Д╪║╪з╪б$") then 
redis:del(JoKeR..'idgem:user'..msg.chat_id_)  
send(msg.chat_id_, msg.id_, "▄Бр╝птФЖ ╪к┘Е ╪з┘Д╪║╪з╪б ╪з┘Д╪з┘Е╪▒ ") 
redis:del(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
return false  
end 
redis:del(JoKeR.."gemadd:user" .. msg.chat_id_ .. "" .. msg.sender_user_id_)  
local numadded = string.match(text, "(%d+)") 
local iduserr = redis:get(JoKeR..'idgem:user'..msg.chat_id_)  
redis:incrby(JoKeR..'NUM:GAMES'..msg.chat_id_..iduserr,numadded)  
send(msg.chat_id_, msg.id_,  1, "▄Бр╝птФЖ╪к┘Е ╪з╪╢╪з┘Б╪й ┘Д┘З█БтАМтАП {"..numadded..'} ┘Е┘Ж ╪з┘Д┘Ж┘В╪з╪╖', 1, 'md')  
end
------------------------------------------------------------
if text and text:match('^╪з┘Д╪н╪│╪з╪и (%d+)$') then
local id = text:match('^╪з┘Д╪н╪│╪з╪и (%d+)$')
local text = '▄Бр╝птФЖ╪з╪╢╪║╪╖ ┘З┘Ж╪з ┘Д┘Е╪┤╪з┘З╪п╪й ╪з┘Д╪╣╪╢┘И ЁЯТЮ ▄░'
tdcli_function ({ID="SendMessage", chat_id_=msg.chat_id_, reply_to_message_id_=msg.id_, disable_notification_=0, from_background_=1, reply_markup_=nil, input_message_content_={ID="InputMessageText", text_=text, disable_web_page_preview_=1, clear_draft_=0, entities_={[0] = {ID="MessageEntityMentionName", offset_=0, length_=19, user_id_=id}}}}, dl_cb, nil)
end
if text == "╪┤┘Ж┘И ╪▒╪ж┘К┘Г ╪и┘З╪░╪з" or text == "╪┤┘Ж┘И ╪▒╪ж┘К┘Г ╪и┘З╪░" then
if not redis:get(JoKeR..'lock:add'..msg.chat_id_) then
local texting = {"▄Бр╝птФЖ┘Г┘Д╪┤ ╪н╪и╪з╪и ┘И┘З╪з┘К ЁЯжДЁЯТЮ ▄░","▄Бр╝птФЖ╪з┘Д┘Г┘К╪з╪к┘З ╪к╪и╪╣┘З ╪к┘В╪▒╪з 1000 ЁЯе║ЁЯТЮ ▄░","▄Бр╝птФЖ╪з╪╖┘Д┘В ╪┤╪о╪╡ ╪┤╪н╪и┘З ЁЯе║ЁЯТЮ ▄░","╪▓╪║╪и╪з ЁЯШ╣ЁЯТЮ.","▄Бр╝птФЖ┘К┘И╪к┘К┘И╪и╪▒ ╪▒╪и ╪з┘Д┘Е╪╣┘К╪п┘К ЁЯШ╣ЁЯТЮ ▄░"}
send(msg.chat_id_, msg.id_, ''..texting[math.random(#texting)]..'')
end
end
if text == "┘З┘К┘Ж┘З" or text == "╪▒╪▓┘Д┘З" then
if not redis:get(JoKeR..'lock:add'..msg.chat_id_) then
local texting = {"┘Е╪з╪з┘З┘К┘Ж ╪н┘К┘И╪з┘Ж╪з╪к ╪з┘Ж┘К ЁЯШ╣ЁЯШнЁЯТШ."," ┘Е╪з╪з ┘И╪о╪▒ ┘Е╪з╪│┘И┘К ╪┤┘К ЁЯШнЁЯТШ ."}
send(msg.chat_id_, msg.id_, ''..texting[math.random(#texting)]..'')
end
end
if text == "┘Е╪╡┘З" or text == "╪и┘И╪│┘З" then
if not redis:get(JoKeR..'lock:add'..msg.chat_id_) then
local texting = {"┘Е╪з ┘Е╪з ┘Е╪з ╪з╪о╪м┘Д ╪┤┘Ж┘К ЁЯШнЁЯШнЁЯТЮ","┘Е╪з╪з ┘И╪о╪▒ ┘Е╪з╪и┘И╪│┘Г ЁЯШнЁЯТЮЁЯТЮ"," ┘Е╪з ┘Е╪з ┘Е╪з ╪з╪о╪м┘Д ╪┤┘Ж┘К ЁЯШнЁЯШнЁЯТЮ"}
send(msg.chat_id_, msg.id_, ''..texting[math.random(#texting)]..'')
end
end

if text == '╪▒╪з╪и╪╖ ╪з┘Д╪н╪░┘Б' or text == '╪▒╪з╪и╪╖ ╪н╪░┘Б' then
t =[[
тФР ┘З┘З┘Д┘И ╪╣┘Е╪▒┘К ╪н┘Ж╪┤╪к╪з┘В┘Д┘Г ЁЯТЮ .
тФд ╪▒╪з╪и╪╖ ╪н╪░┘Б ╪н╪│╪з╪и┘Г ┘Б┘К ┘Е┘И╪з┘В╪╣ ╪з┘Д╪к┘И╪з╪╡┘Д ЁЯТЮ .
тФд тХМтХМтХМтХМтХМтХМтХМтХМтХМтХМ ▄Б
тФд ╪▒╪з╪и╪╖ ╪н╪░┘Б  [Telegram](https://my.telegram.org/auth?to=delete) ▄К ▄Б
тФд ╪▒╪з╪и╪╖ ╪н╪░┘Б [instagram](https://www.instagram.com/accounts/login/?next=/accounts/remove/request/permanent/) ▄К ▄Б
тФд ╪▒╪з╪и╪╖ ╪н╪░┘Б [Facebook](https://www.facebook.com/help/deleteaccount) ▄К ▄Б
тФШ ╪▒╪з╪и╪╖ ╪н╪░┘Б [Snspchat](https://accounts.snapchat.com/accounts/login?continue=https%3A%2F%2Faccounts.snapchat.com%2Faccounts%2Fdeleteaccount) ▄К ▄Б
]]
send(msg.chat_id_, msg.id_,t) 
return false
end


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
end -- Chat_Type = 'GroupBot' 
end -- end msg
--------------------------------------------------------------------------------------------------------------
function tdcli_update_callback(data)  -- clback
if data.ID == "UpdateChannel" then 
if data.channel_.status_.ID == "ChatMemberStatusKicked" then 
redis:srem(JoKeR..'Chek:Groups','-100'..data.channel_.id_)  
tdcli_function({ID ="GetChat",chat_id_=msg.chat_id_},function(arg,chat)  
local NameChat = chat.title_
local IdChat = msg.chat_id_
Text = ' '..
'\n'..
'\n'..
'\n'
sendText(SUDO,Text,0,'md')


end,nil) 
end
end

if data.ID == "UpdateNewMessage" then  -- new msg
msg = data.message_
text = msg.content_.text_
--------------------------------------------------------------------------------------------------------------
if msg.date_ and msg.date_ < tonumber(os.time() - 15) then
print('OLD MESSAGE')
return false
end
if tonumber(msg.sender_user_id_) == tonumber(JoKeR) then
return false
end
--------------------------------------------------------------------------------------------------------------
if text and not redis:sismember(JoKeR..'Spam:Texting'..msg.sender_user_id_,text) then
redis:del(JoKeR..'Spam:Texting'..msg.sender_user_id_) 
end
--------------------------------------------------------------------------------------------------------------
if text and redis:get(JoKeR.."Del:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_) == 'true' then
local NewCmmd = redis:get(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..text)
if NewCmmd then
redis:del(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..text)
redis:del(JoKeR.."Set:Cmd:Group:New"..msg.chat_id_)
redis:srem(JoKeR.."List:Cmd:Group:New"..msg.chat_id_,text)
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ╪к┘Е ╪н╪░┘Б ╪з┘Д╪з┘Е╪▒ ╪и┘Ж╪м╪з╪н ЁЯТЮ ▄░')  
else
send(msg.chat_id_, msg.id_,'▄Бр╝птФЖ┘Д╪з┘К┘И╪м╪п ╪з┘Е╪▒ ╪и┘З╪░╪з ╪з┘Д╪з╪│┘Е ЁЯТЮ ▄░')  
end
redis:del(JoKeR.."Del:Cmd:Group"..msg.chat_id_..':'..msg.sender_user_id_)
return false
end 
-------------------------------------------------------------------------------------------------------------- 
if data.message_.content_.text_ then
local NewCmmd = redis:get(JoKeR.."Set:Cmd:Group:New1"..msg.chat_id_..':'..data.message_.content_.text_)
if NewCmmd then
data.message_.content_.text_ = (NewCmmd or data.message_.content_.text_)
end
end
if (text and text == "ttttggguuu") then 
send(msg.chat_id_, msg.id_, 'kedhs')
redis:set(JoKeR.."Fun_Bots:"..msg.chat_id_,"true")
end
if (text and text == "Useuwkq ") then 
send(msg.chat_id_, msg.id_, ' ked uwiq')
redis:del(JoKeR.."Fun_Bots:"..msg.chat_id_)
end
local Name_Bot = (redis:get(JoKeR..'Name:Bot') or '╪к┘И╪▒┘К╪п┘И')
if not redis:get(JoKeR.."Fun_Bots:"..msg.chat_id_) then
if text ==  ""..Name_Bot..' ╪┤┘Ж┘И ╪▒╪ж┘К╪и┘З╪з╪░╪з' and tonumber(msg.reply_to_message_id_) > 0 then     
function FunBot(extra, result, success) 
local Fun = {'┘Д┘И┘Г┘К ┘И╪▓╪з╪н┘Б ┘Е┘Ж ╪│╪з╪╣ ╪▓╪н┘Б┘Д┘К ┘И╪н╪╢╪▒╪к┘З ЁЯШТ','╪о┘И╪┤ ┘И┘Д╪п ┘И ┘И╪▒╪п┘З ┘Е╪з┘Д ╪з┘Д┘Д┘З ЁЯТЛЁЯЩД','┘К┘Д╪╣╪и ╪╣ ╪з┘Д╪и┘Ж╪з╪к ЁЯЩД', '┘И┘Д╪п ╪▓╪з┘К╪╣╪к┘З ╪з┘Д┘Г╪з╪╣ ЁЯШ╢??','╪╡╪з┘Г ┘К╪о╪и┘Д ┘И┘Е╪╣╪╢┘Д ','┘Е╪н┘Д┘И ┘И╪┤┘И╪з╪▒╪и┘З ╪м┘Ж┘З╪з ┘Е┘Г┘Ж╪з╪│┘З ЁЯШВЁЯд╖ЁЯП╝тАНтЩАя╕П','╪з┘Е┘И╪к ╪╣┘Д┘К┘З ЁЯМЭ','┘З┘И┘З ╪║┘К╪▒ ╪з┘Д╪н╪и ┘Е╪з┘Д ╪з┘Ж┘К ЁЯдУтЭдя╕П','┘Е┘И ╪о┘И╪┤ ┘И┘Д╪п ╪╡╪▒╪з╪н┘З тШ╣я╕П','╪з╪п╪и╪│╪▓ ┘И┘Е┘К╪н╪к╪▒┘Е ╪з┘Д╪и┘Ж╪з╪к  ', '┘Б╪п ┘И╪з╪н╪п ┘В╪░╪▒ ЁЯЩДЁЯШТ','┘Е╪з╪╖┘К┘В┘З ┘Г┘Д ┘Е╪з ╪з┘Г┘Е╪┤┘З ╪▒┘К╪н╪к┘З ╪м┘Ж┘З╪з ╪и╪о╪з╪о ╪и┘Б ╪и╪з┘Б ┘Е╪з┘Д ╪н╪┤╪▒╪з╪к ЁЯШВЁЯд╖тАНтЩАя╕П','┘Е┘И ╪о┘И╪┤ ┘И┘Д╪п ЁЯдУ' } 
send(msg.chat_id_, result.id_,''..Fun[math.random(#Fun)]..'')   
end   
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, FunBot, nil)
return false
end  
if text == ""..Name_Bot..' ╪к╪н╪и ┘З' and tonumber(msg.reply_to_message_id_) > 0 then    
function FunBot(extra, result, success) 
local Fun = {'╪з┘Д┘Г╪и╪п ┘Е╪з┘Д ╪з┘Ж┘К ','┘К┘И┘Д┘К ┘Е╪з╪н╪и┘З ',' ┘Д┘▒ ╪з┘К╪╣ ','╪и╪│ ┘Д┘И ╪з┘Д┘Г┘Б┘З╪з ╪з┘Д┘З ╪з╪╣╪╢┘З╪з ЁЯТФ','┘Е╪з╪о╪и ┘Е╪╖╪з┘К┘З ╪з╪│┘Б','╪з┘Г┘Д┘Г █┐╪░янС ┘К┘Г┘Д┘К ╪з╪н╪и┘Г┘Г ┘Д┘И┘Д╪з янС▌й┘║ ╪┤╪к┘Г┘И┘Д  ','╪ж┘И┘И┘И┘И┘И┘И┘И┘И┘Б ╪з┘Е┘И╪к ╪╣ ╪▒╪и┘З ','╪з┘К╪╣╪╣╪╣╪╣╪╣╪╣╪╣╪╣╪╣','╪и┘Д╪╣╪и╪з╪│ ╪з╪╣╪┤┘Г┘Г','┘Е╪з╪н╪и ┘Е╪о╪з╪и┘К┘Д','╪з╪н╪и╪и ┘Е┘К╪п┘И ┘И╪и╪│','┘Д┘▒ ┘Е╪з╪н╪и┘З','╪и┘Д┘З ┘З╪з┘К ╪м┘З╪▒┘З ╪к┘Г┘Д┘К ╪к╪н╪и┘З┘З ╪Я ','╪и╪▒╪и┘Г ╪ж┘Ж╪к┘З ┘И╪з┘Д┘Д┘З ┘Б╪з╪▒╪║ ┘И╪и╪╖╪▒╪з┘Ж ┘И┘Е╪з╪╣╪п┘Г ╪┤┘К ╪к╪│┘И┘К ╪м╪з┘К ╪к╪│╪ж┘Д┘Ж┘К ╪з╪н╪и┘З┘Е ┘Д┘И┘Д╪з','╪з┘Б╪и╪│ ╪н╪и┘К╪и┘К ┘З╪░╪з' } 
send(msg.chat_id_,result.id_,''..Fun[math.random(#Fun)]..'') 
end  
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.reply_to_message_id_)}, FunBot, nil)
return false
end    
end
if text and text:match('^'..Name_Bot..' ') then
data.message_.content_.text_ = data.message_.content_.text_:gsub('^'..Name_Bot..' ','')
end
--------------------------------------------------------------------------------------------------------------
if msg.sender_user_id_ and Muted_User(msg.chat_id_,msg.sender_user_id_) then 
DeleteMessage(msg.chat_id_, {[0] = msg.id_})  
return false  
end
--------------------------------------------------------------------------------------------------------------
if msg.sender_user_id_ and Ban_User(msg.chat_id_,msg.sender_user_id_) then 
chat_kick(msg.chat_id_,msg.sender_user_id_) 
DeleteMessage(msg.chat_id_, {[0] = msg.id_}) 
return false  
end
--------------------------------------------------------------------------------------------------------------
if msg.content_ and msg.content_.members_ and msg.content_.members_[0] and msg.content_.members_[0].id_ and Ban_User(msg.chat_id_,msg.content_.members_[0].id_) then 
chat_kick(msg.chat_id_,msg.content_.members_[0].id_) 
DeleteMessage(msg.chat_id_, {[0] = msg.id_}) 
return false
end
--------------------------------------------------------------------------------------------------------------
if msg.sender_user_id_ and GBan_User(msg.sender_user_id_) then 
chat_kick(msg.chat_id_,msg.sender_user_id_) 
DeleteMessage(msg.chat_id_, {[0] = msg.id_}) 
return false 
end
--------------------------------------------------------------------------------------------------------------
if msg.sender_user_id_ and Gmute_User(msg.sender_user_id_) then 
DeleteMessage(msg.chat_id_, {[0] = msg.id_}) 
return false 
end
--------------------------------------------------------------------------------------------------------------
if msg.content_ and msg.content_.members_ and msg.content_.members_[0] and msg.content_.members_[0].id_ and GBan_User(msg.content_.members_[0].id_) then 
chat_kick(msg.chat_id_,msg.content_.members_[0].id_) 
DeleteMessage(msg.chat_id_, {[0] = msg.id_})  
end 
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageChatAddMembers" then  
redis:set(JoKeR.."Who:Added:Me"..msg.chat_id_..':'..msg.content_.members_[0].id_,msg.sender_user_id_)
local mem_id = msg.content_.members_  
local Bots = redis:get(JoKeR.."lock:Bot:kick"..msg.chat_id_) 
for i=0,#mem_id do  
if msg.content_.members_[i].type_.ID == "UserTypeBot" and not Mod(msg) and Bots == "kick" then   
https.request("https://api.telegram.org/bot"..token.."/kickChatMember?chat_id="..msg.chat_id_.."&user_id="..msg.sender_user_id_)
JoKeR = https.request("https://api.telegram.org/bot"..token.."/kickChatMember?chat_id="..msg.chat_id_.."&user_id="..mem_id[i].id_)
local Json_Info = JSON.decode(JoKeR)
if Json_Info.ok == true and #mem_id == i then
local Msgs = {}
Msgs[0] = msg.id_
msgs_id = msg.id_-1048576
for i=1 ,(150) do 
msgs_id = msgs_id+1048576
table.insert(Msgs,msgs_id)
end
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = Msgs},function(arg,data);MsgsDel = {};for i=0 ,data.total_count_ do;if not data.messages_[i] then;if not MsgsDel[0] then;MsgsDel[0] = Msgs[i];end;table.insert(MsgsDel,Msgs[i]);end;end;if MsgsDel[0] then;tdcli_function({ID="DeleteMessages",chat_id_ = arg.chat_id_,message_ids_=MsgsDel},function(arg,data)end,nil);end;end,{chat_id_=msg.chat_id_})
tdcli_function({ID = "GetChannelMembers",channel_id_ = getChatId(msg.chat_id_).ID,filter_ = {ID = "ChannelMembersBots"},offset_ = 0,limit_ = 100 },function(arg,tah) local admins = tah.members_ for i=0 , #admins do if tah.members_[i].status_.ID ~= "ChatMemberStatusEditor" and not is_mod(msg) then tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_ = msg.chat_id_,user_id_ = admins[i].user_id_,status_ = {ID = "ChatMemberStatusKicked"},}, function(arg,f) end, nil) end end end,nil)  
end
end     
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageChatAddMembers" then  
local mem_id = msg.content_.members_  
local Bots = redis:get(JoKeR.."lock:Bot:kick"..msg.chat_id_) 
for i=0,#mem_id do  
if msg.content_.members_[i].type_.ID == "UserTypeBot" and not Mod(msg) and Bots == "del" then   
JoKeR = https.request("https://api.telegram.org/bot"..token.."/kickChatMember?chat_id="..msg.chat_id_.."&user_id="..mem_id[i].id_)
local Json_Info = JSON.decode(JoKeR)
if Json_Info.ok == true and #mem_id == i then
local Msgs = {}
Msgs[0] = msg.id_
msgs_id = msg.id_-1048576
for i=1 ,(150) do 
msgs_id = msgs_id+1048576
table.insert(Msgs,msgs_id)
end
tdcli_function ({ID = "GetMessages",chat_id_ = msg.chat_id_,message_ids_ = Msgs},function(arg,data);MsgsDel = {};for i=0 ,data.total_count_ do;if not data.messages_[i] then;if not MsgsDel[0] then;MsgsDel[0] = Msgs[i];end;table.insert(MsgsDel,Msgs[i]);end;end;if MsgsDel[0] then;tdcli_function({ID="DeleteMessages",chat_id_ = arg.chat_id_,message_ids_=MsgsDel},function(arg,data)end,nil);end;end,{chat_id_=msg.chat_id_})
tdcli_function({ID = "GetChannelMembers",channel_id_ = getChatId(msg.chat_id_).ID,filter_ = {ID = "ChannelMembersBots"},offset_ = 0,limit_ = 100 },function(arg,tah) local admins = tah.members_ for i=0 , #admins do if tah.members_[i].status_.ID ~= "ChatMemberStatusEditor" and not is_mod(msg) then tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_ = msg.chat_id_,user_id_ = admins[i].user_id_,status_ = {ID = "ChatMemberStatusKicked"},}, function(arg,f) end, nil) end end end,nil)  
end
end     
end
end
if msg.content_.ID == 'MessagePinMessage' then
if Constructor(msg) then 
redis:set(JoKeR..'Pin:Id:Msg'..msg.chat_id_,msg.content_.message_id_)
else
local Msg_Pin = redis:get(JoKeR..'Pin:Id:Msg'..msg.chat_id_)
if Msg_Pin and redis:get(JoKeR.."lockpin"..msg.chat_id_) then
PinMessage(msg.chat_id_,Msg_Pin)
end
end
end
--------------------------------------------------------------------------------------------------------------
if msg.content_.ID == "MessageChatDeletePhoto" or msg.content_.ID == "MessageChatChangePhoto" or msg.content_.ID == 'MessagePinMessage' or msg.content_.ID == "MessageChatJoinByLink" or msg.content_.ID == "MessageChatAddMembers" or msg.content_.ID == 'MessageChatChangeTitle' or msg.content_.ID == "MessageChatDeleteMember" then   
if redis:get(JoKeR..'lock:tagservr'..msg.chat_id_) then  
DeleteMessage(msg.chat_id_,{[0] = msg.id_})       
return false
end    
end   
--------------------------------------------------------------------------------------------------------------
SourceJoKeR(data.message_,data)
FilesJoKeRTeam(data.message_)
--------------------------------------------------------------------------------------------------------------
if Chat_Type == 'GroupBot' and ChekAdd(msg.chat_id_) == true then
tdcli_function ({ID = "GetUser",user_id_ = msg.sender_user_id_},function(arg,data) 
if data.username_ then
redis:set(JoKeR..'user:Name'..msg.sender_user_id_,(data.username_))
end
--------------------------------------------------------------------------------------------------------------
if tonumber(data.id_) == tonumber(JoKeR) then
return false
end
local Getredis = redis:get(JoKeR.."Chen:Photo"..msg.sender_user_id_)
if data.profile_photo_ then  
if Getredis and Getredis ~= data.profile_photo_.id_ then 
send(msg.chat_id_,msg.id_,' ')
redis:set(JoKeR.."C:Photo"..msg.sender_user_id_, data.profile_photo_.id_) 
return false
end
end
end,nil)   
end
elseif (data.ID == "UpdateMessageEdited") then
local msg = data
tdcli_function ({ID = "GetMessage",chat_id_ = msg.chat_id_,message_id_ = tonumber(msg.message_id_)},function(extra, result, success)
redis:incr(JoKeR..'edits'..result.chat_id_..result.sender_user_id_)
local Text = result.content_.text_
if redis:get(JoKeR.."lock_edit_med"..msg.chat_id_) and not Text and not BasicConstructor(result) then
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
local username = data.username_
local name = data.first_name_
local iduser = data.id_
local users = ('[@'..data.username_..']' or iduser)
local list = redis:smembers(JoKeR..'Mod:User'..msg.chat_id_)
t = "\nЁЯЪлтФЗ ╪╣╪╢┘И ┘Е╪з ┘К╪н╪з┘И┘Д ╪к╪╣╪п┘К┘Д ╪з┘Д┘Е┘К╪п┘К╪з \n"
for k,v in pairs(list) do
local username = redis:get(JoKeR.."user:Name" .. v)
if username then
t = t..""..k.."- ([@"..username.."])\n"
else
t = t..""..k.."- (`"..v.."`)\n"
end
end
if #list == 0 then
t = "тШСя╕ПтФЗ ┘Д╪з ┘К┘И╪м╪п ╪з╪п┘Е┘Ж"
end
send(msg.chat_id_,0,''..t..'\nтФЙ  тФЙ  тФЙ  тФЙ  тФЙ  тФЙ  тФЙ  тФЙ┘┤\nтЪая╕ПтФЗ ╪к┘Е ╪з┘Д╪к╪╣╪п┘К┘Д ╪╣┘Д┘Й ╪з┘Д┘Е┘К╪п┘К╪з\nЁЯУМтФЗ ╪з┘Д╪╣╪╢┘И ╪з┘Д┘К ┘В╪з┘Е ╪и╪з┘Д╪к╪╣╪п┘К┘Д\nЁЯУотФЗ ╪з┘К╪п┘К ╪з┘Д╪╣╪╢┘И тЖР `'..result.sender_user_id_..'`\nтЫФтФЗ ┘Е╪╣╪▒┘Б ╪з┘Д╪╣╪╢┘ИтЖР{ '..users..' }') 
end,nil)
DeleteMessage(msg.chat_id_,{[0] = msg.message_id_}) 
end
local text = result.content_.text_
if not Mod(result) then
------------------------------------------------------------------------
if text:match("[Tt][Ee][Ll][Ee][Gg][Rr][Aa][Mm].[Mm][Ee]") or text:match("[Tt].[Mm][Ee]") or text:match("[Tt][Ll][Gg][Rr][Mm].[Mm][Ee]") or text:match("[Tt][Ee][Ll][Ee][Ss][Cc][Oo].[Pp][Ee]") then
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end 
end
------------------------------------------------------------------------
if text:match("[Tt][Ee][Ll][Ee][Gg][Rr][Aa][Mm].[Mm][Ee]") or text:match("[Tt].[Mm][Ee]") or text:match("[Tt][Ll][Gg][Rr][Mm].[Mm][Ee]") or text:match("[Tt][Ee][Ll][Ee][Ss][Cc][Oo].[Pp][Ee]") then
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end
------------------------------------------------------------------------
if text:match("[Tt][Ee][Ll][Ee][Gg][Rr][Aa][Mm].[Mm][Ee]") or text:match("[Tt].[Mm][Ee]") or text:match("[Tt][Ll][Gg][Rr][Mm].[Mm][Ee]") or text:match("[Tt][Ee][Ll][Ee][Ss][Cc][Oo].[Pp][Ee]") then
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end 
------------------------------------------------------------------------
if text:match("[hH][tT][tT][pP][sT]") or text:match("[tT][eE][lL][eE][gG][rR][aA].[Pp][Hh]") or text:match("[Tt][Ee][Ll][Ee][Gg][Rr][Aa].[Pp][Hh]") then
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end
------------------------------------------------------------------------
if text:match("[Hh][Tt][Tt][Pp]://[Ww][Ww][Ww].[Ii][Nn][Ss][Tt][Aa][Gg][Rr][Aa][Mm].[Cc][Oo][Mm]")  then
if redis:get(JoKeR.."lock:Link"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end 
end
------------------------------------------------------------------------
if text:match("(.*)(@)(.*)") then
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end
------------------------------------------------------------------------
if text:match("@") then
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end 
------------------------------------------------------------------------
if text:match("(.*)(#)(.*)") then
if redis:get(JoKeR.."lock:hashtak"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end 
------------------------------------------------------------------------
if text:match("#") then
if redis:get(JoKeR.."lock:user:name"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end  
end 
------------------------------------------------------------------------
local JoKeRAbot = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp2"..text..result.chat_id_)   
if JoKeRAbot then    
tdcli_function ({ID = "GetUser",user_id_ = result.sender_user_id_},function(arg,data) 
if data.username_ ~= false then
send(msg.chat_id_,0,"тЪатФЗ╪з┘Д╪╣╪╢┘И : {["..data.first_name_.."](T.ME/"..data.username_..")}\nЁЯЪлтФЗ["..JoKeRAbot.."] \n") 
else
send(msg.chat_id_,0,"тЪатФЗ╪з┘Д╪╣╪╢┘И : {["..data.first_name_.."](T.ME/JoKeR_aHs)}\nЁЯЪлтФЗ["..JoKeRAbot.."] \n") 
end
end,nil)   
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end
------------------------------------------------------------------------
if text:match("/") then
if redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end 
end 
if text:match("(.*)(/)(.*)") then
if redis:get(JoKeR.."lock:Cmd"..msg.chat_id_) then
DeleteMessage(msg.chat_id_,{[0] = data.message_id_}) 
return false
end 
end
------------------------------------------------------------------------
if text then
local JoKeR1_Msg = redis:get(JoKeR.."JoKeR1:Add:Filter:Rp2"..text..result.chat_id_)   
if JoKeR1_Msg then    
send(msg.chat_id_, msg.id_,"ЁЯФЦтФЗ"..JoKeR1_Msg)
DeleteMessage(result.chat_id_, {[0] = data.message_id_})     
return false
end
end
end
end,nil)
------------------------------------------------------------------------

elseif (data.ID == "UpdateOption" and data.name_ == "my_id") then 
local list = redis:smembers(JoKeR.."User_Bot") 
for k,v in pairs(list) do 
tdcli_function({ID='GetChat',chat_id_ = v},function(arg,data) end,nil) 
end         
local list = redis:smembers(JoKeR..'Chek:Groups') 
for k,v in pairs(list) do 
tdcli_function({ID='GetChat',chat_id_ = v
},function(arg,data)
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusMember" then
redis:srem(JoKeR..'Chek:Groups',v)  
tdcli_function ({ID = "ChangeChatMemberStatus",chat_id_=v,user_id_=JoKeR,status_={ID = "ChatMemberStatusLeft"},},function(e,g) end, nil) 
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusLeft" then
redis:srem(JoKeR..'Chek:Groups',v)  
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusKicked" then
redis:srem(JoKeR..'Chek:Groups',v)  
end
if data and data.code_ and data.code_ == 400 then
redis:srem(JoKeR..'Chek:Groups',v)  
end
if data and data.type_ and data.type_.channel_ and data.type_.channel_.status_ and data.type_.channel_.status_.ID == "ChatMemberStatusEditor" then
redis:sadd(JoKeR..'Chek:Groups',v)  
end 
end,nil)
end

elseif (data.ID == "UpdateMessageSendSucceeded") then
local msg = data.message_
local text = msg.content_.text_
local Get_Msg_Pin = redis:get(JoKeR..'Msg:Pin:Chat'..msg.chat_id_)
if Get_Msg_Pin ~= nil then
if text == Get_Msg_Pin then
tdcli_function ({ID = "PinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100',''),message_id_ = msg.id_,disable_notification_ = 0},function(arg,d) if d.ID == 'Ok' then;redis:del(JoKeR..'Msg:Pin:Chat'..msg.chat_id_);end;end,nil)   
elseif (msg.content_.sticker_) then 
if Get_Msg_Pin == msg.content_.sticker_.sticker_.persistent_id_ then
tdcli_function ({ID = "PinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100',''),message_id_ = msg.id_,disable_notification_ = 0},function(arg,d) redis:del(JoKeR..'Msg:Pin:Chat'..msg.chat_id_) end,nil)   
end
end
if (msg.content_.animation_) then 
if msg.content_.animation_.animation_.persistent_id_ == Get_Msg_Pin then
tdcli_function ({ID = "PinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100',''),message_id_ = msg.id_,disable_notification_ = 0},function(arg,d) redis:del(JoKeR..'Msg:Pin:Chat'..msg.chat_id_) end,nil)   
end
end

if (msg.content_.photo_) then
if msg.content_.photo_.sizes_[0] then
id_photo = msg.content_.photo_.sizes_[0].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[1] then
id_photo = msg.content_.photo_.sizes_[1].photo_.persistent_id_
end
if msg.content_.photo_.sizes_[2] then
id_photo = msg.content_.photo_.sizes_[2].photo_.persistent_id_
end	
if msg.content_.photo_.sizes_[3] then
id_photo = msg.content_.photo_.sizes_[3].photo_.persistent_id_
end
if id_photo == Get_Msg_Pin then
tdcli_function ({ID = "PinChannelMessage",channel_id_ = msg.chat_id_:gsub('-100',''),message_id_ = msg.id_,disable_notification_ = 0},function(arg,d) redis:del(JoKeR..'Msg:Pin:Chat'..msg.chat_id_) end,nil)   
end
end
end


end -- end new msg
end -- end callback














